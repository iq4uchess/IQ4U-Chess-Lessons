(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=s(o);fetch(o.href,u)}})();function iE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var dh={exports:{}},Ia={};var by;function jT(){if(by)return Ia;by=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Ia.Fragment=e,Ia.jsx=s,Ia.jsxs=s,Ia}var Sy;function VT(){return Sy||(Sy=1,dh.exports=jT()),dh.exports}var q=VT(),ph={exports:{}},se={};var Cy;function GT(){if(Cy)return se;Cy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=E&&C[E]||C["@@iterator"],typeof C=="function"?C:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,B={};function j(C,x,H){this.props=C,this.context=x,this.refs=B,this.updater=H||N}j.prototype.isReactComponent={},j.prototype.setState=function(C,x){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,x,"setState")},j.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function P(){}P.prototype=j.prototype;function V(C,x,H){this.props=C,this.context=x,this.refs=B,this.updater=H||N}var oe=V.prototype=new P;oe.constructor=V,k(oe,j.prototype),oe.isPureReactComponent=!0;var W=Array.isArray;function Ce(){}var Z={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function ke(C,x,H){var Y=H.ref;return{$$typeof:n,type:C,key:x,ref:Y!==void 0?Y:null,props:H}}function Ue(C,x){return ke(C.type,x,C.props)}function Be(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function Ke(C){var x={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(H){return x[H]})}var _n=/\/+/g;function Yt(C,x){return typeof C=="object"&&C!==null&&C.key!=null?Ke(""+C.key):x.toString(36)}function Te(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Ce,Ce):(C.status="pending",C.then(function(x){C.status==="pending"&&(C.status="fulfilled",C.value=x)},function(x){C.status==="pending"&&(C.status="rejected",C.reason=x)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function M(C,x,H,Y,$){var re=typeof C;(re==="undefined"||re==="boolean")&&(C=null);var de=!1;if(C===null)de=!0;else switch(re){case"bigint":case"string":case"number":de=!0;break;case"object":switch(C.$$typeof){case n:case e:de=!0;break;case v:return de=C._init,M(de(C._payload),x,H,Y,$)}}if(de)return $=$(C),de=Y===""?"."+Yt(C,0):Y,W($)?(H="",de!=null&&(H=de.replace(_n,"$&/")+"/"),M($,x,H,"",function(Hr){return Hr})):$!=null&&(Be($)&&($=Ue($,H+($.key==null||C&&C.key===$.key?"":(""+$.key).replace(_n,"$&/")+"/")+de)),x.push($)),1;de=0;var _t=Y===""?".":Y+":";if(W(C))for(var Qe=0;Qe<C.length;Qe++)Y=C[Qe],re=_t+Yt(Y,Qe),de+=M(Y,x,H,re,$);else if(Qe=w(C),typeof Qe=="function")for(C=Qe.call(C),Qe=0;!(Y=C.next()).done;)Y=Y.value,re=_t+Yt(Y,Qe++),de+=M(Y,x,H,re,$);else if(re==="object"){if(typeof C.then=="function")return M(Te(C),x,H,Y,$);throw x=String(C),Error("Objects are not valid as a React child (found: "+(x==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":x)+"). If you meant to render a collection of children, use an array instead.")}return de}function F(C,x,H){if(C==null)return C;var Y=[],$=0;return M(C,Y,"","",function(re){return x.call(H,re,$++)}),Y}function te(C){if(C._status===-1){var x=C._result;x=x(),x.then(function(H){(C._status===0||C._status===-1)&&(C._status=1,C._result=H)},function(H){(C._status===0||C._status===-1)&&(C._status=2,C._result=H)}),C._status===-1&&(C._status=0,C._result=x)}if(C._status===1)return C._result.default;throw C._result}var Se=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var x=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(x))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},we={map:F,forEach:function(C,x,H){F(C,function(){x.apply(this,arguments)},H)},count:function(C){var x=0;return F(C,function(){x++}),x},toArray:function(C){return F(C,function(x){return x})||[]},only:function(C){if(!Be(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return se.Activity=_,se.Children=we,se.Component=j,se.Fragment=s,se.Profiler=o,se.PureComponent=V,se.StrictMode=r,se.Suspense=m,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,se.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Z.H.useMemoCache(C)}},se.cache=function(C){return function(){return C.apply(null,arguments)}},se.cacheSignal=function(){return null},se.cloneElement=function(C,x,H){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var Y=k({},C.props),$=C.key;if(x!=null)for(re in x.key!==void 0&&($=""+x.key),x)!ee.call(x,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&x.ref===void 0||(Y[re]=x[re]);var re=arguments.length-2;if(re===1)Y.children=H;else if(1<re){for(var de=Array(re),_t=0;_t<re;_t++)de[_t]=arguments[_t+2];Y.children=de}return ke(C.type,$,Y)},se.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},se.createElement=function(C,x,H){var Y,$={},re=null;if(x!=null)for(Y in x.key!==void 0&&(re=""+x.key),x)ee.call(x,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&($[Y]=x[Y]);var de=arguments.length-2;if(de===1)$.children=H;else if(1<de){for(var _t=Array(de),Qe=0;Qe<de;Qe++)_t[Qe]=arguments[Qe+2];$.children=_t}if(C&&C.defaultProps)for(Y in de=C.defaultProps,de)$[Y]===void 0&&($[Y]=de[Y]);return ke(C,re,$)},se.createRef=function(){return{current:null}},se.forwardRef=function(C){return{$$typeof:d,render:C}},se.isValidElement=Be,se.lazy=function(C){return{$$typeof:v,_payload:{_status:-1,_result:C},_init:te}},se.memo=function(C,x){return{$$typeof:p,type:C,compare:x===void 0?null:x}},se.startTransition=function(C){var x=Z.T,H={};Z.T=H;try{var Y=C(),$=Z.S;$!==null&&$(H,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Ce,Se)}catch(re){Se(re)}finally{x!==null&&H.types!==null&&(x.types=H.types),Z.T=x}},se.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},se.use=function(C){return Z.H.use(C)},se.useActionState=function(C,x,H){return Z.H.useActionState(C,x,H)},se.useCallback=function(C,x){return Z.H.useCallback(C,x)},se.useContext=function(C){return Z.H.useContext(C)},se.useDebugValue=function(){},se.useDeferredValue=function(C,x){return Z.H.useDeferredValue(C,x)},se.useEffect=function(C,x){return Z.H.useEffect(C,x)},se.useEffectEvent=function(C){return Z.H.useEffectEvent(C)},se.useId=function(){return Z.H.useId()},se.useImperativeHandle=function(C,x,H){return Z.H.useImperativeHandle(C,x,H)},se.useInsertionEffect=function(C,x){return Z.H.useInsertionEffect(C,x)},se.useLayoutEffect=function(C,x){return Z.H.useLayoutEffect(C,x)},se.useMemo=function(C,x){return Z.H.useMemo(C,x)},se.useOptimistic=function(C,x){return Z.H.useOptimistic(C,x)},se.useReducer=function(C,x,H){return Z.H.useReducer(C,x,H)},se.useRef=function(C){return Z.H.useRef(C)},se.useState=function(C){return Z.H.useState(C)},se.useSyncExternalStore=function(C,x,H){return Z.H.useSyncExternalStore(C,x,H)},se.useTransition=function(){return Z.H.useTransition()},se.version="19.2.3",se}var Ty;function hd(){return Ty||(Ty=1,ph.exports=GT()),ph.exports}var D=hd();const YT=iE(D);var mh={exports:{}},xa={},gh={exports:{}},_h={};var wy;function FT(){return wy||(wy=1,(function(n){function e(M,F){var te=M.length;M.push(F);e:for(;0<te;){var Se=te-1>>>1,we=M[Se];if(0<o(we,F))M[Se]=F,M[te]=we,te=Se;else break e}}function s(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var F=M[0],te=M.pop();if(te!==F){M[0]=te;e:for(var Se=0,we=M.length,C=we>>>1;Se<C;){var x=2*(Se+1)-1,H=M[x],Y=x+1,$=M[Y];if(0>o(H,te))Y<we&&0>o($,H)?(M[Se]=$,M[Y]=te,Se=Y):(M[Se]=H,M[x]=te,Se=x);else if(Y<we&&0>o($,te))M[Se]=$,M[Y]=te,Se=Y;else break e}}return F}function o(M,F){var te=M.sortIndex-F.sortIndex;return te!==0?te:M.id-F.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();n.unstable_now=function(){return f.now()-d}}var m=[],p=[],v=1,_=null,E=3,w=!1,N=!1,k=!1,B=!1,j=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function oe(M){for(var F=s(p);F!==null;){if(F.callback===null)r(p);else if(F.startTime<=M)r(p),F.sortIndex=F.expirationTime,e(m,F);else break;F=s(p)}}function W(M){if(k=!1,oe(M),!N)if(s(m)!==null)N=!0,Ce||(Ce=!0,Ke());else{var F=s(p);F!==null&&Te(W,F.startTime-M)}}var Ce=!1,Z=-1,ee=5,ke=-1;function Ue(){return B?!0:!(n.unstable_now()-ke<ee)}function Be(){if(B=!1,Ce){var M=n.unstable_now();ke=M;var F=!0;try{e:{N=!1,k&&(k=!1,P(Z),Z=-1),w=!0;var te=E;try{t:{for(oe(M),_=s(m);_!==null&&!(_.expirationTime>M&&Ue());){var Se=_.callback;if(typeof Se=="function"){_.callback=null,E=_.priorityLevel;var we=Se(_.expirationTime<=M);if(M=n.unstable_now(),typeof we=="function"){_.callback=we,oe(M),F=!0;break t}_===s(m)&&r(m),oe(M)}else r(m);_=s(m)}if(_!==null)F=!0;else{var C=s(p);C!==null&&Te(W,C.startTime-M),F=!1}}break e}finally{_=null,E=te,w=!1}F=void 0}}finally{F?Ke():Ce=!1}}}var Ke;if(typeof V=="function")Ke=function(){V(Be)};else if(typeof MessageChannel<"u"){var _n=new MessageChannel,Yt=_n.port2;_n.port1.onmessage=Be,Ke=function(){Yt.postMessage(null)}}else Ke=function(){j(Be,0)};function Te(M,F){Z=j(function(){M(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(M){M.callback=null},n.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<M?Math.floor(1e3/M):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(M){switch(E){case 1:case 2:case 3:var F=3;break;default:F=E}var te=E;E=F;try{return M()}finally{E=te}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(M,F){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var te=E;E=M;try{return F()}finally{E=te}},n.unstable_scheduleCallback=function(M,F,te){var Se=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Se+te:Se):te=Se,M){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=te+we,M={id:v++,callback:F,priorityLevel:M,startTime:te,expirationTime:we,sortIndex:-1},te>Se?(M.sortIndex=te,e(p,M),s(m)===null&&M===s(p)&&(k?(P(Z),Z=-1):k=!0,Te(W,te-Se))):(M.sortIndex=we,e(m,M),N||w||(N=!0,Ce||(Ce=!0,Ke()))),M},n.unstable_shouldYield=Ue,n.unstable_wrapCallback=function(M){var F=E;return function(){var te=E;E=F;try{return M.apply(this,arguments)}finally{E=te}}}})(_h)),_h}var Ay;function KT(){return Ay||(Ay=1,gh.exports=FT()),gh.exports}var yh={exports:{}},mt={};var Ry;function QT(){if(Ry)return mt;Ry=1;var n=hd();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:m,containerInfo:p,implementation:v}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mt.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(m,p,null,v)},mt.flushSync=function(m){var p=f.T,v=r.p;try{if(f.T=null,r.p=2,m)return m()}finally{f.T=p,r.p=v,r.d.f()}},mt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},mt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},mt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,_=d(v,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:w}):v==="script"&&r.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},mt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},mt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=d(v,p.crossOrigin);r.d.L(m,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},mt.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=d(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},mt.requestFormReset=function(m){r.d.r(m)},mt.unstable_batchedUpdates=function(m,p){return m(p)},mt.useFormState=function(m,p,v){return f.H.useFormState(m,p,v)},mt.useFormStatus=function(){return f.H.useHostTransitionStatus()},mt.version="19.2.3",mt}var Ny;function WT(){if(Ny)return yh.exports;Ny=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yh.exports=QT(),yh.exports}var Oy;function XT(){if(Oy)return xa;Oy=1;var n=KT(),e=hd(),s=WT();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function d(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(r(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return m(c),t;if(h===l)return m(c),i;h=h.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=h;else{for(var g=!1,y=c.child;y;){if(y===a){g=!0,a=c,l=h;break}if(y===l){g=!0,l=c,a=h;break}y=y.sibling}if(!g){for(y=h.child;y;){if(y===a){g=!0,a=h,l=c;break}if(y===l){g=!0,l=h,a=c;break}y=y.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),V=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ke=Symbol.for("react.activity"),Ue=Symbol.for("react.memo_cache_sentinel"),Be=Symbol.iterator;function Ke(t){return t===null||typeof t!="object"?null:(t=Be&&t[Be]||t["@@iterator"],typeof t=="function"?t:null)}var _n=Symbol.for("react.client.reference");function Yt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===_n?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case j:return"Profiler";case B:return"StrictMode";case W:return"Suspense";case Ce:return"SuspenseList";case ke:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case V:return t.displayName||"Context";case P:return(t._context.displayName||"Context")+".Consumer";case oe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z:return i=t.displayName||null,i!==null?i:Yt(t.type)||"Memo";case ee:i=t._payload,t=t._init;try{return Yt(t(i))}catch{}}return null}var Te=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Se=[],we=-1;function C(t){return{current:t}}function x(t){0>we||(t.current=Se[we],Se[we]=null,we--)}function H(t,i){we++,Se[we]=t.current,t.current=i}var Y=C(null),$=C(null),re=C(null),de=C(null);function _t(t,i){switch(H(re,i),H($,t),H(Y,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?G_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=G_(i),t=Y_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}x(Y),H(Y,t)}function Qe(){x(Y),x($),x(re)}function Hr(t){t.memoizedState!==null&&H(de,t);var i=Y.current,a=Y_(i,t.type);i!==a&&(H($,t),H(Y,a))}function Tl(t){$.current===t&&(x(Y),x($)),de.current===t&&(x(de),Na._currentValue=te)}var Qu,Ep;function Qi(t){if(Qu===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Qu=i&&i[1]||"",Ep=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qu+t+Ep}var Wu=!1;function Xu(t,i){if(!t||Wu)return"";Wu=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(I){var O=I}Reflect.construct(t,[],z)}else{try{z.call()}catch(I){O=I}t.call(z.prototype)}}else{try{throw Error()}catch(I){O=I}(z=t())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(I){if(I&&O&&typeof I.stack=="string")return[I.stack,O.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),g=h[0],y=h[1];if(g&&y){var b=g.split(`
`),R=y.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===R.length)for(l=b.length-1,c=R.length-1;1<=l&&0<=c&&b[l]!==R[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==R[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==R[c]){var L=`
`+b[l].replace(" at new "," at ");return t.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",t.displayName)),L}while(1<=l&&0<=c);break}}}finally{Wu=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Qi(a):""}function v0(t,i){switch(t.tag){case 26:case 27:case 5:return Qi(t.type);case 16:return Qi("Lazy");case 13:return t.child!==i&&i!==null?Qi("Suspense Fallback"):Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 15:return Xu(t.type,!1);case 11:return Xu(t.type.render,!1);case 1:return Xu(t.type,!0);case 31:return Qi("Activity");default:return""}}function bp(t){try{var i="",a=null;do i+=v0(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Zu=Object.prototype.hasOwnProperty,$u=n.unstable_scheduleCallback,Ju=n.unstable_cancelCallback,E0=n.unstable_shouldYield,b0=n.unstable_requestPaint,Lt=n.unstable_now,S0=n.unstable_getCurrentPriorityLevel,Sp=n.unstable_ImmediatePriority,Cp=n.unstable_UserBlockingPriority,wl=n.unstable_NormalPriority,C0=n.unstable_LowPriority,Tp=n.unstable_IdlePriority,T0=n.log,w0=n.unstable_setDisableYieldValue,Br=null,Ut=null;function si(t){if(typeof T0=="function"&&w0(t),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Br,t)}catch{}}var zt=Math.clz32?Math.clz32:N0,A0=Math.log,R0=Math.LN2;function N0(t){return t>>>=0,t===0?32:31-(A0(t)/R0|0)|0}var Al=256,Rl=262144,Nl=4194304;function Wi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ol(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var y=l&134217727;return y!==0?(l=y&~h,l!==0?c=Wi(l):(g&=y,g!==0?c=Wi(g):a||(a=y&~t,a!==0&&(c=Wi(a))))):(y=l&~h,y!==0?c=Wi(y):g!==0?c=Wi(g):a||(a=l&~t,a!==0&&(c=Wi(a)))),c===0?0:i!==0&&i!==c&&(i&h)===0&&(h=c&-c,a=i&-i,h>=a||h===32&&(a&4194048)!==0)?i:c}function qr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function O0(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wp(){var t=Nl;return Nl<<=1,(Nl&62914560)===0&&(Nl=4194304),t}function ec(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function jr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function D0(t,i,a,l,c,h){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var y=t.entanglements,b=t.expirationTimes,R=t.hiddenUpdates;for(a=g&~a;0<a;){var L=31-zt(a),z=1<<L;y[L]=0,b[L]=-1;var O=R[L];if(O!==null)for(R[L]=null,L=0;L<O.length;L++){var I=O[L];I!==null&&(I.lane&=-536870913)}a&=~z}l!==0&&Ap(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~i))}function Ap(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-zt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Rp(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-zt(a),c=1<<l;c&i|t[l]&i&&(t[l]|=i),a&=~c}}function Np(t,i){var a=i&-i;return a=(a&42)!==0?1:tc(a),(a&(t.suspendedLanes|i))!==0?0:a}function tc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function nc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Op(){var t=F.p;return t!==0?t:(t=window.event,t===void 0?32:py(t.type))}function Dp(t,i){var a=F.p;try{return F.p=t,i()}finally{F.p=a}}var ri=Math.random().toString(36).slice(2),ct="__reactFiber$"+ri,Ct="__reactProps$"+ri,Ds="__reactContainer$"+ri,ic="__reactEvents$"+ri,M0="__reactListeners$"+ri,I0="__reactHandles$"+ri,Mp="__reactResources$"+ri,Vr="__reactMarker$"+ri;function sc(t){delete t[ct],delete t[Ct],delete t[ic],delete t[M0],delete t[I0]}function Ms(t){var i=t[ct];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ds]||a[ct]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=$_(t);t!==null;){if(a=t[ct])return a;t=$_(t)}return i}t=a,a=t.parentNode}return null}function Is(t){if(t=t[ct]||t[Ds]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Gr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function xs(t){var i=t[Mp];return i||(i=t[Mp]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function rt(t){t[Vr]=!0}var Ip=new Set,xp={};function Xi(t,i){ks(t,i),ks(t+"Capture",i)}function ks(t,i){for(xp[t]=i,t=0;t<i.length;t++)Ip.add(i[t])}var x0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kp={},Lp={};function k0(t){return Zu.call(Lp,t)?!0:Zu.call(kp,t)?!1:x0.test(t)?Lp[t]=!0:(kp[t]=!0,!1)}function Dl(t,i,a){if(k0(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Ml(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Rn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Up(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function L0(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,h.call(this,g)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function rc(t){if(!t._valueTracker){var i=Up(t)?"checked":"value";t._valueTracker=L0(t,i,""+t[i])}}function zp(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Up(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Il(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var U0=/[\n"\\]/g;function Kt(t){return t.replace(U0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ac(t,i,a,l,c,h,g,y){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),i!=null?g==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ft(i)):t.value!==""+Ft(i)&&(t.value=""+Ft(i)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),i!=null?lc(t,g,Ft(i)):a!=null?lc(t,g,Ft(a)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.name=""+Ft(y):t.removeAttribute("name")}function Pp(t,i,a,l,c,h,g,y){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),i!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||i!=null)){rc(t);return}a=a!=null?""+Ft(a):"",i=i!=null?""+Ft(i):a,y||i===t.value||(t.value=i),t.defaultValue=i}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=y?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),rc(t)}function lc(t,i,a){i==="number"&&Il(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ls(t,i,a,l){if(t=t.options,i){i={};for(var c=0;c<a.length;c++)i["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=i.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ft(a),i=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}i!==null||t[c].disabled||(i=t[c])}i!==null&&(i.selected=!0)}}function Hp(t,i,a){if(i!=null&&(i=""+Ft(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ft(a):""}function Bp(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Te(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ft(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),rc(t)}function Us(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var z0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qp(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||z0.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function jp(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in i)l=i[c],i.hasOwnProperty(c)&&a[c]!==l&&qp(t,c,l)}else for(var h in i)i.hasOwnProperty(h)&&qp(t,h,i[h])}function oc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var P0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),H0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xl(t){return H0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Nn(){}var uc=null;function cc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zs=null,Ps=null;function Vp(t){var i=Is(t);if(i&&(t=i.stateNode)){var a=t[Ct]||null;e:switch(t=i.stateNode,i.type){case"input":if(ac(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Kt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var c=l[Ct]||null;if(!c)throw Error(r(90));ac(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&zp(l)}break e;case"textarea":Hp(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ls(t,!!a.multiple,i,!1)}}}var fc=!1;function Gp(t,i,a){if(fc)return t(i,a);fc=!0;try{var l=t(i);return l}finally{if(fc=!1,(zs!==null||Ps!==null)&&(bo(),zs&&(i=zs,t=Ps,Ps=zs=null,Vp(i),t)))for(i=0;i<t.length;i++)Vp(t[i])}}function Yr(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ct]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hc=!1;if(On)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){hc=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{hc=!1}var ai=null,dc=null,kl=null;function Yp(){if(kl)return kl;var t,i=dc,a=i.length,l,c="value"in ai?ai.value:ai.textContent,h=c.length;for(t=0;t<a&&i[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&i[a-l]===c[h-l];l++);return kl=c.slice(t,1<l?1-l:void 0)}function Ll(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ul(){return!0}function Fp(){return!1}function Tt(t){function i(a,l,c,h,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var y in t)t.hasOwnProperty(y)&&(a=t[y],this[y]=a?a(h):h[y]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ul:Fp,this.isPropagationStopped=Fp,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),i}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zl=Tt(Zi),Kr=_({},Zi,{view:0,detail:0}),B0=Tt(Kr),pc,mc,Qr,Pl=_({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_c,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qr&&(Qr&&t.type==="mousemove"?(pc=t.screenX-Qr.screenX,mc=t.screenY-Qr.screenY):mc=pc=0,Qr=t),pc)},movementY:function(t){return"movementY"in t?t.movementY:mc}}),Kp=Tt(Pl),q0=_({},Pl,{dataTransfer:0}),j0=Tt(q0),V0=_({},Kr,{relatedTarget:0}),gc=Tt(V0),G0=_({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Y0=Tt(G0),F0=_({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),K0=Tt(F0),Q0=_({},Zi,{data:0}),Qp=Tt(Q0),W0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $0(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Z0[t])?!!i[t]:!1}function _c(){return $0}var J0=_({},Kr,{key:function(t){if(t.key){var i=W0[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ll(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?X0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_c,charCode:function(t){return t.type==="keypress"?Ll(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ll(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eC=Tt(J0),tC=_({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wp=Tt(tC),nC=_({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_c}),iC=Tt(nC),sC=_({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),rC=Tt(sC),aC=_({},Pl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lC=Tt(aC),oC=_({},Zi,{newState:0,oldState:0}),uC=Tt(oC),cC=[9,13,27,32],yc=On&&"CompositionEvent"in window,Wr=null;On&&"documentMode"in document&&(Wr=document.documentMode);var fC=On&&"TextEvent"in window&&!Wr,Xp=On&&(!yc||Wr&&8<Wr&&11>=Wr),Zp=" ",$p=!1;function Jp(t,i){switch(t){case"keyup":return cC.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function em(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hs=!1;function hC(t,i){switch(t){case"compositionend":return em(i);case"keypress":return i.which!==32?null:($p=!0,Zp);case"textInput":return t=i.data,t===Zp&&$p?null:t;default:return null}}function dC(t,i){if(Hs)return t==="compositionend"||!yc&&Jp(t,i)?(t=Yp(),kl=dc=ai=null,Hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Xp&&i.locale!=="ko"?null:i.data;default:return null}}var pC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tm(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!pC[t.type]:i==="textarea"}function nm(t,i,a,l){zs?Ps?Ps.push(l):Ps=[l]:zs=l,i=No(i,"onChange"),0<i.length&&(a=new zl("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Xr=null,Zr=null;function mC(t){P_(t,0)}function Hl(t){var i=Gr(t);if(zp(i))return t}function im(t,i){if(t==="change")return i}var sm=!1;if(On){var vc;if(On){var Ec="oninput"in document;if(!Ec){var rm=document.createElement("div");rm.setAttribute("oninput","return;"),Ec=typeof rm.oninput=="function"}vc=Ec}else vc=!1;sm=vc&&(!document.documentMode||9<document.documentMode)}function am(){Xr&&(Xr.detachEvent("onpropertychange",lm),Zr=Xr=null)}function lm(t){if(t.propertyName==="value"&&Hl(Zr)){var i=[];nm(i,Zr,t,cc(t)),Gp(mC,i)}}function gC(t,i,a){t==="focusin"?(am(),Xr=i,Zr=a,Xr.attachEvent("onpropertychange",lm)):t==="focusout"&&am()}function _C(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hl(Zr)}function yC(t,i){if(t==="click")return Hl(i)}function vC(t,i){if(t==="input"||t==="change")return Hl(i)}function EC(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Pt=typeof Object.is=="function"?Object.is:EC;function $r(t,i){if(Pt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Zu.call(i,c)||!Pt(t[c],i[c]))return!1}return!0}function om(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function um(t,i){var a=om(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=om(a)}}function cm(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?cm(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function fm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Il(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Il(t.document)}return i}function bc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var bC=On&&"documentMode"in document&&11>=document.documentMode,Bs=null,Sc=null,Jr=null,Cc=!1;function hm(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Cc||Bs==null||Bs!==Il(l)||(l=Bs,"selectionStart"in l&&bc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jr&&$r(Jr,l)||(Jr=l,l=No(Sc,"onSelect"),0<l.length&&(i=new zl("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Bs)))}function $i(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var qs={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionrun:$i("Transition","TransitionRun"),transitionstart:$i("Transition","TransitionStart"),transitioncancel:$i("Transition","TransitionCancel"),transitionend:$i("Transition","TransitionEnd")},Tc={},dm={};On&&(dm=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function Ji(t){if(Tc[t])return Tc[t];if(!qs[t])return t;var i=qs[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in dm)return Tc[t]=i[a];return t}var pm=Ji("animationend"),mm=Ji("animationiteration"),gm=Ji("animationstart"),SC=Ji("transitionrun"),CC=Ji("transitionstart"),TC=Ji("transitioncancel"),_m=Ji("transitionend"),ym=new Map,wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wc.push("scrollEnd");function an(t,i){ym.set(t,i),Xi(i,[t])}var Bl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Qt=[],js=0,Ac=0;function ql(){for(var t=js,i=Ac=js=0;i<t;){var a=Qt[i];Qt[i++]=null;var l=Qt[i];Qt[i++]=null;var c=Qt[i];Qt[i++]=null;var h=Qt[i];if(Qt[i++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}h!==0&&vm(a,c,h)}}function jl(t,i,a,l){Qt[js++]=t,Qt[js++]=i,Qt[js++]=a,Qt[js++]=l,Ac|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Rc(t,i,a,l){return jl(t,i,a,l),Vl(t)}function es(t,i){return jl(t,null,null,i),Vl(t)}function vm(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&i!==null&&(c=31-zt(a),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[i]:l.push(i),i.lane=a|536870912),h):null}function Vl(t){if(50<ba)throw ba=0,zf=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Vs={};function wC(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(t,i,a,l){return new wC(t,i,a,l)}function Nc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Dn(t,i){var a=t.alternate;return a===null?(a=Ht(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Em(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Gl(t,i,a,l,c,h){var g=0;if(l=t,typeof t=="function")Nc(t)&&(g=1);else if(typeof t=="string")g=DT(t,a,Y.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ke:return t=Ht(31,a,i,c),t.elementType=ke,t.lanes=h,t;case k:return ts(a.children,c,h,i);case B:g=8,c|=24;break;case j:return t=Ht(12,a,i,c|2),t.elementType=j,t.lanes=h,t;case W:return t=Ht(13,a,i,c),t.elementType=W,t.lanes=h,t;case Ce:return t=Ht(19,a,i,c),t.elementType=Ce,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V:g=10;break e;case P:g=9;break e;case oe:g=11;break e;case Z:g=14;break e;case ee:g=16,l=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=Ht(g,a,i,c),i.elementType=t,i.type=l,i.lanes=h,i}function ts(t,i,a,l){return t=Ht(7,t,l,i),t.lanes=a,t}function Oc(t,i,a){return t=Ht(6,t,null,i),t.lanes=a,t}function bm(t){var i=Ht(18,null,null,0);return i.stateNode=t,i}function Dc(t,i,a){return i=Ht(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Sm=new WeakMap;function Wt(t,i){if(typeof t=="object"&&t!==null){var a=Sm.get(t);return a!==void 0?a:(i={value:t,source:i,stack:bp(i)},Sm.set(t,i),i)}return{value:t,source:i,stack:bp(i)}}var Gs=[],Ys=0,Yl=null,ea=0,Xt=[],Zt=0,li=null,yn=1,vn="";function Mn(t,i){Gs[Ys++]=ea,Gs[Ys++]=Yl,Yl=t,ea=i}function Cm(t,i,a){Xt[Zt++]=yn,Xt[Zt++]=vn,Xt[Zt++]=li,li=t;var l=yn;t=vn;var c=32-zt(l)-1;l&=~(1<<c),a+=1;var h=32-zt(i)+c;if(30<h){var g=c-c%5;h=(l&(1<<g)-1).toString(32),l>>=g,c-=g,yn=1<<32-zt(i)+c|a<<c|l,vn=h+t}else yn=1<<h|a<<c|l,vn=t}function Mc(t){t.return!==null&&(Mn(t,1),Cm(t,1,0))}function Ic(t){for(;t===Yl;)Yl=Gs[--Ys],Gs[Ys]=null,ea=Gs[--Ys],Gs[Ys]=null;for(;t===li;)li=Xt[--Zt],Xt[Zt]=null,vn=Xt[--Zt],Xt[Zt]=null,yn=Xt[--Zt],Xt[Zt]=null}function Tm(t,i){Xt[Zt++]=yn,Xt[Zt++]=vn,Xt[Zt++]=li,yn=i.id,vn=i.overflow,li=t}var ft=null,ze=null,_e=!1,oi=null,$t=!1,xc=Error(r(519));function ui(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ta(Wt(i,t)),xc}function wm(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[ct]=t,i[Ct]=l,a){case"dialog":fe("cancel",i),fe("close",i);break;case"iframe":case"object":case"embed":fe("load",i);break;case"video":case"audio":for(a=0;a<Ca.length;a++)fe(Ca[a],i);break;case"source":fe("error",i);break;case"img":case"image":case"link":fe("error",i),fe("load",i);break;case"details":fe("toggle",i);break;case"input":fe("invalid",i),Pp(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":fe("invalid",i);break;case"textarea":fe("invalid",i),Bp(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||j_(i.textContent,a)?(l.popover!=null&&(fe("beforetoggle",i),fe("toggle",i)),l.onScroll!=null&&fe("scroll",i),l.onScrollEnd!=null&&fe("scrollend",i),l.onClick!=null&&(i.onclick=Nn),i=!0):i=!1,i||ui(t,!0)}function Am(t){for(ft=t.return;ft;)switch(ft.tag){case 5:case 31:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:ft=ft.return}}function Fs(t){if(t!==ft)return!1;if(!_e)return Am(t),_e=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||$f(t.type,t.memoizedProps)),a=!a),a&&ze&&ui(t),Am(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ze=Z_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ze=Z_(t)}else i===27?(i=ze,Ci(t.type)?(t=ih,ih=null,ze=t):ze=i):ze=ft?en(t.stateNode.nextSibling):null;return!0}function ns(){ze=ft=null,_e=!1}function kc(){var t=oi;return t!==null&&(Nt===null?Nt=t:Nt.push.apply(Nt,t),oi=null),t}function ta(t){oi===null?oi=[t]:oi.push(t)}var Lc=C(null),is=null,In=null;function ci(t,i,a){H(Lc,i._currentValue),i._currentValue=a}function xn(t){t._currentValue=Lc.current,x(Lc)}function Uc(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function zc(t,i,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;e:for(;h!==null;){var y=h;h=c;for(var b=0;b<i.length;b++)if(y.context===i[b]){h.lanes|=a,y=h.alternate,y!==null&&(y.lanes|=a),Uc(h.return,a,t),l||(g=null);break e}h=y.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,h=g.alternate,h!==null&&(h.lanes|=a),Uc(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Ks(t,i,a,l){t=null;for(var c=i,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var y=c.type;Pt(c.pendingProps.value,g.value)||(t!==null?t.push(y):t=[y])}}else if(c===de.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Na):t=[Na])}c=c.return}t!==null&&zc(i,t,a,l),i.flags|=262144}function Fl(t){for(t=t.firstContext;t!==null;){if(!Pt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ss(t){is=t,In=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ht(t){return Rm(is,t)}function Kl(t,i){return is===null&&ss(t),Rm(t,i)}function Rm(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},In===null){if(t===null)throw Error(r(308));In=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else In=In.next=i;return a}var AC=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},RC=n.unstable_scheduleCallback,NC=n.unstable_NormalPriority,Ze={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pc(){return{controller:new AC,data:new Map,refCount:0}}function na(t){t.refCount--,t.refCount===0&&RC(NC,function(){t.controller.abort()})}var ia=null,Hc=0,Qs=0,Ws=null;function OC(t,i){if(ia===null){var a=ia=[];Hc=0,Qs=Vf(),Ws={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hc++,i.then(Nm,Nm),i}function Nm(){if(--Hc===0&&ia!==null){Ws!==null&&(Ws.status="fulfilled");var t=ia;ia=null,Qs=0,Ws=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function DC(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var c=0;c<a.length;c++)(0,a[c])(i)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Om=M.S;M.S=function(t,i){h_=Lt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&OC(t,i),Om!==null&&Om(t,i)};var rs=C(null);function Bc(){var t=rs.current;return t!==null?t:Ie.pooledCache}function Ql(t,i){i===null?H(rs,rs.current):H(rs,i.pool)}function Dm(){var t=Bc();return t===null?null:{parent:Ze._currentValue,pool:t}}var Xs=Error(r(460)),qc=Error(r(474)),Wl=Error(r(542)),Xl={then:function(){}};function Mm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Im(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Nn,Nn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,km(t),t;default:if(typeof i.status=="string")i.then(Nn,Nn);else{if(t=Ie,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var c=i;c.status="fulfilled",c.value=l}},function(l){if(i.status==="pending"){var c=i;c.status="rejected",c.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,km(t),t}throw ls=i,Xs}}function as(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ls=a,Xs):a}}var ls=null;function xm(){if(ls===null)throw Error(r(459));var t=ls;return ls=null,t}function km(t){if(t===Xs||t===Wl)throw Error(r(483))}var Zs=null,sa=0;function Zl(t){var i=sa;return sa+=1,Zs===null&&(Zs=[]),Im(Zs,t,i)}function ra(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function $l(t,i){throw i.$$typeof===E?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Lm(t){function i(T,S){if(t){var A=T.deletions;A===null?(T.deletions=[S],T.flags|=16):A.push(S)}}function a(T,S){if(!t)return null;for(;S!==null;)i(T,S),S=S.sibling;return null}function l(T){for(var S=new Map;T!==null;)T.key!==null?S.set(T.key,T):S.set(T.index,T),T=T.sibling;return S}function c(T,S){return T=Dn(T,S),T.index=0,T.sibling=null,T}function h(T,S,A){return T.index=A,t?(A=T.alternate,A!==null?(A=A.index,A<S?(T.flags|=67108866,S):A):(T.flags|=67108866,S)):(T.flags|=1048576,S)}function g(T){return t&&T.alternate===null&&(T.flags|=67108866),T}function y(T,S,A,U){return S===null||S.tag!==6?(S=Oc(A,T.mode,U),S.return=T,S):(S=c(S,A),S.return=T,S)}function b(T,S,A,U){var X=A.type;return X===k?L(T,S,A.props.children,U,A.key):S!==null&&(S.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===ee&&as(X)===S.type)?(S=c(S,A.props),ra(S,A),S.return=T,S):(S=Gl(A.type,A.key,A.props,null,T.mode,U),ra(S,A),S.return=T,S)}function R(T,S,A,U){return S===null||S.tag!==4||S.stateNode.containerInfo!==A.containerInfo||S.stateNode.implementation!==A.implementation?(S=Dc(A,T.mode,U),S.return=T,S):(S=c(S,A.children||[]),S.return=T,S)}function L(T,S,A,U,X){return S===null||S.tag!==7?(S=ts(A,T.mode,U,X),S.return=T,S):(S=c(S,A),S.return=T,S)}function z(T,S,A){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Oc(""+S,T.mode,A),S.return=T,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case w:return A=Gl(S.type,S.key,S.props,null,T.mode,A),ra(A,S),A.return=T,A;case N:return S=Dc(S,T.mode,A),S.return=T,S;case ee:return S=as(S),z(T,S,A)}if(Te(S)||Ke(S))return S=ts(S,T.mode,A,null),S.return=T,S;if(typeof S.then=="function")return z(T,Zl(S),A);if(S.$$typeof===V)return z(T,Kl(T,S),A);$l(T,S)}return null}function O(T,S,A,U){var X=S!==null?S.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return X!==null?null:y(T,S,""+A,U);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case w:return A.key===X?b(T,S,A,U):null;case N:return A.key===X?R(T,S,A,U):null;case ee:return A=as(A),O(T,S,A,U)}if(Te(A)||Ke(A))return X!==null?null:L(T,S,A,U,null);if(typeof A.then=="function")return O(T,S,Zl(A),U);if(A.$$typeof===V)return O(T,S,Kl(T,A),U);$l(T,A)}return null}function I(T,S,A,U,X){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return T=T.get(A)||null,y(S,T,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return T=T.get(U.key===null?A:U.key)||null,b(S,T,U,X);case N:return T=T.get(U.key===null?A:U.key)||null,R(S,T,U,X);case ee:return U=as(U),I(T,S,A,U,X)}if(Te(U)||Ke(U))return T=T.get(A)||null,L(S,T,U,X,null);if(typeof U.then=="function")return I(T,S,A,Zl(U),X);if(U.$$typeof===V)return I(T,S,A,Kl(S,U),X);$l(S,U)}return null}function K(T,S,A,U){for(var X=null,ye=null,Q=S,le=S=0,me=null;Q!==null&&le<A.length;le++){Q.index>le?(me=Q,Q=null):me=Q.sibling;var ve=O(T,Q,A[le],U);if(ve===null){Q===null&&(Q=me);break}t&&Q&&ve.alternate===null&&i(T,Q),S=h(ve,S,le),ye===null?X=ve:ye.sibling=ve,ye=ve,Q=me}if(le===A.length)return a(T,Q),_e&&Mn(T,le),X;if(Q===null){for(;le<A.length;le++)Q=z(T,A[le],U),Q!==null&&(S=h(Q,S,le),ye===null?X=Q:ye.sibling=Q,ye=Q);return _e&&Mn(T,le),X}for(Q=l(Q);le<A.length;le++)me=I(Q,T,le,A[le],U),me!==null&&(t&&me.alternate!==null&&Q.delete(me.key===null?le:me.key),S=h(me,S,le),ye===null?X=me:ye.sibling=me,ye=me);return t&&Q.forEach(function(Ni){return i(T,Ni)}),_e&&Mn(T,le),X}function J(T,S,A,U){if(A==null)throw Error(r(151));for(var X=null,ye=null,Q=S,le=S=0,me=null,ve=A.next();Q!==null&&!ve.done;le++,ve=A.next()){Q.index>le?(me=Q,Q=null):me=Q.sibling;var Ni=O(T,Q,ve.value,U);if(Ni===null){Q===null&&(Q=me);break}t&&Q&&Ni.alternate===null&&i(T,Q),S=h(Ni,S,le),ye===null?X=Ni:ye.sibling=Ni,ye=Ni,Q=me}if(ve.done)return a(T,Q),_e&&Mn(T,le),X;if(Q===null){for(;!ve.done;le++,ve=A.next())ve=z(T,ve.value,U),ve!==null&&(S=h(ve,S,le),ye===null?X=ve:ye.sibling=ve,ye=ve);return _e&&Mn(T,le),X}for(Q=l(Q);!ve.done;le++,ve=A.next())ve=I(Q,T,le,ve.value,U),ve!==null&&(t&&ve.alternate!==null&&Q.delete(ve.key===null?le:ve.key),S=h(ve,S,le),ye===null?X=ve:ye.sibling=ve,ye=ve);return t&&Q.forEach(function(qT){return i(T,qT)}),_e&&Mn(T,le),X}function De(T,S,A,U){if(typeof A=="object"&&A!==null&&A.type===k&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case w:e:{for(var X=A.key;S!==null;){if(S.key===X){if(X=A.type,X===k){if(S.tag===7){a(T,S.sibling),U=c(S,A.props.children),U.return=T,T=U;break e}}else if(S.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===ee&&as(X)===S.type){a(T,S.sibling),U=c(S,A.props),ra(U,A),U.return=T,T=U;break e}a(T,S);break}else i(T,S);S=S.sibling}A.type===k?(U=ts(A.props.children,T.mode,U,A.key),U.return=T,T=U):(U=Gl(A.type,A.key,A.props,null,T.mode,U),ra(U,A),U.return=T,T=U)}return g(T);case N:e:{for(X=A.key;S!==null;){if(S.key===X)if(S.tag===4&&S.stateNode.containerInfo===A.containerInfo&&S.stateNode.implementation===A.implementation){a(T,S.sibling),U=c(S,A.children||[]),U.return=T,T=U;break e}else{a(T,S);break}else i(T,S);S=S.sibling}U=Dc(A,T.mode,U),U.return=T,T=U}return g(T);case ee:return A=as(A),De(T,S,A,U)}if(Te(A))return K(T,S,A,U);if(Ke(A)){if(X=Ke(A),typeof X!="function")throw Error(r(150));return A=X.call(A),J(T,S,A,U)}if(typeof A.then=="function")return De(T,S,Zl(A),U);if(A.$$typeof===V)return De(T,S,Kl(T,A),U);$l(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,S!==null&&S.tag===6?(a(T,S.sibling),U=c(S,A),U.return=T,T=U):(a(T,S),U=Oc(A,T.mode,U),U.return=T,T=U),g(T)):a(T,S)}return function(T,S,A,U){try{sa=0;var X=De(T,S,A,U);return Zs=null,X}catch(Q){if(Q===Xs||Q===Wl)throw Q;var ye=Ht(29,Q,null,T.mode);return ye.lanes=U,ye.return=T,ye}}}var os=Lm(!0),Um=Lm(!1),fi=!1;function jc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vc(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function hi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function di(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(be&2)!==0){var c=l.pending;return c===null?i.next=i:(i.next=c.next,c.next=i),l.pending=i,i=Vl(t),vm(t,null,a),i}return jl(t,l,i,a),Vl(t)}function aa(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Rp(t,a)}}function Gc(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?c=h=i:h=h.next=i}else c=h=i;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Yc=!1;function la(){if(Yc){var t=Ws;if(t!==null)throw t}}function oa(t,i,a,l){Yc=!1;var c=t.updateQueue;fi=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var b=y,R=b.next;b.next=null,g===null?h=R:g.next=R,g=b;var L=t.alternate;L!==null&&(L=L.updateQueue,y=L.lastBaseUpdate,y!==g&&(y===null?L.firstBaseUpdate=R:y.next=R,L.lastBaseUpdate=b))}if(h!==null){var z=c.baseState;g=0,L=R=b=null,y=h;do{var O=y.lane&-536870913,I=O!==y.lane;if(I?(pe&O)===O:(l&O)===O){O!==0&&O===Qs&&(Yc=!0),L!==null&&(L=L.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var K=t,J=y;O=i;var De=a;switch(J.tag){case 1:if(K=J.payload,typeof K=="function"){z=K.call(De,z,O);break e}z=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=J.payload,O=typeof K=="function"?K.call(De,z,O):K,O==null)break e;z=_({},z,O);break e;case 2:fi=!0}}O=y.callback,O!==null&&(t.flags|=64,I&&(t.flags|=8192),I=c.callbacks,I===null?c.callbacks=[O]:I.push(O))}else I={lane:O,tag:y.tag,payload:y.payload,callback:y.callback,next:null},L===null?(R=L=I,b=z):L=L.next=I,g|=O;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;I=y,y=I.next,I.next=null,c.lastBaseUpdate=I,c.shared.pending=null}}while(!0);L===null&&(b=z),c.baseState=b,c.firstBaseUpdate=R,c.lastBaseUpdate=L,h===null&&(c.shared.lanes=0),yi|=g,t.lanes=g,t.memoizedState=z}}function zm(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Pm(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)zm(a[t],i)}var $s=C(null),Jl=C(0);function Hm(t,i){t=jn,H(Jl,t),H($s,i),jn=t|i.baseLanes}function Fc(){H(Jl,jn),H($s,$s.current)}function Kc(){jn=Jl.current,x($s),x(Jl)}var Bt=C(null),Jt=null;function pi(t){var i=t.alternate;H(We,We.current&1),H(Bt,t),Jt===null&&(i===null||$s.current!==null||i.memoizedState!==null)&&(Jt=t)}function Qc(t){H(We,We.current),H(Bt,t),Jt===null&&(Jt=t)}function Bm(t){t.tag===22?(H(We,We.current),H(Bt,t),Jt===null&&(Jt=t)):mi()}function mi(){H(We,We.current),H(Bt,Bt.current)}function qt(t){x(Bt),Jt===t&&(Jt=null),x(We)}var We=C(0);function eo(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||th(a)||nh(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var kn=0,ae=null,Ne=null,$e=null,to=!1,Js=!1,us=!1,no=0,ua=0,er=null,MC=0;function Ge(){throw Error(r(321))}function Wc(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Pt(t[a],i[a]))return!1;return!0}function Xc(t,i,a,l,c,h){return kn=h,ae=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,M.H=t===null||t.memoizedState===null?Cg:hf,us=!1,h=a(l,c),us=!1,Js&&(h=jm(i,a,l,c)),qm(t),h}function qm(t){M.H=ha;var i=Ne!==null&&Ne.next!==null;if(kn=0,$e=Ne=ae=null,to=!1,ua=0,er=null,i)throw Error(r(300));t===null||Je||(t=t.dependencies,t!==null&&Fl(t)&&(Je=!0))}function jm(t,i,a,l){ae=t;var c=0;do{if(Js&&(er=null),ua=0,Js=!1,25<=c)throw Error(r(301));if(c+=1,$e=Ne=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}M.H=Tg,h=i(a,l)}while(Js);return h}function IC(){var t=M.H,i=t.useState()[0];return i=typeof i.then=="function"?ca(i):i,t=t.useState()[0],(Ne!==null?Ne.memoizedState:null)!==t&&(ae.flags|=1024),i}function Zc(){var t=no!==0;return no=0,t}function $c(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Jc(t){if(to){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}to=!1}kn=0,$e=Ne=ae=null,Js=!1,ua=no=0,er=null}function yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?ae.memoizedState=$e=t:$e=$e.next=t,$e}function Xe(){if(Ne===null){var t=ae.alternate;t=t!==null?t.memoizedState:null}else t=Ne.next;var i=$e===null?ae.memoizedState:$e.next;if(i!==null)$e=i,Ne=t;else{if(t===null)throw ae.alternate===null?Error(r(467)):Error(r(310));Ne=t,t={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},$e===null?ae.memoizedState=$e=t:$e=$e.next=t}return $e}function io(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ca(t){var i=ua;return ua+=1,er===null&&(er=[]),t=Im(er,t,i),i=ae,($e===null?i.memoizedState:$e.next)===null&&(i=i.alternate,M.H=i===null||i.memoizedState===null?Cg:hf),t}function so(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ca(t);if(t.$$typeof===V)return ht(t)}throw Error(r(438,String(t)))}function ef(t){var i=null,a=ae.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(c){return c.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=io(),ae.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=Ue;return i.index++,a}function Ln(t,i){return typeof i=="function"?i(t):i}function ro(t){var i=Xe();return tf(i,Ne,t)}function tf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}i.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{i=c.next;var y=g=null,b=null,R=i,L=!1;do{var z=R.lane&-536870913;if(z!==R.lane?(pe&z)===z:(kn&z)===z){var O=R.revertLane;if(O===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),z===Qs&&(L=!0);else if((kn&O)===O){R=R.next,O===Qs&&(L=!0);continue}else z={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(y=b=z,g=h):b=b.next=z,ae.lanes|=O,yi|=O;z=R.action,us&&a(h,z),h=R.hasEagerState?R.eagerState:a(h,z)}else O={lane:z,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(y=b=O,g=h):b=b.next=O,ae.lanes|=z,yi|=z;R=R.next}while(R!==null&&R!==i);if(b===null?g=h:b.next=y,!Pt(h,t.memoizedState)&&(Je=!0,L&&(a=Ws,a!==null)))throw a;t.memoizedState=h,t.baseState=g,t.baseQueue=b,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function nf(t){var i=Xe(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,h=i.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);Pt(h,i.memoizedState)||(Je=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),a.lastRenderedState=h}return[h,l]}function Vm(t,i,a){var l=ae,c=Xe(),h=_e;if(h){if(a===void 0)throw Error(r(407));a=a()}else a=i();var g=!Pt((Ne||c).memoizedState,a);if(g&&(c.memoizedState=a,Je=!0),c=c.queue,af(Fm.bind(null,l,c,t),[t]),c.getSnapshot!==i||g||$e!==null&&$e.memoizedState.tag&1){if(l.flags|=2048,tr(9,{destroy:void 0},Ym.bind(null,l,c,a,i),null),Ie===null)throw Error(r(349));h||(kn&127)!==0||Gm(l,i,a)}return a}function Gm(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=ae.updateQueue,i===null?(i=io(),ae.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Ym(t,i,a,l){i.value=a,i.getSnapshot=l,Km(i)&&Qm(t)}function Fm(t,i,a){return a(function(){Km(i)&&Qm(t)})}function Km(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Pt(t,a)}catch{return!0}}function Qm(t){var i=es(t,2);i!==null&&Ot(i,t,2)}function sf(t){var i=yt();if(typeof t=="function"){var a=t;if(t=a(),us){si(!0);try{a()}finally{si(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:t},i}function Wm(t,i,a,l){return t.baseState=a,tf(t,Ne,typeof l=="function"?l:Ln)}function xC(t,i,a,l,c){if(oo(t))throw Error(r(485));if(t=i.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};M.T!==null?a(!0):h.isTransition=!1,l(h),a=i.pending,a===null?(h.next=i.pending=h,Xm(i,h)):(h.next=a.next,i.pending=a.next=h)}}function Xm(t,i){var a=i.action,l=i.payload,c=t.state;if(i.isTransition){var h=M.T,g={};M.T=g;try{var y=a(c,l),b=M.S;b!==null&&b(g,y),Zm(t,i,y)}catch(R){rf(t,i,R)}finally{h!==null&&g.types!==null&&(h.types=g.types),M.T=h}}else try{h=a(c,l),Zm(t,i,h)}catch(R){rf(t,i,R)}}function Zm(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){$m(t,i,l)},function(l){return rf(t,i,l)}):$m(t,i,a)}function $m(t,i,a){i.status="fulfilled",i.value=a,Jm(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Xm(t,a)))}function rf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Jm(i),i=i.next;while(i!==l)}t.action=null}function Jm(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function eg(t,i){return i}function tg(t,i){if(_e){var a=Ie.formState;if(a!==null){e:{var l=ae;if(_e){if(ze){t:{for(var c=ze,h=$t;c.nodeType!==8;){if(!h){c=null;break t}if(c=en(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){ze=en(c.nextSibling),l=c.data==="F!";break e}}ui(l)}l=!1}l&&(i=a[0])}}return a=yt(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eg,lastRenderedState:i},a.queue=l,a=Eg.bind(null,ae,l),l.dispatch=a,l=sf(!1),h=ff.bind(null,ae,!1,l.queue),l=yt(),c={state:i,dispatch:null,action:t,pending:null},l.queue=c,a=xC.bind(null,ae,c,h,a),c.dispatch=a,l.memoizedState=t,[i,a,!1]}function ng(t){var i=Xe();return ig(i,Ne,t)}function ig(t,i,a){if(i=tf(t,i,eg)[0],t=ro(Ln)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ca(i)}catch(g){throw g===Xs?Wl:g}else l=i;i=Xe();var c=i.queue,h=c.dispatch;return a!==i.memoizedState&&(ae.flags|=2048,tr(9,{destroy:void 0},kC.bind(null,c,a),null)),[l,h,t]}function kC(t,i){t.action=i}function sg(t){var i=Xe(),a=Ne;if(a!==null)return ig(i,a,t);Xe(),i=i.memoizedState,a=Xe();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function tr(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=ae.updateQueue,i===null&&(i=io(),ae.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function rg(){return Xe().memoizedState}function ao(t,i,a,l){var c=yt();ae.flags|=t,c.memoizedState=tr(1|i,{destroy:void 0},a,l===void 0?null:l)}function lo(t,i,a,l){var c=Xe();l=l===void 0?null:l;var h=c.memoizedState.inst;Ne!==null&&l!==null&&Wc(l,Ne.memoizedState.deps)?c.memoizedState=tr(i,h,a,l):(ae.flags|=t,c.memoizedState=tr(1|i,h,a,l))}function ag(t,i){ao(8390656,8,t,i)}function af(t,i){lo(2048,8,t,i)}function LC(t){ae.flags|=4;var i=ae.updateQueue;if(i===null)i=io(),ae.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function lg(t){var i=Xe().memoizedState;return LC({ref:i,nextImpl:t}),function(){if((be&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function og(t,i){return lo(4,2,t,i)}function ug(t,i){return lo(4,4,t,i)}function cg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function fg(t,i,a){a=a!=null?a.concat([t]):null,lo(4,4,cg.bind(null,i,t),a)}function lf(){}function hg(t,i){var a=Xe();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Wc(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function dg(t,i){var a=Xe();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Wc(i,l[1]))return l[0];if(l=t(),us){si(!0);try{t()}finally{si(!1)}}return a.memoizedState=[l,i],l}function of(t,i,a){return a===void 0||(kn&1073741824)!==0&&(pe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=p_(),ae.lanes|=t,yi|=t,a)}function pg(t,i,a,l){return Pt(a,i)?a:$s.current!==null?(t=of(t,a,l),Pt(t,i)||(Je=!0),t):(kn&42)===0||(kn&1073741824)!==0&&(pe&261930)===0?(Je=!0,t.memoizedState=a):(t=p_(),ae.lanes|=t,yi|=t,i)}function mg(t,i,a,l,c){var h=F.p;F.p=h!==0&&8>h?h:8;var g=M.T,y={};M.T=y,ff(t,!1,i,a);try{var b=c(),R=M.S;if(R!==null&&R(y,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var L=DC(b,l);fa(t,i,L,Gt(t))}else fa(t,i,l,Gt(t))}catch(z){fa(t,i,{then:function(){},status:"rejected",reason:z},Gt())}finally{F.p=h,g!==null&&y.types!==null&&(g.types=y.types),M.T=g}}function UC(){}function uf(t,i,a,l){if(t.tag!==5)throw Error(r(476));var c=gg(t).queue;mg(t,c,i,te,a===null?UC:function(){return _g(t),a(l)})}function gg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:te},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function _g(t){var i=gg(t);i.next===null&&(i=t.alternate.memoizedState),fa(t,i.next.queue,{},Gt())}function cf(){return ht(Na)}function yg(){return Xe().memoizedState}function vg(){return Xe().memoizedState}function zC(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Gt();t=hi(a);var l=di(i,t,a);l!==null&&(Ot(l,i,a),aa(l,i,a)),i={cache:Pc()},t.payload=i;return}i=i.return}}function PC(t,i,a){var l=Gt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oo(t)?bg(i,a):(a=Rc(t,i,a,l),a!==null&&(Ot(a,t,l),Sg(a,i,l)))}function Eg(t,i,a){var l=Gt();fa(t,i,a,l)}function fa(t,i,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oo(t))bg(i,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var g=i.lastRenderedState,y=h(g,a);if(c.hasEagerState=!0,c.eagerState=y,Pt(y,g))return jl(t,i,c,0),Ie===null&&ql(),!1}catch{}if(a=Rc(t,i,c,l),a!==null)return Ot(a,t,l),Sg(a,i,l),!0}return!1}function ff(t,i,a,l){if(l={lane:2,revertLane:Vf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},oo(t)){if(i)throw Error(r(479))}else i=Rc(t,a,l,2),i!==null&&Ot(i,t,2)}function oo(t){var i=t.alternate;return t===ae||i!==null&&i===ae}function bg(t,i){Js=to=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Sg(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Rp(t,a)}}var ha={readContext:ht,use:so,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};ha.useEffectEvent=Ge;var Cg={readContext:ht,use:so,useCallback:function(t,i){return yt().memoizedState=[t,i===void 0?null:i],t},useContext:ht,useEffect:ag,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ao(4194308,4,cg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ao(4194308,4,t,i)},useInsertionEffect:function(t,i){ao(4,2,t,i)},useMemo:function(t,i){var a=yt();i=i===void 0?null:i;var l=t();if(us){si(!0);try{t()}finally{si(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=yt();if(a!==void 0){var c=a(i);if(us){si(!0);try{a(i)}finally{si(!1)}}}else c=i;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=PC.bind(null,ae,t),[l.memoizedState,t]},useRef:function(t){var i=yt();return t={current:t},i.memoizedState=t},useState:function(t){t=sf(t);var i=t.queue,a=Eg.bind(null,ae,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:lf,useDeferredValue:function(t,i){var a=yt();return of(a,t,i)},useTransition:function(){var t=sf(!1);return t=mg.bind(null,ae,t.queue,!0,!1),yt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=ae,c=yt();if(_e){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),Ie===null)throw Error(r(349));(pe&127)!==0||Gm(l,i,a)}c.memoizedState=a;var h={value:a,getSnapshot:i};return c.queue=h,ag(Fm.bind(null,l,h,t),[t]),l.flags|=2048,tr(9,{destroy:void 0},Ym.bind(null,l,h,a,i),null),a},useId:function(){var t=yt(),i=Ie.identifierPrefix;if(_e){var a=vn,l=yn;a=(l&~(1<<32-zt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=no++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=MC++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:cf,useFormState:tg,useActionState:tg,useOptimistic:function(t){var i=yt();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ff.bind(null,ae,!0,a),a.dispatch=i,[t,i]},useMemoCache:ef,useCacheRefresh:function(){return yt().memoizedState=zC.bind(null,ae)},useEffectEvent:function(t){var i=yt(),a={impl:t};return i.memoizedState=a,function(){if((be&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},hf={readContext:ht,use:so,useCallback:hg,useContext:ht,useEffect:af,useImperativeHandle:fg,useInsertionEffect:og,useLayoutEffect:ug,useMemo:dg,useReducer:ro,useRef:rg,useState:function(){return ro(Ln)},useDebugValue:lf,useDeferredValue:function(t,i){var a=Xe();return pg(a,Ne.memoizedState,t,i)},useTransition:function(){var t=ro(Ln)[0],i=Xe().memoizedState;return[typeof t=="boolean"?t:ca(t),i]},useSyncExternalStore:Vm,useId:yg,useHostTransitionStatus:cf,useFormState:ng,useActionState:ng,useOptimistic:function(t,i){var a=Xe();return Wm(a,Ne,t,i)},useMemoCache:ef,useCacheRefresh:vg};hf.useEffectEvent=lg;var Tg={readContext:ht,use:so,useCallback:hg,useContext:ht,useEffect:af,useImperativeHandle:fg,useInsertionEffect:og,useLayoutEffect:ug,useMemo:dg,useReducer:nf,useRef:rg,useState:function(){return nf(Ln)},useDebugValue:lf,useDeferredValue:function(t,i){var a=Xe();return Ne===null?of(a,t,i):pg(a,Ne.memoizedState,t,i)},useTransition:function(){var t=nf(Ln)[0],i=Xe().memoizedState;return[typeof t=="boolean"?t:ca(t),i]},useSyncExternalStore:Vm,useId:yg,useHostTransitionStatus:cf,useFormState:sg,useActionState:sg,useOptimistic:function(t,i){var a=Xe();return Ne!==null?Wm(a,Ne,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ef,useCacheRefresh:vg};Tg.useEffectEvent=lg;function df(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:_({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var pf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Gt(),c=hi(l);c.payload=i,a!=null&&(c.callback=a),i=di(t,c,l),i!==null&&(Ot(i,t,l),aa(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Gt(),c=hi(l);c.tag=1,c.payload=i,a!=null&&(c.callback=a),i=di(t,c,l),i!==null&&(Ot(i,t,l),aa(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Gt(),l=hi(a);l.tag=2,i!=null&&(l.callback=i),i=di(t,l,a),i!==null&&(Ot(i,t,a),aa(i,t,a))}};function wg(t,i,a,l,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,g):i.prototype&&i.prototype.isPureReactComponent?!$r(a,l)||!$r(c,h):!0}function Ag(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&pf.enqueueReplaceState(i,i.state,null)}function cs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=_({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Rg(t){Bl(t)}function Ng(t){console.error(t)}function Og(t){Bl(t)}function uo(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Dg(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function mf(t,i,a){return a=hi(a),a.tag=3,a.payload={element:null},a.callback=function(){uo(t,i)},a}function Mg(t){return t=hi(t),t.tag=3,t}function Ig(t,i,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){Dg(i,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Dg(i,a,l),typeof c!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var y=l.stack;this.componentDidCatch(l.value,{componentStack:y!==null?y:""})})}function HC(t,i,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ks(i,a,c,!0),a=Bt.current,a!==null){switch(a.tag){case 31:case 13:return Jt===null?So():a.alternate===null&&Ye===0&&(Ye=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Xl?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Bf(t,l,c)),!1;case 22:return a.flags|=65536,l===Xl?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Bf(t,l,c)),!1}throw Error(r(435,a.tag))}return Bf(t,l,c),So(),!1}if(_e)return i=Bt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=c,l!==xc&&(t=Error(r(422),{cause:l}),ta(Wt(t,a)))):(l!==xc&&(i=Error(r(423),{cause:l}),ta(Wt(i,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Wt(l,a),c=mf(t.stateNode,l,c),Gc(t,c),Ye!==4&&(Ye=2)),!1;var h=Error(r(520),{cause:l});if(h=Wt(h,a),Ea===null?Ea=[h]:Ea.push(h),Ye!==4&&(Ye=2),i===null)return!0;l=Wt(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=mf(a.stateNode,l,t),Gc(a,t),!1;case 1:if(i=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(vi===null||!vi.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Mg(c),Ig(c,t,a,l),Gc(a,c),!1}a=a.return}while(a!==null);return!1}var gf=Error(r(461)),Je=!1;function dt(t,i,a,l){i.child=t===null?Um(i,null,a,l):os(i,t.child,a,l)}function xg(t,i,a,l,c){a=a.render;var h=i.ref;if("ref"in l){var g={};for(var y in l)y!=="ref"&&(g[y]=l[y])}else g=l;return ss(i),l=Xc(t,i,a,g,h,c),y=Zc(),t!==null&&!Je?($c(t,i,c),Un(t,i,c)):(_e&&y&&Mc(i),i.flags|=1,dt(t,i,l,c),i.child)}function kg(t,i,a,l,c){if(t===null){var h=a.type;return typeof h=="function"&&!Nc(h)&&h.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=h,Lg(t,i,h,l,c)):(t=Gl(a.type,null,l,i,i.mode,c),t.ref=i.ref,t.return=i,i.child=t)}if(h=t.child,!Tf(t,c)){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:$r,a(g,l)&&t.ref===i.ref)return Un(t,i,c)}return i.flags|=1,t=Dn(h,l),t.ref=i.ref,t.return=i,i.child=t}function Lg(t,i,a,l,c){if(t!==null){var h=t.memoizedProps;if($r(h,l)&&t.ref===i.ref)if(Je=!1,i.pendingProps=l=h,Tf(t,c))(t.flags&131072)!==0&&(Je=!0);else return i.lanes=t.lanes,Un(t,i,c)}return _f(t,i,a,l,c)}function Ug(t,i,a,l){var c=l.children,h=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,t!==null){for(l=i.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~h}else l=0,i.child=null;return zg(t,i,h,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ql(i,h!==null?h.cachePool:null),h!==null?Hm(i,h):Fc(),Bm(i);else return l=i.lanes=536870912,zg(t,i,h!==null?h.baseLanes|a:a,a,l)}else h!==null?(Ql(i,h.cachePool),Hm(i,h),mi(),i.memoizedState=null):(t!==null&&Ql(i,null),Fc(),mi());return dt(t,i,c,a),i.child}function da(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function zg(t,i,a,l,c){var h=Bc();return h=h===null?null:{parent:Ze._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Ql(i,null),Fc(),Bm(i),t!==null&&Ks(t,i,l,!0),i.childLanes=c,null}function co(t,i){return i=ho({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Pg(t,i,a){return os(i,t.child,null,a),t=co(i,i.pendingProps),t.flags|=2,qt(i),i.memoizedState=null,t}function BC(t,i,a){var l=i.pendingProps,c=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(_e){if(l.mode==="hidden")return t=co(i,l),i.lanes=536870912,da(null,t);if(Qc(i),(t=ze)?(t=X_(t,$t),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:li!==null?{id:yn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},a=bm(t),a.return=i,i.child=a,ft=i,ze=null)):t=null,t===null)throw ui(i);return i.lanes=536870912,null}return co(i,l)}var h=t.memoizedState;if(h!==null){var g=h.dehydrated;if(Qc(i),c)if(i.flags&256)i.flags&=-257,i=Pg(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Je||Ks(t,i,a,!1),c=(a&t.childLanes)!==0,Je||c){if(l=Ie,l!==null&&(g=Np(l,a),g!==0&&g!==h.retryLane))throw h.retryLane=g,es(t,g),Ot(l,t,g),gf;So(),i=Pg(t,i,a)}else t=h.treeContext,ze=en(g.nextSibling),ft=i,_e=!0,oi=null,$t=!1,t!==null&&Tm(i,t),i=co(i,l),i.flags|=4096;return i}return t=Dn(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function fo(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function _f(t,i,a,l,c){return ss(i),a=Xc(t,i,a,l,void 0,c),l=Zc(),t!==null&&!Je?($c(t,i,c),Un(t,i,c)):(_e&&l&&Mc(i),i.flags|=1,dt(t,i,a,c),i.child)}function Hg(t,i,a,l,c,h){return ss(i),i.updateQueue=null,a=jm(i,l,a,c),qm(t),l=Zc(),t!==null&&!Je?($c(t,i,h),Un(t,i,h)):(_e&&l&&Mc(i),i.flags|=1,dt(t,i,a,h),i.child)}function Bg(t,i,a,l,c){if(ss(i),i.stateNode===null){var h=Vs,g=a.contextType;typeof g=="object"&&g!==null&&(h=ht(g)),h=new a(l,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=pf,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=l,h.state=i.memoizedState,h.refs={},jc(i),g=a.contextType,h.context=typeof g=="object"&&g!==null?ht(g):Vs,h.state=i.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(df(i,a,g,l),h.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&pf.enqueueReplaceState(h,h.state,null),oa(i,l,h,c),la(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){h=i.stateNode;var y=i.memoizedProps,b=cs(a,y);h.props=b;var R=h.context,L=a.contextType;g=Vs,typeof L=="object"&&L!==null&&(g=ht(L));var z=a.getDerivedStateFromProps;L=typeof z=="function"||typeof h.getSnapshotBeforeUpdate=="function",y=i.pendingProps!==y,L||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y||R!==g)&&Ag(i,h,l,g),fi=!1;var O=i.memoizedState;h.state=O,oa(i,l,h,c),la(),R=i.memoizedState,y||O!==R||fi?(typeof z=="function"&&(df(i,a,z,l),R=i.memoizedState),(b=fi||wg(i,a,b,l,O,R,g))?(L||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=R),h.props=l,h.state=R,h.context=g,l=b):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{h=i.stateNode,Vc(t,i),g=i.memoizedProps,L=cs(a,g),h.props=L,z=i.pendingProps,O=h.context,R=a.contextType,b=Vs,typeof R=="object"&&R!==null&&(b=ht(R)),y=a.getDerivedStateFromProps,(R=typeof y=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==z||O!==b)&&Ag(i,h,l,b),fi=!1,O=i.memoizedState,h.state=O,oa(i,l,h,c),la();var I=i.memoizedState;g!==z||O!==I||fi||t!==null&&t.dependencies!==null&&Fl(t.dependencies)?(typeof y=="function"&&(df(i,a,y,l),I=i.memoizedState),(L=fi||wg(i,a,L,l,O,I,b)||t!==null&&t.dependencies!==null&&Fl(t.dependencies))?(R||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,I,b),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,I,b)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=I),h.props=l,h.state=I,h.context=b,l=L):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(i.flags|=1024),l=!1)}return h=l,fo(t,i),l=(i.flags&128)!==0,h||l?(h=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,t!==null&&l?(i.child=os(i,t.child,null,c),i.child=os(i,null,a,c)):dt(t,i,a,c),i.memoizedState=h.state,t=i.child):t=Un(t,i,c),t}function qg(t,i,a,l){return ns(),i.flags|=256,dt(t,i,a,l),i.child}var yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vf(t){return{baseLanes:t,cachePool:Dm()}}function Ef(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Vt),t}function jg(t,i,a){var l=i.pendingProps,c=!1,h=(i.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(We.current&2)!==0),g&&(c=!0,i.flags&=-129),g=(i.flags&32)!==0,i.flags&=-33,t===null){if(_e){if(c?pi(i):mi(),(t=ze)?(t=X_(t,$t),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:li!==null?{id:yn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},a=bm(t),a.return=i,i.child=a,ft=i,ze=null)):t=null,t===null)throw ui(i);return nh(t)?i.lanes=32:i.lanes=536870912,null}var y=l.children;return l=l.fallback,c?(mi(),c=i.mode,y=ho({mode:"hidden",children:y},c),l=ts(l,c,a,null),y.return=i,l.return=i,y.sibling=l,i.child=y,l=i.child,l.memoizedState=vf(a),l.childLanes=Ef(t,g,a),i.memoizedState=yf,da(null,l)):(pi(i),bf(i,y))}var b=t.memoizedState;if(b!==null&&(y=b.dehydrated,y!==null)){if(h)i.flags&256?(pi(i),i.flags&=-257,i=Sf(t,i,a)):i.memoizedState!==null?(mi(),i.child=t.child,i.flags|=128,i=null):(mi(),y=l.fallback,c=i.mode,l=ho({mode:"visible",children:l.children},c),y=ts(y,c,a,null),y.flags|=2,l.return=i,y.return=i,l.sibling=y,i.child=l,os(i,t.child,null,a),l=i.child,l.memoizedState=vf(a),l.childLanes=Ef(t,g,a),i.memoizedState=yf,i=da(null,l));else if(pi(i),nh(y)){if(g=y.nextSibling&&y.nextSibling.dataset,g)var R=g.dgst;g=R,l=Error(r(419)),l.stack="",l.digest=g,ta({value:l,source:null,stack:null}),i=Sf(t,i,a)}else if(Je||Ks(t,i,a,!1),g=(a&t.childLanes)!==0,Je||g){if(g=Ie,g!==null&&(l=Np(g,a),l!==0&&l!==b.retryLane))throw b.retryLane=l,es(t,l),Ot(g,t,l),gf;th(y)||So(),i=Sf(t,i,a)}else th(y)?(i.flags|=192,i.child=t.child,i=null):(t=b.treeContext,ze=en(y.nextSibling),ft=i,_e=!0,oi=null,$t=!1,t!==null&&Tm(i,t),i=bf(i,l.children),i.flags|=4096);return i}return c?(mi(),y=l.fallback,c=i.mode,b=t.child,R=b.sibling,l=Dn(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,R!==null?y=Dn(R,y):(y=ts(y,c,a,null),y.flags|=2),y.return=i,l.return=i,l.sibling=y,i.child=l,da(null,l),l=i.child,y=t.child.memoizedState,y===null?y=vf(a):(c=y.cachePool,c!==null?(b=Ze._currentValue,c=c.parent!==b?{parent:b,pool:b}:c):c=Dm(),y={baseLanes:y.baseLanes|a,cachePool:c}),l.memoizedState=y,l.childLanes=Ef(t,g,a),i.memoizedState=yf,da(t.child,l)):(pi(i),a=t.child,t=a.sibling,a=Dn(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(g=i.deletions,g===null?(i.deletions=[t],i.flags|=16):g.push(t)),i.child=a,i.memoizedState=null,a)}function bf(t,i){return i=ho({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function ho(t,i){return t=Ht(22,t,null,i),t.lanes=0,t}function Sf(t,i,a){return os(i,t.child,null,a),t=bf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Vg(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Uc(t.return,i,a)}function Cf(t,i,a,l,c,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:h}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=h)}function Gg(t,i,a){var l=i.pendingProps,c=l.revealOrder,h=l.tail;l=l.children;var g=We.current,y=(g&2)!==0;if(y?(g=g&1|2,i.flags|=128):g&=1,H(We,g),dt(t,i,l,a),l=_e?ea:0,!y&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vg(t,a,i);else if(t.tag===19)Vg(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=i.child,c=null;a!==null;)t=a.alternate,t!==null&&eo(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=i.child,i.child=null):(c=a.sibling,a.sibling=null),Cf(i,!1,c,a,h,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=i.child,i.child=null;c!==null;){if(t=c.alternate,t!==null&&eo(t)===null){i.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Cf(i,!0,a,null,h,l);break;case"together":Cf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Un(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),yi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ks(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Dn(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Dn(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Tf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Fl(t)))}function qC(t,i,a){switch(i.tag){case 3:_t(i,i.stateNode.containerInfo),ci(i,Ze,t.memoizedState.cache),ns();break;case 27:case 5:Hr(i);break;case 4:_t(i,i.stateNode.containerInfo);break;case 10:ci(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Qc(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(pi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?jg(t,i,a):(pi(i),t=Un(t,i,a),t!==null?t.sibling:null);pi(i);break;case 19:var c=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ks(t,i,a,!1),l=(a&i.childLanes)!==0),c){if(l)return Gg(t,i,a);i.flags|=128}if(c=i.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),H(We,We.current),l)break;return null;case 22:return i.lanes=0,Ug(t,i,a,i.pendingProps);case 24:ci(i,Ze,t.memoizedState.cache)}return Un(t,i,a)}function Yg(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Je=!0;else{if(!Tf(t,a)&&(i.flags&128)===0)return Je=!1,qC(t,i,a);Je=(t.flags&131072)!==0}else Je=!1,_e&&(i.flags&1048576)!==0&&Cm(i,ea,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=as(i.elementType),i.type=t,typeof t=="function")Nc(t)?(l=cs(t,l),i.tag=1,i=Bg(null,i,t,l,a)):(i.tag=0,i=_f(null,i,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===oe){i.tag=11,i=xg(null,i,t,l,a);break e}else if(c===Z){i.tag=14,i=kg(null,i,t,l,a);break e}}throw i=Yt(t)||t,Error(r(306,i,""))}}return i;case 0:return _f(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,c=cs(l,i.pendingProps),Bg(t,i,l,c,a);case 3:e:{if(_t(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var h=i.memoizedState;c=h.element,Vc(t,i),oa(i,l,null,a);var g=i.memoizedState;if(l=g.cache,ci(i,Ze,l),l!==h.cache&&zc(i,[Ze],a,!0),la(),l=g.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:g.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=qg(t,i,l,a);break e}else if(l!==c){c=Wt(Error(r(424)),i),ta(c),i=qg(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ze=en(t.firstChild),ft=i,_e=!0,oi=null,$t=!0,a=Um(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ns(),l===c){i=Un(t,i,a);break e}dt(t,i,l,a)}i=i.child}return i;case 26:return fo(t,i),t===null?(a=ny(i.type,null,i.pendingProps,null))?i.memoizedState=a:_e||(a=i.type,t=i.pendingProps,l=Oo(re.current).createElement(a),l[ct]=i,l[Ct]=t,pt(l,a,t),rt(l),i.stateNode=l):i.memoizedState=ny(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Hr(i),t===null&&_e&&(l=i.stateNode=J_(i.type,i.pendingProps,re.current),ft=i,$t=!0,c=ze,Ci(i.type)?(ih=c,ze=en(l.firstChild)):ze=c),dt(t,i,i.pendingProps.children,a),fo(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&_e&&((c=l=ze)&&(l=_T(l,i.type,i.pendingProps,$t),l!==null?(i.stateNode=l,ft=i,ze=en(l.firstChild),$t=!1,c=!0):c=!1),c||ui(i)),Hr(i),c=i.type,h=i.pendingProps,g=t!==null?t.memoizedProps:null,l=h.children,$f(c,h)?l=null:g!==null&&$f(c,g)&&(i.flags|=32),i.memoizedState!==null&&(c=Xc(t,i,IC,null,null,a),Na._currentValue=c),fo(t,i),dt(t,i,l,a),i.child;case 6:return t===null&&_e&&((t=a=ze)&&(a=yT(a,i.pendingProps,$t),a!==null?(i.stateNode=a,ft=i,ze=null,t=!0):t=!1),t||ui(i)),null;case 13:return jg(t,i,a);case 4:return _t(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=os(i,null,l,a):dt(t,i,l,a),i.child;case 11:return xg(t,i,i.type,i.pendingProps,a);case 7:return dt(t,i,i.pendingProps,a),i.child;case 8:return dt(t,i,i.pendingProps.children,a),i.child;case 12:return dt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ci(i,i.type,l.value),dt(t,i,l.children,a),i.child;case 9:return c=i.type._context,l=i.pendingProps.children,ss(i),c=ht(c),l=l(c),i.flags|=1,dt(t,i,l,a),i.child;case 14:return kg(t,i,i.type,i.pendingProps,a);case 15:return Lg(t,i,i.type,i.pendingProps,a);case 19:return Gg(t,i,a);case 31:return BC(t,i,a);case 22:return Ug(t,i,a,i.pendingProps);case 24:return ss(i),l=ht(Ze),t===null?(c=Bc(),c===null&&(c=Ie,h=Pc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),i.memoizedState={parent:l,cache:c},jc(i),ci(i,Ze,c)):((t.lanes&a)!==0&&(Vc(t,i),oa(i,null,null,a),la()),c=t.memoizedState,h=i.memoizedState,c.parent!==l?(c={parent:l,cache:l},i.memoizedState=c,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=c),ci(i,Ze,l)):(l=h.cache,ci(i,Ze,l),l!==c.cache&&zc(i,[Ze],a,!0))),dt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function zn(t){t.flags|=4}function wf(t,i,a,l,c){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(y_())t.flags|=8192;else throw ls=Xl,qc}else t.flags&=-16777217}function Fg(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ly(i))if(y_())t.flags|=8192;else throw ls=Xl,qc}function po(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?wp():536870912,t.lanes|=i,rr|=i)}function pa(t,i){if(!_e)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Pe(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function jC(t,i,a){var l=i.pendingProps;switch(Ic(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(i),null;case 1:return Pe(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),xn(Ze),Qe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Fs(i)?zn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,kc())),Pe(i),null;case 26:var c=i.type,h=i.memoizedState;return t===null?(zn(i),h!==null?(Pe(i),Fg(i,h)):(Pe(i),wf(i,c,null,l,a))):h?h!==t.memoizedState?(zn(i),Pe(i),Fg(i,h)):(Pe(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&zn(i),Pe(i),wf(i,c,t,l,a)),null;case 27:if(Tl(i),a=re.current,c=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&zn(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return Pe(i),null}t=Y.current,Fs(i)?wm(i):(t=J_(c,l,a),i.stateNode=t,zn(i))}return Pe(i),null;case 5:if(Tl(i),c=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&zn(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return Pe(i),null}if(h=Y.current,Fs(i))wm(i);else{var g=Oo(re.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}h[ct]=i,h[Ct]=l;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=h;e:switch(pt(h,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&zn(i)}}return Pe(i),wf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&zn(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=re.current,Fs(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,c=ft,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ct]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||j_(t.nodeValue,a)),t||ui(i,!0)}else t=Oo(t).createTextNode(l),t[ct]=i,i.stateNode=t}return Pe(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Fs(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[ct]=i}else ns(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Pe(i),t=!1}else a=kc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(qt(i),i):(qt(i),null);if((i.flags&128)!==0)throw Error(r(558))}return Pe(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Fs(i),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=i.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ct]=i}else ns(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Pe(i),c=!1}else c=kc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return i.flags&256?(qt(i),i):(qt(i),null)}return qt(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),po(i,i.updateQueue),Pe(i),null);case 4:return Qe(),t===null&&Kf(i.stateNode.containerInfo),Pe(i),null;case 10:return xn(i.type),Pe(i),null;case 19:if(x(We),l=i.memoizedState,l===null)return Pe(i),null;if(c=(i.flags&128)!==0,h=l.rendering,h===null)if(c)pa(l,!1);else{if(Ye!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(h=eo(t),h!==null){for(i.flags|=128,pa(l,!1),t=h.updateQueue,i.updateQueue=t,po(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Em(a,t),a=a.sibling;return H(We,We.current&1|2),_e&&Mn(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Lt()>vo&&(i.flags|=128,c=!0,pa(l,!1),i.lanes=4194304)}else{if(!c)if(t=eo(h),t!==null){if(i.flags|=128,c=!0,t=t.updateQueue,i.updateQueue=t,po(i,t),pa(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!_e)return Pe(i),null}else 2*Lt()-l.renderingStartTime>vo&&a!==536870912&&(i.flags|=128,c=!0,pa(l,!1),i.lanes=4194304);l.isBackwards?(h.sibling=i.child,i.child=h):(t=l.last,t!==null?t.sibling=h:i.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Lt(),t.sibling=null,a=We.current,H(We,c?a&1|2:a&1),_e&&Mn(i,l.treeForkCount),t):(Pe(i),null);case 22:case 23:return qt(i),Kc(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Pe(i),i.subtreeFlags&6&&(i.flags|=8192)):Pe(i),a=i.updateQueue,a!==null&&po(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&x(rs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),xn(Ze),Pe(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function VC(t,i){switch(Ic(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return xn(Ze),Qe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Tl(i),null;case 31:if(i.memoizedState!==null){if(qt(i),i.alternate===null)throw Error(r(340));ns()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(qt(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ns()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return x(We),null;case 4:return Qe(),null;case 10:return xn(i.type),null;case 22:case 23:return qt(i),Kc(),t!==null&&x(rs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return xn(Ze),null;case 25:return null;default:return null}}function Kg(t,i){switch(Ic(i),i.tag){case 3:xn(Ze),Qe();break;case 26:case 27:case 5:Tl(i);break;case 4:Qe();break;case 31:i.memoizedState!==null&&qt(i);break;case 13:qt(i);break;case 19:x(We);break;case 10:xn(i.type);break;case 22:case 23:qt(i),Kc(),t!==null&&x(rs);break;case 24:xn(Ze)}}function ma(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var h=a.create,g=a.inst;l=h(),g.destroy=l}a=a.next}while(a!==c)}}catch(y){Re(i,i.return,y)}}function gi(t,i,a){try{var l=i.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var g=l.inst,y=g.destroy;if(y!==void 0){g.destroy=void 0,c=i;var b=a,R=y;try{R()}catch(L){Re(c,b,L)}}}l=l.next}while(l!==h)}}catch(L){Re(i,i.return,L)}}function Qg(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Pm(i,a)}catch(l){Re(t,t.return,l)}}}function Wg(t,i,a){a.props=cs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Re(t,i,l)}}function ga(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Re(t,i,c)}}function En(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Re(t,i,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Re(t,i,c)}else a.current=null}function Xg(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Re(t,t.return,c)}}function Af(t,i,a){try{var l=t.stateNode;fT(l,t.type,a,i),l[Ct]=i}catch(c){Re(t,t.return,c)}}function Zg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ci(t.type)||t.tag===4}function Rf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ci(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Nn));else if(l!==4&&(l===27&&Ci(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Nf(t,i,a),t=t.sibling;t!==null;)Nf(t,i,a),t=t.sibling}function mo(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Ci(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mo(t,i,a),t=t.sibling;t!==null;)mo(t,i,a),t=t.sibling}function $g(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=i.attributes;c.length;)i.removeAttributeNode(c[0]);pt(i,l,a),i[ct]=t,i[Ct]=a}catch(h){Re(t,t.return,h)}}var Pn=!1,et=!1,Of=!1,Jg=typeof WeakSet=="function"?WeakSet:Set,at=null;function GC(t,i){if(t=t.containerInfo,Xf=Uo,t=fm(t),bc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var g=0,y=-1,b=-1,R=0,L=0,z=t,O=null;t:for(;;){for(var I;z!==a||c!==0&&z.nodeType!==3||(y=g+c),z!==h||l!==0&&z.nodeType!==3||(b=g+l),z.nodeType===3&&(g+=z.nodeValue.length),(I=z.firstChild)!==null;)O=z,z=I;for(;;){if(z===t)break t;if(O===a&&++R===c&&(y=g),O===h&&++L===l&&(b=g),(I=z.nextSibling)!==null)break;z=O,O=z.parentNode}z=I}a=y===-1||b===-1?null:{start:y,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zf={focusedElem:t,selectionRange:a},Uo=!1,at=i;at!==null;)if(i=at,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,at=t;else for(;at!==null;){switch(i=at,h=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=i,c=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var K=cs(a.type,c);t=l.getSnapshotBeforeUpdate(K,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(J){Re(a,a.return,J)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)eh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":eh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,at=t;break}at=i.return}}function e_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Bn(t,a),l&4&&ma(5,a);break;case 1:if(Bn(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(g){Re(a,a.return,g)}else{var c=cs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(c,i,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Re(a,a.return,g)}}l&64&&Qg(a),l&512&&ga(a,a.return);break;case 3:if(Bn(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Pm(t,i)}catch(g){Re(a,a.return,g)}}break;case 27:i===null&&l&4&&$g(a);case 26:case 5:Bn(t,a),i===null&&l&4&&Xg(a),l&512&&ga(a,a.return);break;case 12:Bn(t,a);break;case 31:Bn(t,a),l&4&&i_(t,a);break;case 13:Bn(t,a),l&4&&s_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=JC.bind(null,a),vT(t,a))));break;case 22:if(l=a.memoizedState!==null||Pn,!l){i=i!==null&&i.memoizedState!==null||et,c=Pn;var h=et;Pn=l,(et=i)&&!h?qn(t,a,(a.subtreeFlags&8772)!==0):Bn(t,a),Pn=c,et=h}break;case 30:break;default:Bn(t,a)}}function t_(t){var i=t.alternate;i!==null&&(t.alternate=null,t_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&sc(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var qe=null,wt=!1;function Hn(t,i,a){for(a=a.child;a!==null;)n_(t,i,a),a=a.sibling}function n_(t,i,a){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Br,a)}catch{}switch(a.tag){case 26:et||En(a,i),Hn(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:et||En(a,i);var l=qe,c=wt;Ci(a.type)&&(qe=a.stateNode,wt=!1),Hn(t,i,a),wa(a.stateNode),qe=l,wt=c;break;case 5:et||En(a,i);case 6:if(l=qe,c=wt,qe=null,Hn(t,i,a),qe=l,wt=c,qe!==null)if(wt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(a.stateNode)}catch(h){Re(a,i,h)}else try{qe.removeChild(a.stateNode)}catch(h){Re(a,i,h)}break;case 18:qe!==null&&(wt?(t=qe,Q_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),dr(t)):Q_(qe,a.stateNode));break;case 4:l=qe,c=wt,qe=a.stateNode.containerInfo,wt=!0,Hn(t,i,a),qe=l,wt=c;break;case 0:case 11:case 14:case 15:gi(2,a,i),et||gi(4,a,i),Hn(t,i,a);break;case 1:et||(En(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Wg(a,i,l)),Hn(t,i,a);break;case 21:Hn(t,i,a);break;case 22:et=(l=et)||a.memoizedState!==null,Hn(t,i,a),et=l;break;default:Hn(t,i,a)}}function i_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{dr(t)}catch(a){Re(i,i.return,a)}}}function s_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{dr(t)}catch(a){Re(i,i.return,a)}}function YC(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Jg),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Jg),i;default:throw Error(r(435,t.tag))}}function go(t,i){var a=YC(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var c=eT.bind(null,t,l);l.then(c,c)}})}function At(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],h=t,g=i,y=g;e:for(;y!==null;){switch(y.tag){case 27:if(Ci(y.type)){qe=y.stateNode,wt=!1;break e}break;case 5:qe=y.stateNode,wt=!1;break e;case 3:case 4:qe=y.stateNode.containerInfo,wt=!0;break e}y=y.return}if(qe===null)throw Error(r(160));n_(h,g,c),qe=null,wt=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)r_(i,t),i=i.sibling}var ln=null;function r_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:At(i,t),Rt(t),l&4&&(gi(3,t,t.return),ma(3,t),gi(5,t,t.return));break;case 1:At(i,t),Rt(t),l&512&&(et||a===null||En(a,a.return)),l&64&&Pn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=ln;if(At(i,t),Rt(t),l&512&&(et||a===null||En(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Vr]||h[ct]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),pt(h,l,a),h[ct]=t,rt(h),l=h;break e;case"link":var g=ry("link","href",c).get(l+(a.href||""));if(g){for(var y=0;y<g.length;y++)if(h=g[y],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(y,1);break t}}h=c.createElement(l),pt(h,l,a),c.head.appendChild(h);break;case"meta":if(g=ry("meta","content",c).get(l+(a.content||""))){for(y=0;y<g.length;y++)if(h=g[y],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(y,1);break t}}h=c.createElement(l),pt(h,l,a),c.head.appendChild(h);break;default:throw Error(r(468,l))}h[ct]=t,rt(h),l=h}t.stateNode=l}else ay(c,t.type,t.stateNode);else t.stateNode=sy(c,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?ay(c,t.type,t.stateNode):sy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Af(t,t.memoizedProps,a.memoizedProps)}break;case 27:At(i,t),Rt(t),l&512&&(et||a===null||En(a,a.return)),a!==null&&l&4&&Af(t,t.memoizedProps,a.memoizedProps);break;case 5:if(At(i,t),Rt(t),l&512&&(et||a===null||En(a,a.return)),t.flags&32){c=t.stateNode;try{Us(c,"")}catch(K){Re(t,t.return,K)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Af(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Of=!0);break;case 6:if(At(i,t),Rt(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(K){Re(t,t.return,K)}}break;case 3:if(Io=null,c=ln,ln=Do(i.containerInfo),At(i,t),ln=c,Rt(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{dr(i.containerInfo)}catch(K){Re(t,t.return,K)}Of&&(Of=!1,a_(t));break;case 4:l=ln,ln=Do(t.stateNode.containerInfo),At(i,t),Rt(t),ln=l;break;case 12:At(i,t),Rt(t);break;case 31:At(i,t),Rt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,go(t,l)));break;case 13:At(i,t),Rt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yo=Lt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,go(t,l)));break;case 22:c=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,R=Pn,L=et;if(Pn=R||c,et=L||b,At(i,t),et=L,Pn=R,Rt(t),l&8192)e:for(i=t.stateNode,i._visibility=c?i._visibility&-2:i._visibility|1,c&&(a===null||b||Pn||et||fs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(h=b.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{y=b.stateNode;var z=b.memoizedProps.style,O=z!=null&&z.hasOwnProperty("display")?z.display:null;y.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(K){Re(b,b.return,K)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(K){Re(b,b.return,K)}}}else if(i.tag===18){if(a===null){b=i;try{var I=b.stateNode;c?W_(I,!0):W_(b.stateNode,!1)}catch(K){Re(b,b.return,K)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,go(t,a))));break;case 19:At(i,t),Rt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,go(t,l)));break;case 30:break;case 21:break;default:At(i,t),Rt(t)}}function Rt(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Zg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,h=Rf(t);mo(t,h,c);break;case 5:var g=a.stateNode;a.flags&32&&(Us(g,""),a.flags&=-33);var y=Rf(t);mo(t,y,g);break;case 3:case 4:var b=a.stateNode.containerInfo,R=Rf(t);Nf(t,R,b);break;default:throw Error(r(161))}}catch(L){Re(t,t.return,L)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function a_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;a_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Bn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)e_(t,i.alternate,i),i=i.sibling}function fs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:gi(4,i,i.return),fs(i);break;case 1:En(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Wg(i,i.return,a),fs(i);break;case 27:wa(i.stateNode);case 26:case 5:En(i,i.return),fs(i);break;case 22:i.memoizedState===null&&fs(i);break;case 30:fs(i);break;default:fs(i)}t=t.sibling}}function qn(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,c=t,h=i,g=h.flags;switch(h.tag){case 0:case 11:case 15:qn(c,h,a),ma(4,h);break;case 1:if(qn(c,h,a),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(R){Re(l,l.return,R)}if(l=h,c=l.updateQueue,c!==null){var y=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)zm(b[c],y)}catch(R){Re(l,l.return,R)}}a&&g&64&&Qg(h),ga(h,h.return);break;case 27:$g(h);case 26:case 5:qn(c,h,a),a&&l===null&&g&4&&Xg(h),ga(h,h.return);break;case 12:qn(c,h,a);break;case 31:qn(c,h,a),a&&g&4&&i_(c,h);break;case 13:qn(c,h,a),a&&g&4&&s_(c,h);break;case 22:h.memoizedState===null&&qn(c,h,a),ga(h,h.return);break;case 30:break;default:qn(c,h,a)}i=i.sibling}}function Df(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&na(a))}function Mf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&na(t))}function on(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)l_(t,i,a,l),i=i.sibling}function l_(t,i,a,l){var c=i.flags;switch(i.tag){case 0:case 11:case 15:on(t,i,a,l),c&2048&&ma(9,i);break;case 1:on(t,i,a,l);break;case 3:on(t,i,a,l),c&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&na(t)));break;case 12:if(c&2048){on(t,i,a,l),t=i.stateNode;try{var h=i.memoizedProps,g=h.id,y=h.onPostCommit;typeof y=="function"&&y(g,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Re(i,i.return,b)}}else on(t,i,a,l);break;case 31:on(t,i,a,l);break;case 13:on(t,i,a,l);break;case 23:break;case 22:h=i.stateNode,g=i.alternate,i.memoizedState!==null?h._visibility&2?on(t,i,a,l):_a(t,i):h._visibility&2?on(t,i,a,l):(h._visibility|=2,nr(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),c&2048&&Df(g,i);break;case 24:on(t,i,a,l),c&2048&&Mf(i.alternate,i);break;default:on(t,i,a,l)}}function nr(t,i,a,l,c){for(c=c&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var h=t,g=i,y=a,b=l,R=g.flags;switch(g.tag){case 0:case 11:case 15:nr(h,g,y,b,c),ma(8,g);break;case 23:break;case 22:var L=g.stateNode;g.memoizedState!==null?L._visibility&2?nr(h,g,y,b,c):_a(h,g):(L._visibility|=2,nr(h,g,y,b,c)),c&&R&2048&&Df(g.alternate,g);break;case 24:nr(h,g,y,b,c),c&&R&2048&&Mf(g.alternate,g);break;default:nr(h,g,y,b,c)}i=i.sibling}}function _a(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,c=l.flags;switch(l.tag){case 22:_a(a,l),c&2048&&Df(l.alternate,l);break;case 24:_a(a,l),c&2048&&Mf(l.alternate,l);break;default:_a(a,l)}i=i.sibling}}var ya=8192;function ir(t,i,a){if(t.subtreeFlags&ya)for(t=t.child;t!==null;)o_(t,i,a),t=t.sibling}function o_(t,i,a){switch(t.tag){case 26:ir(t,i,a),t.flags&ya&&t.memoizedState!==null&&MT(a,ln,t.memoizedState,t.memoizedProps);break;case 5:ir(t,i,a);break;case 3:case 4:var l=ln;ln=Do(t.stateNode.containerInfo),ir(t,i,a),ln=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ya,ya=16777216,ir(t,i,a),ya=l):ir(t,i,a));break;default:ir(t,i,a)}}function u_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function va(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];at=l,f_(l,t)}u_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)c_(t),t=t.sibling}function c_(t){switch(t.tag){case 0:case 11:case 15:va(t),t.flags&2048&&gi(9,t,t.return);break;case 3:va(t);break;case 12:va(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,_o(t)):va(t);break;default:va(t)}}function _o(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];at=l,f_(l,t)}u_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:gi(8,i,i.return),_o(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,_o(i));break;default:_o(i)}t=t.sibling}}function f_(t,i){for(;at!==null;){var a=at;switch(a.tag){case 0:case 11:case 15:gi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:na(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,at=l;else e:for(a=t;at!==null;){l=at;var c=l.sibling,h=l.return;if(t_(l),l===a){at=null;break e}if(c!==null){c.return=h,at=c;break e}at=h}}}var FC={getCacheForType:function(t){var i=ht(Ze),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return ht(Ze).controller.signal}},KC=typeof WeakMap=="function"?WeakMap:Map,be=0,Ie=null,ce=null,pe=0,Ae=0,jt=null,_i=!1,sr=!1,If=!1,jn=0,Ye=0,yi=0,hs=0,xf=0,Vt=0,rr=0,Ea=null,Nt=null,kf=!1,yo=0,h_=0,vo=1/0,Eo=null,vi=null,tt=0,Ei=null,ar=null,Vn=0,Lf=0,Uf=null,d_=null,ba=0,zf=null;function Gt(){return(be&2)!==0&&pe!==0?pe&-pe:M.T!==null?Vf():Op()}function p_(){if(Vt===0)if((pe&536870912)===0||_e){var t=Rl;Rl<<=1,(Rl&3932160)===0&&(Rl=262144),Vt=t}else Vt=536870912;return t=Bt.current,t!==null&&(t.flags|=32),Vt}function Ot(t,i,a){(t===Ie&&(Ae===2||Ae===9)||t.cancelPendingCommit!==null)&&(lr(t,0),bi(t,pe,Vt,!1)),jr(t,a),((be&2)===0||t!==Ie)&&(t===Ie&&((be&2)===0&&(hs|=a),Ye===4&&bi(t,pe,Vt,!1)),bn(t))}function m_(t,i,a){if((be&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||qr(t,i),c=l?XC(t,i):Hf(t,i,!0),h=l;do{if(c===0){sr&&!l&&bi(t,i,0,!1);break}else{if(a=t.current.alternate,h&&!QC(a)){c=Hf(t,i,!1),h=!1;continue}if(c===2){if(h=i,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){i=g;e:{var y=t;c=Ea;var b=y.current.memoizedState.isDehydrated;if(b&&(lr(y,g).flags|=256),g=Hf(y,g,!1),g!==2){if(If&&!b){y.errorRecoveryDisabledLanes|=h,hs|=h,c=4;break e}h=Nt,Nt=c,h!==null&&(Nt===null?Nt=h:Nt.push.apply(Nt,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){lr(t,0),bi(t,i,0,!0);break}e:{switch(l=t,h=c,h){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:bi(l,i,Vt,!_i);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(c=yo+300-Lt(),10<c)){if(bi(l,i,Vt,!_i),Ol(l,0,!0)!==0)break e;Vn=i,l.timeoutHandle=F_(g_.bind(null,l,a,Nt,Eo,kf,i,Vt,hs,rr,_i,h,"Throttled",-0,0),c);break e}g_(l,a,Nt,Eo,kf,i,Vt,hs,rr,_i,h,null,-0,0)}}break}while(!0);bn(t)}function g_(t,i,a,l,c,h,g,y,b,R,L,z,O,I){if(t.timeoutHandle=-1,z=i.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nn},o_(i,h,z);var K=(h&62914560)===h?yo-Lt():(h&4194048)===h?h_-Lt():0;if(K=IT(z,K),K!==null){Vn=h,t.cancelPendingCommit=K(T_.bind(null,t,i,h,a,l,c,g,y,b,L,z,null,O,I)),bi(t,h,g,!R);return}}T_(t,i,h,a,l,c,g,y,b)}function QC(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],h=c.getSnapshot;c=c.value;try{if(!Pt(h(),c))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function bi(t,i,a,l){i&=~xf,i&=~hs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var c=i;0<c;){var h=31-zt(c),g=1<<h;l[h]=-1,c&=~g}a!==0&&Ap(t,a,i)}function bo(){return(be&6)===0?(Sa(0),!1):!0}function Pf(){if(ce!==null){if(Ae===0)var t=ce.return;else t=ce,In=is=null,Jc(t),Zs=null,sa=0,t=ce;for(;t!==null;)Kg(t.alternate,t),t=t.return;ce=null}}function lr(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,pT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Vn=0,Pf(),Ie=t,ce=a=Dn(t.current,null),pe=i,Ae=0,jt=null,_i=!1,sr=qr(t,i),If=!1,rr=Vt=xf=hs=yi=Ye=0,Nt=Ea=null,kf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var c=31-zt(l),h=1<<c;i|=t[c],l&=~h}return jn=i,ql(),a}function __(t,i){ae=null,M.H=ha,i===Xs||i===Wl?(i=xm(),Ae=3):i===qc?(i=xm(),Ae=4):Ae=i===gf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,jt=i,ce===null&&(Ye=1,uo(t,Wt(i,t.current)))}function y_(){var t=Bt.current;return t===null?!0:(pe&4194048)===pe?Jt===null:(pe&62914560)===pe||(pe&536870912)!==0?t===Jt:!1}function v_(){var t=M.H;return M.H=ha,t===null?ha:t}function E_(){var t=M.A;return M.A=FC,t}function So(){Ye=4,_i||(pe&4194048)!==pe&&Bt.current!==null||(sr=!0),(yi&134217727)===0&&(hs&134217727)===0||Ie===null||bi(Ie,pe,Vt,!1)}function Hf(t,i,a){var l=be;be|=2;var c=v_(),h=E_();(Ie!==t||pe!==i)&&(Eo=null,lr(t,i)),i=!1;var g=Ye;e:do try{if(Ae!==0&&ce!==null){var y=ce,b=jt;switch(Ae){case 8:Pf(),g=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(i=!0);var R=Ae;if(Ae=0,jt=null,or(t,y,b,R),a&&sr){g=0;break e}break;default:R=Ae,Ae=0,jt=null,or(t,y,b,R)}}WC(),g=Ye;break}catch(L){__(t,L)}while(!0);return i&&t.shellSuspendCounter++,In=is=null,be=l,M.H=c,M.A=h,ce===null&&(Ie=null,pe=0,ql()),g}function WC(){for(;ce!==null;)b_(ce)}function XC(t,i){var a=be;be|=2;var l=v_(),c=E_();Ie!==t||pe!==i?(Eo=null,vo=Lt()+500,lr(t,i)):sr=qr(t,i);e:do try{if(Ae!==0&&ce!==null){i=ce;var h=jt;t:switch(Ae){case 1:Ae=0,jt=null,or(t,i,h,1);break;case 2:case 9:if(Mm(h)){Ae=0,jt=null,S_(i);break}i=function(){Ae!==2&&Ae!==9||Ie!==t||(Ae=7),bn(t)},h.then(i,i);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Mm(h)?(Ae=0,jt=null,S_(i)):(Ae=0,jt=null,or(t,i,h,7));break;case 5:var g=null;switch(ce.tag){case 26:g=ce.memoizedState;case 5:case 27:var y=ce;if(g?ly(g):y.stateNode.complete){Ae=0,jt=null;var b=y.sibling;if(b!==null)ce=b;else{var R=y.return;R!==null?(ce=R,Co(R)):ce=null}break t}}Ae=0,jt=null,or(t,i,h,5);break;case 6:Ae=0,jt=null,or(t,i,h,6);break;case 8:Pf(),Ye=6;break e;default:throw Error(r(462))}}ZC();break}catch(L){__(t,L)}while(!0);return In=is=null,M.H=l,M.A=c,be=a,ce!==null?0:(Ie=null,pe=0,ql(),Ye)}function ZC(){for(;ce!==null&&!E0();)b_(ce)}function b_(t){var i=Yg(t.alternate,t,jn);t.memoizedProps=t.pendingProps,i===null?Co(t):ce=i}function S_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Hg(a,i,i.pendingProps,i.type,void 0,pe);break;case 11:i=Hg(a,i,i.pendingProps,i.type.render,i.ref,pe);break;case 5:Jc(i);default:Kg(a,i),i=ce=Em(i,jn),i=Yg(a,i,jn)}t.memoizedProps=t.pendingProps,i===null?Co(t):ce=i}function or(t,i,a,l){In=is=null,Jc(i),Zs=null,sa=0;var c=i.return;try{if(HC(t,c,i,a,pe)){Ye=1,uo(t,Wt(a,t.current)),ce=null;return}}catch(h){if(c!==null)throw ce=c,h;Ye=1,uo(t,Wt(a,t.current)),ce=null;return}i.flags&32768?(_e||l===1?t=!0:sr||(pe&536870912)!==0?t=!1:(_i=t=!0,(l===2||l===9||l===3||l===6)&&(l=Bt.current,l!==null&&l.tag===13&&(l.flags|=16384))),C_(i,t)):Co(i)}function Co(t){var i=t;do{if((i.flags&32768)!==0){C_(i,_i);return}t=i.return;var a=jC(i.alternate,i,jn);if(a!==null){ce=a;return}if(i=i.sibling,i!==null){ce=i;return}ce=i=t}while(i!==null);Ye===0&&(Ye=5)}function C_(t,i){do{var a=VC(t.alternate,t);if(a!==null){a.flags&=32767,ce=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ce=t;return}ce=t=a}while(t!==null);Ye=6,ce=null}function T_(t,i,a,l,c,h,g,y,b){t.cancelPendingCommit=null;do To();while(tt!==0);if((be&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(h=i.lanes|i.childLanes,h|=Ac,D0(t,a,h,g,y,b),t===Ie&&(ce=Ie=null,pe=0),ar=i,Ei=t,Vn=a,Lf=h,Uf=c,d_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tT(wl,function(){return O_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,c=F.p,F.p=2,g=be,be|=4;try{GC(t,i,a)}finally{be=g,F.p=c,M.T=l}}tt=1,w_(),A_(),R_()}}function w_(){if(tt===1){tt=0;var t=Ei,i=ar,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var l=F.p;F.p=2;var c=be;be|=4;try{r_(i,t);var h=Zf,g=fm(t.containerInfo),y=h.focusedElem,b=h.selectionRange;if(g!==y&&y&&y.ownerDocument&&cm(y.ownerDocument.documentElement,y)){if(b!==null&&bc(y)){var R=b.start,L=b.end;if(L===void 0&&(L=R),"selectionStart"in y)y.selectionStart=R,y.selectionEnd=Math.min(L,y.value.length);else{var z=y.ownerDocument||document,O=z&&z.defaultView||window;if(O.getSelection){var I=O.getSelection(),K=y.textContent.length,J=Math.min(b.start,K),De=b.end===void 0?J:Math.min(b.end,K);!I.extend&&J>De&&(g=De,De=J,J=g);var T=um(y,J),S=um(y,De);if(T&&S&&(I.rangeCount!==1||I.anchorNode!==T.node||I.anchorOffset!==T.offset||I.focusNode!==S.node||I.focusOffset!==S.offset)){var A=z.createRange();A.setStart(T.node,T.offset),I.removeAllRanges(),J>De?(I.addRange(A),I.extend(S.node,S.offset)):(A.setEnd(S.node,S.offset),I.addRange(A))}}}}for(z=[],I=y;I=I.parentNode;)I.nodeType===1&&z.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<z.length;y++){var U=z[y];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}Uo=!!Xf,Zf=Xf=null}finally{be=c,F.p=l,M.T=a}}t.current=i,tt=2}}function A_(){if(tt===2){tt=0;var t=Ei,i=ar,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var l=F.p;F.p=2;var c=be;be|=4;try{e_(t,i.alternate,i)}finally{be=c,F.p=l,M.T=a}}tt=3}}function R_(){if(tt===4||tt===3){tt=0,b0();var t=Ei,i=ar,a=Vn,l=d_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?tt=5:(tt=0,ar=Ei=null,N_(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(vi=null),nc(a),i=i.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Br,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=M.T,c=F.p,F.p=2,M.T=null;try{for(var h=t.onRecoverableError,g=0;g<l.length;g++){var y=l[g];h(y.value,{componentStack:y.stack})}}finally{M.T=i,F.p=c}}(Vn&3)!==0&&To(),bn(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===zf?ba++:(ba=0,zf=t):ba=0,Sa(0)}}function N_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,na(i)))}function To(){return w_(),A_(),R_(),O_()}function O_(){if(tt!==5)return!1;var t=Ei,i=Lf;Lf=0;var a=nc(Vn),l=M.T,c=F.p;try{F.p=32>a?32:a,M.T=null,a=Uf,Uf=null;var h=Ei,g=Vn;if(tt=0,ar=Ei=null,Vn=0,(be&6)!==0)throw Error(r(331));var y=be;if(be|=4,c_(h.current),l_(h,h.current,g,a),be=y,Sa(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Br,h)}catch{}return!0}finally{F.p=c,M.T=l,N_(t,i)}}function D_(t,i,a){i=Wt(a,i),i=mf(t.stateNode,i,2),t=di(t,i,2),t!==null&&(jr(t,2),bn(t))}function Re(t,i,a){if(t.tag===3)D_(t,t,a);else for(;i!==null;){if(i.tag===3){D_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(vi===null||!vi.has(l))){t=Wt(a,t),a=Mg(2),l=di(i,a,2),l!==null&&(Ig(a,l,i,t),jr(l,2),bn(l));break}}i=i.return}}function Bf(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new KC;var c=new Set;l.set(i,c)}else c=l.get(i),c===void 0&&(c=new Set,l.set(i,c));c.has(a)||(If=!0,c.add(a),t=$C.bind(null,t,i,a),i.then(t,t))}function $C(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ie===t&&(pe&a)===a&&(Ye===4||Ye===3&&(pe&62914560)===pe&&300>Lt()-yo?(be&2)===0&&lr(t,0):xf|=a,rr===pe&&(rr=0)),bn(t)}function M_(t,i){i===0&&(i=wp()),t=es(t,i),t!==null&&(jr(t,i),bn(t))}function JC(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),M_(t,a)}function eT(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),M_(t,a)}function tT(t,i){return $u(t,i)}var wo=null,ur=null,qf=!1,Ao=!1,jf=!1,Si=0;function bn(t){t!==ur&&t.next===null&&(ur===null?wo=ur=t:ur=ur.next=t),Ao=!0,qf||(qf=!0,iT())}function Sa(t,i){if(!jf&&Ao){jf=!0;do for(var a=!1,l=wo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var g=l.suspendedLanes,y=l.pingedLanes;h=(1<<31-zt(42|t)+1)-1,h&=c&~(g&~y),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,L_(l,h))}else h=pe,h=Ol(l,l===Ie?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||qr(l,h)||(a=!0,L_(l,h));l=l.next}while(a);jf=!1}}function nT(){I_()}function I_(){Ao=qf=!1;var t=0;Si!==0&&dT()&&(t=Si);for(var i=Lt(),a=null,l=wo;l!==null;){var c=l.next,h=x_(l,i);h===0?(l.next=null,a===null?wo=c:a.next=c,c===null&&(ur=a)):(a=l,(t!==0||(h&3)!==0)&&(Ao=!0)),l=c}tt!==0&&tt!==5||Sa(t),Si!==0&&(Si=0)}function x_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-zt(h),y=1<<g,b=c[g];b===-1?((y&a)===0||(y&l)!==0)&&(c[g]=O0(y,i)):b<=i&&(t.expiredLanes|=y),h&=~y}if(i=Ie,a=pe,a=Ol(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ae===2||Ae===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ju(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Ju(l),nc(a)){case 2:case 8:a=Cp;break;case 32:a=wl;break;case 268435456:a=Tp;break;default:a=wl}return l=k_.bind(null,t),a=$u(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Ju(l),t.callbackPriority=2,t.callbackNode=null,2}function k_(t,i){if(tt!==0&&tt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(To()&&t.callbackNode!==a)return null;var l=pe;return l=Ol(t,t===Ie?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(m_(t,l,i),x_(t,Lt()),t.callbackNode!=null&&t.callbackNode===a?k_.bind(null,t):null)}function L_(t,i){if(To())return null;m_(t,i,!0)}function iT(){mT(function(){(be&6)!==0?$u(Sp,nT):I_()})}function Vf(){if(Si===0){var t=Qs;t===0&&(t=Al,Al<<=1,(Al&261888)===0&&(Al=256)),Si=t}return Si}function U_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xl(""+t)}function z_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function sT(t,i,a,l,c){if(i==="submit"&&a&&a.stateNode===c){var h=U_((c[Ct]||null).action),g=l.submitter;g&&(i=(i=g[Ct]||null)?U_(i.formAction):g.getAttribute("formAction"),i!==null&&(h=i,g=null));var y=new zl("action","action",null,l,c);t.push({event:y,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Si!==0){var b=g?z_(c,g):new FormData(c);uf(a,{pending:!0,data:b,method:c.method,action:h},null,b)}}else typeof h=="function"&&(y.preventDefault(),b=g?z_(c,g):new FormData(c),uf(a,{pending:!0,data:b,method:c.method,action:h},h,b))},currentTarget:c}]})}}for(var Gf=0;Gf<wc.length;Gf++){var Yf=wc[Gf],rT=Yf.toLowerCase(),aT=Yf[0].toUpperCase()+Yf.slice(1);an(rT,"on"+aT)}an(pm,"onAnimationEnd"),an(mm,"onAnimationIteration"),an(gm,"onAnimationStart"),an("dblclick","onDoubleClick"),an("focusin","onFocus"),an("focusout","onBlur"),an(SC,"onTransitionRun"),an(CC,"onTransitionStart"),an(TC,"onTransitionCancel"),an(_m,"onTransitionEnd"),ks("onMouseEnter",["mouseout","mouseover"]),ks("onMouseLeave",["mouseout","mouseover"]),ks("onPointerEnter",["pointerout","pointerover"]),ks("onPointerLeave",["pointerout","pointerover"]),Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ca));function P_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;e:{var h=void 0;if(i)for(var g=l.length-1;0<=g;g--){var y=l[g],b=y.instance,R=y.currentTarget;if(y=y.listener,b!==h&&c.isPropagationStopped())break e;h=y,c.currentTarget=R;try{h(c)}catch(L){Bl(L)}c.currentTarget=null,h=b}else for(g=0;g<l.length;g++){if(y=l[g],b=y.instance,R=y.currentTarget,y=y.listener,b!==h&&c.isPropagationStopped())break e;h=y,c.currentTarget=R;try{h(c)}catch(L){Bl(L)}c.currentTarget=null,h=b}}}}function fe(t,i){var a=i[ic];a===void 0&&(a=i[ic]=new Set);var l=t+"__bubble";a.has(l)||(H_(i,t,2,!1),a.add(l))}function Ff(t,i,a){var l=0;i&&(l|=4),H_(a,t,l,i)}var Ro="_reactListening"+Math.random().toString(36).slice(2);function Kf(t){if(!t[Ro]){t[Ro]=!0,Ip.forEach(function(a){a!=="selectionchange"&&(lT.has(a)||Ff(a,!1,t),Ff(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ro]||(i[Ro]=!0,Ff("selectionchange",!1,i))}}function H_(t,i,a,l){switch(py(i)){case 2:var c=LT;break;case 8:c=UT;break;default:c=oh}a=c.bind(null,i,a,t),c=void 0,!hc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(i,a,{capture:!0,passive:c}):t.addEventListener(i,a,!0):c!==void 0?t.addEventListener(i,a,{passive:c}):t.addEventListener(i,a,!1)}function Qf(t,i,a,l,c){var h=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var y=l.stateNode.containerInfo;if(y===c)break;if(g===4)for(g=l.return;g!==null;){var b=g.tag;if((b===3||b===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;y!==null;){if(g=Ms(y),g===null)return;if(b=g.tag,b===5||b===6||b===26||b===27){l=h=g;continue e}y=y.parentNode}}l=l.return}Gp(function(){var R=h,L=cc(a),z=[];e:{var O=ym.get(t);if(O!==void 0){var I=zl,K=t;switch(t){case"keypress":if(Ll(a)===0)break e;case"keydown":case"keyup":I=eC;break;case"focusin":K="focus",I=gc;break;case"focusout":K="blur",I=gc;break;case"beforeblur":case"afterblur":I=gc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Kp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=j0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=iC;break;case pm:case mm:case gm:I=Y0;break;case _m:I=rC;break;case"scroll":case"scrollend":I=B0;break;case"wheel":I=lC;break;case"copy":case"cut":case"paste":I=K0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Wp;break;case"toggle":case"beforetoggle":I=uC}var J=(i&4)!==0,De=!J&&(t==="scroll"||t==="scrollend"),T=J?O!==null?O+"Capture":null:O;J=[];for(var S=R,A;S!==null;){var U=S;if(A=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||A===null||T===null||(U=Yr(S,T),U!=null&&J.push(Ta(S,U,A))),De)break;S=S.return}0<J.length&&(O=new I(O,K,null,a,L),z.push({event:O,listeners:J}))}}if((i&7)===0){e:{if(O=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",O&&a!==uc&&(K=a.relatedTarget||a.fromElement)&&(Ms(K)||K[Ds]))break e;if((I||O)&&(O=L.window===L?L:(O=L.ownerDocument)?O.defaultView||O.parentWindow:window,I?(K=a.relatedTarget||a.toElement,I=R,K=K?Ms(K):null,K!==null&&(De=u(K),J=K.tag,K!==De||J!==5&&J!==27&&J!==6)&&(K=null)):(I=null,K=R),I!==K)){if(J=Kp,U="onMouseLeave",T="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(J=Wp,U="onPointerLeave",T="onPointerEnter",S="pointer"),De=I==null?O:Gr(I),A=K==null?O:Gr(K),O=new J(U,S+"leave",I,a,L),O.target=De,O.relatedTarget=A,U=null,Ms(L)===R&&(J=new J(T,S+"enter",K,a,L),J.target=A,J.relatedTarget=De,U=J),De=U,I&&K)t:{for(J=oT,T=I,S=K,A=0,U=T;U;U=J(U))A++;U=0;for(var X=S;X;X=J(X))U++;for(;0<A-U;)T=J(T),A--;for(;0<U-A;)S=J(S),U--;for(;A--;){if(T===S||S!==null&&T===S.alternate){J=T;break t}T=J(T),S=J(S)}J=null}else J=null;I!==null&&B_(z,O,I,J,!1),K!==null&&De!==null&&B_(z,De,K,J,!0)}}e:{if(O=R?Gr(R):window,I=O.nodeName&&O.nodeName.toLowerCase(),I==="select"||I==="input"&&O.type==="file")var ye=im;else if(tm(O))if(sm)ye=vC;else{ye=_C;var Q=gC}else I=O.nodeName,!I||I.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?R&&oc(R.elementType)&&(ye=im):ye=yC;if(ye&&(ye=ye(t,R))){nm(z,ye,a,L);break e}Q&&Q(t,O,R),t==="focusout"&&R&&O.type==="number"&&R.memoizedProps.value!=null&&lc(O,"number",O.value)}switch(Q=R?Gr(R):window,t){case"focusin":(tm(Q)||Q.contentEditable==="true")&&(Bs=Q,Sc=R,Jr=null);break;case"focusout":Jr=Sc=Bs=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,hm(z,a,L);break;case"selectionchange":if(bC)break;case"keydown":case"keyup":hm(z,a,L)}var le;if(yc)e:{switch(t){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Hs?Jp(t,a)&&(me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(me="onCompositionStart");me&&(Xp&&a.locale!=="ko"&&(Hs||me!=="onCompositionStart"?me==="onCompositionEnd"&&Hs&&(le=Yp()):(ai=L,dc="value"in ai?ai.value:ai.textContent,Hs=!0)),Q=No(R,me),0<Q.length&&(me=new Qp(me,t,null,a,L),z.push({event:me,listeners:Q}),le?me.data=le:(le=em(a),le!==null&&(me.data=le)))),(le=fC?hC(t,a):dC(t,a))&&(me=No(R,"onBeforeInput"),0<me.length&&(Q=new Qp("onBeforeInput","beforeinput",null,a,L),z.push({event:Q,listeners:me}),Q.data=le)),sT(z,t,R,a,L)}P_(z,i)})}function Ta(t,i,a){return{instance:t,listener:i,currentTarget:a}}function No(t,i){for(var a=i+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Yr(t,a),c!=null&&l.unshift(Ta(t,c,h)),c=Yr(t,i),c!=null&&l.push(Ta(t,c,h))),t.tag===3)return l;t=t.return}return[]}function oT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function B_(t,i,a,l,c){for(var h=i._reactName,g=[];a!==null&&a!==l;){var y=a,b=y.alternate,R=y.stateNode;if(y=y.tag,b!==null&&b===l)break;y!==5&&y!==26&&y!==27||R===null||(b=R,c?(R=Yr(a,h),R!=null&&g.unshift(Ta(a,R,b))):c||(R=Yr(a,h),R!=null&&g.push(Ta(a,R,b)))),a=a.return}g.length!==0&&t.push({event:i,listeners:g})}var uT=/\r\n?/g,cT=/\u0000|\uFFFD/g;function q_(t){return(typeof t=="string"?t:""+t).replace(uT,`
`).replace(cT,"")}function j_(t,i){return i=q_(i),q_(t)===i}function Oe(t,i,a,l,c,h){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Us(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Us(t,""+l);break;case"className":Ml(t,"class",l);break;case"tabIndex":Ml(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ml(t,a,l);break;case"style":jp(t,l,h);break;case"data":if(i!=="object"){Ml(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=xl(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(i!=="input"&&Oe(t,i,"name",c.name,c,null),Oe(t,i,"formEncType",c.formEncType,c,null),Oe(t,i,"formMethod",c.formMethod,c,null),Oe(t,i,"formTarget",c.formTarget,c,null)):(Oe(t,i,"encType",c.encType,c,null),Oe(t,i,"method",c.method,c,null),Oe(t,i,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=xl(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Nn);break;case"onScroll":l!=null&&fe("scroll",t);break;case"onScrollEnd":l!=null&&fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=xl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":fe("beforetoggle",t),fe("toggle",t),Dl(t,"popover",l);break;case"xlinkActuate":Rn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Dl(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=P0.get(a)||a,Dl(t,a,l))}}function Wf(t,i,a,l,c,h){switch(a){case"style":jp(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Us(t,l):(typeof l=="number"||typeof l=="bigint")&&Us(t,""+l);break;case"onScroll":l!=null&&fe("scroll",t);break;case"onScrollEnd":l!=null&&fe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xp.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),i=a.slice(2,c?a.length-7:void 0),h=t[Ct]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(i,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,c);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Dl(t,a,l)}}}function pt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",t),fe("load",t);var l=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var g=a[h];if(g!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Oe(t,i,h,g,a,null)}}c&&Oe(t,i,"srcSet",a.srcSet,a,null),l&&Oe(t,i,"src",a.src,a,null);return;case"input":fe("invalid",t);var y=h=g=c=null,b=null,R=null;for(l in a)if(a.hasOwnProperty(l)){var L=a[l];if(L!=null)switch(l){case"name":c=L;break;case"type":g=L;break;case"checked":b=L;break;case"defaultChecked":R=L;break;case"value":h=L;break;case"defaultValue":y=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,i));break;default:Oe(t,i,l,L,a,null)}}Pp(t,h,y,b,R,g,c,!1);return;case"select":fe("invalid",t),l=g=h=null;for(c in a)if(a.hasOwnProperty(c)&&(y=a[c],y!=null))switch(c){case"value":h=y;break;case"defaultValue":g=y;break;case"multiple":l=y;default:Oe(t,i,c,y,a,null)}i=h,a=g,t.multiple=!!l,i!=null?Ls(t,!!l,i,!1):a!=null&&Ls(t,!!l,a,!0);return;case"textarea":fe("invalid",t),h=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(y=a[g],y!=null))switch(g){case"value":l=y;break;case"defaultValue":c=y;break;case"children":h=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:Oe(t,i,g,y,a,null)}Bp(t,l,c,h);return;case"option":for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null)&&(b==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Oe(t,i,b,l,a,null));return;case"dialog":fe("beforetoggle",t),fe("toggle",t),fe("cancel",t),fe("close",t);break;case"iframe":case"object":fe("load",t);break;case"video":case"audio":for(l=0;l<Ca.length;l++)fe(Ca[l],t);break;case"image":fe("error",t),fe("load",t);break;case"details":fe("toggle",t);break;case"embed":case"source":case"link":fe("error",t),fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Oe(t,i,R,l,a,null)}return;default:if(oc(i)){for(L in a)a.hasOwnProperty(L)&&(l=a[L],l!==void 0&&Wf(t,i,L,l,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(l=a[y],l!=null&&Oe(t,i,y,l,a,null))}function fT(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,y=null,b=null,R=null,L=null;for(I in a){var z=a[I];if(a.hasOwnProperty(I)&&z!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":b=z;default:l.hasOwnProperty(I)||Oe(t,i,I,null,l,z)}}for(var O in l){var I=l[O];if(z=a[O],l.hasOwnProperty(O)&&(I!=null||z!=null))switch(O){case"type":h=I;break;case"name":c=I;break;case"checked":R=I;break;case"defaultChecked":L=I;break;case"value":g=I;break;case"defaultValue":y=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,i));break;default:I!==z&&Oe(t,i,O,I,l,z)}}ac(t,g,y,b,R,L,h,c);return;case"select":I=g=y=O=null;for(h in a)if(b=a[h],a.hasOwnProperty(h)&&b!=null)switch(h){case"value":break;case"multiple":I=b;default:l.hasOwnProperty(h)||Oe(t,i,h,null,l,b)}for(c in l)if(h=l[c],b=a[c],l.hasOwnProperty(c)&&(h!=null||b!=null))switch(c){case"value":O=h;break;case"defaultValue":y=h;break;case"multiple":g=h;default:h!==b&&Oe(t,i,c,h,l,b)}i=y,a=g,l=I,O!=null?Ls(t,!!a,O,!1):!!l!=!!a&&(i!=null?Ls(t,!!a,i,!0):Ls(t,!!a,a?[]:"",!1));return;case"textarea":I=O=null;for(y in a)if(c=a[y],a.hasOwnProperty(y)&&c!=null&&!l.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Oe(t,i,y,null,l,c)}for(g in l)if(c=l[g],h=a[g],l.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":O=c;break;case"defaultValue":I=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==h&&Oe(t,i,g,c,l,h)}Hp(t,O,I);return;case"option":for(var K in a)O=a[K],a.hasOwnProperty(K)&&O!=null&&!l.hasOwnProperty(K)&&(K==="selected"?t.selected=!1:Oe(t,i,K,null,l,O));for(b in l)O=l[b],I=a[b],l.hasOwnProperty(b)&&O!==I&&(O!=null||I!=null)&&(b==="selected"?t.selected=O&&typeof O!="function"&&typeof O!="symbol":Oe(t,i,b,O,l,I));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var J in a)O=a[J],a.hasOwnProperty(J)&&O!=null&&!l.hasOwnProperty(J)&&Oe(t,i,J,null,l,O);for(R in l)if(O=l[R],I=a[R],l.hasOwnProperty(R)&&O!==I&&(O!=null||I!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,i));break;default:Oe(t,i,R,O,l,I)}return;default:if(oc(i)){for(var De in a)O=a[De],a.hasOwnProperty(De)&&O!==void 0&&!l.hasOwnProperty(De)&&Wf(t,i,De,void 0,l,O);for(L in l)O=l[L],I=a[L],!l.hasOwnProperty(L)||O===I||O===void 0&&I===void 0||Wf(t,i,L,O,l,I);return}}for(var T in a)O=a[T],a.hasOwnProperty(T)&&O!=null&&!l.hasOwnProperty(T)&&Oe(t,i,T,null,l,O);for(z in l)O=l[z],I=a[z],!l.hasOwnProperty(z)||O===I||O==null&&I==null||Oe(t,i,z,O,l,I)}function V_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],h=c.transferSize,g=c.initiatorType,y=c.duration;if(h&&y&&V_(g)){for(g=0,y=c.responseEnd,l+=1;l<a.length;l++){var b=a[l],R=b.startTime;if(R>y)break;var L=b.transferSize,z=b.initiatorType;L&&V_(z)&&(b=b.responseEnd,g+=L*(b<y?1:(y-R)/(b-R)))}if(--l,i+=8*(h+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Xf=null,Zf=null;function Oo(t){return t.nodeType===9?t:t.ownerDocument}function G_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function $f(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jf=null;function dT(){var t=window.event;return t&&t.type==="popstate"?t===Jf?!1:(Jf=t,!0):(Jf=null,!1)}var F_=typeof setTimeout=="function"?setTimeout:void 0,pT=typeof clearTimeout=="function"?clearTimeout:void 0,K_=typeof Promise=="function"?Promise:void 0,mT=typeof queueMicrotask=="function"?queueMicrotask:typeof K_<"u"?function(t){return K_.resolve(null).then(t).catch(gT)}:F_;function gT(t){setTimeout(function(){throw t})}function Ci(t){return t==="head"}function Q_(t,i){var a=i,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),dr(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")wa(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,wa(a);for(var h=a.firstChild;h;){var g=h.nextSibling,y=h.nodeName;h[Vr]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=g}}else a==="body"&&wa(t.ownerDocument.body);a=c}while(a);dr(i)}function W_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function eh(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":eh(a),sc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function _T(t,i,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Vr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=en(t.nextSibling),t===null)break}return null}function yT(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=en(t.nextSibling),t===null))return null;return t}function X_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=en(t.nextSibling),t===null))return null;return t}function th(t){return t.data==="$?"||t.data==="$~"}function nh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function vT(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function en(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var ih=null;function Z_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return en(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function $_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function J_(t,i,a){switch(i=Oo(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function wa(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);sc(t)}var tn=new Map,ey=new Set;function Do(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Gn=F.d;F.d={f:ET,r:bT,D:ST,C:CT,L:TT,m:wT,X:RT,S:AT,M:NT};function ET(){var t=Gn.f(),i=bo();return t||i}function bT(t){var i=Is(t);i!==null&&i.tag===5&&i.type==="form"?_g(i):Gn.r(t)}var cr=typeof document>"u"?null:document;function ty(t,i,a){var l=cr;if(l&&typeof i=="string"&&i){var c=Kt(i);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),ey.has(c)||(ey.add(c),t={rel:t,crossOrigin:a,href:i},l.querySelector(c)===null&&(i=l.createElement("link"),pt(i,"link",t),rt(i),l.head.appendChild(i)))}}function ST(t){Gn.D(t),ty("dns-prefetch",t,null)}function CT(t,i){Gn.C(t,i),ty("preconnect",t,i)}function TT(t,i,a){Gn.L(t,i,a);var l=cr;if(l&&t&&i){var c='link[rel="preload"][as="'+Kt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Kt(a.imageSizes)+'"]')):c+='[href="'+Kt(t)+'"]';var h=c;switch(i){case"style":h=fr(t);break;case"script":h=hr(t)}tn.has(h)||(t=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),tn.set(h,t),l.querySelector(c)!==null||i==="style"&&l.querySelector(Aa(h))||i==="script"&&l.querySelector(Ra(h))||(i=l.createElement("link"),pt(i,"link",t),rt(i),l.head.appendChild(i)))}}function wT(t,i){Gn.m(t,i);var a=cr;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",c='link[rel="modulepreload"][as="'+Kt(l)+'"][href="'+Kt(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=hr(t)}if(!tn.has(h)&&(t=_({rel:"modulepreload",href:t},i),tn.set(h,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ra(h)))return}l=a.createElement("link"),pt(l,"link",t),rt(l),a.head.appendChild(l)}}}function AT(t,i,a){Gn.S(t,i,a);var l=cr;if(l&&t){var c=xs(l).hoistableStyles,h=fr(t);i=i||"default";var g=c.get(h);if(!g){var y={loading:0,preload:null};if(g=l.querySelector(Aa(h)))y.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":i},a),(a=tn.get(h))&&sh(t,a);var b=g=l.createElement("link");rt(b),pt(b,"link",t),b._p=new Promise(function(R,L){b.onload=R,b.onerror=L}),b.addEventListener("load",function(){y.loading|=1}),b.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Mo(g,i,l)}g={type:"stylesheet",instance:g,count:1,state:y},c.set(h,g)}}}function RT(t,i){Gn.X(t,i);var a=cr;if(a&&t){var l=xs(a).hoistableScripts,c=hr(t),h=l.get(c);h||(h=a.querySelector(Ra(c)),h||(t=_({src:t,async:!0},i),(i=tn.get(c))&&rh(t,i),h=a.createElement("script"),rt(h),pt(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function NT(t,i){Gn.M(t,i);var a=cr;if(a&&t){var l=xs(a).hoistableScripts,c=hr(t),h=l.get(c);h||(h=a.querySelector(Ra(c)),h||(t=_({src:t,async:!0,type:"module"},i),(i=tn.get(c))&&rh(t,i),h=a.createElement("script"),rt(h),pt(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function ny(t,i,a,l){var c=(c=re.current)?Do(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=fr(a.href),a=xs(c).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=fr(a.href);var h=xs(c).hoistableStyles,g=h.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=c.querySelector(Aa(t)))&&!h._p&&(g.instance=h,g.state.loading=5),tn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},tn.set(t,a),h||OT(c,t,a,g.state))),i&&l===null)throw Error(r(528,""));return g}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=hr(a),a=xs(c).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function fr(t){return'href="'+Kt(t)+'"'}function Aa(t){return'link[rel="stylesheet"]['+t+"]"}function iy(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function OT(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),pt(i,"link",a),rt(i),t.head.appendChild(i))}function hr(t){return'[src="'+Kt(t)+'"]'}function Ra(t){return"script[async]"+t}function sy(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Kt(a.href)+'"]');if(l)return i.instance=l,rt(l),l;var c=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),rt(l),pt(l,"style",c),Mo(l,a.precedence,t),i.instance=l;case"stylesheet":c=fr(a.href);var h=t.querySelector(Aa(c));if(h)return i.state.loading|=4,i.instance=h,rt(h),h;l=iy(a),(c=tn.get(c))&&sh(l,c),h=(t.ownerDocument||t).createElement("link"),rt(h);var g=h;return g._p=new Promise(function(y,b){g.onload=y,g.onerror=b}),pt(h,"link",l),i.state.loading|=4,Mo(h,a.precedence,t),i.instance=h;case"script":return h=hr(a.src),(c=t.querySelector(Ra(h)))?(i.instance=c,rt(c),c):(l=a,(c=tn.get(h))&&(l=_({},a),rh(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),rt(c),pt(c,"link",l),t.head.appendChild(c),i.instance=c);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Mo(l,a.precedence,t));return i.instance}function Mo(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,g=0;g<l.length;g++){var y=l[g];if(y.dataset.precedence===i)h=y;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function sh(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function rh(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Io=null;function ry(t,i,a){if(Io===null){var l=new Map,c=Io=new Map;c.set(a,l)}else c=Io,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var h=a[c];if(!(h[Vr]||h[ct]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(i)||"";g=t+g;var y=l.get(g);y?y.push(h):l.set(g,[h])}}return l}function ay(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function DT(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ly(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function MT(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=fr(l.href),h=i.querySelector(Aa(c));if(h){i=h._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=xo.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=h,rt(h);return}h=i.ownerDocument||i,l=iy(l),(c=tn.get(c))&&sh(l,c),h=h.createElement("link"),rt(h);var g=h;g._p=new Promise(function(y,b){g.onload=y,g.onerror=b}),pt(h,"link",l),a.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=xo.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var ah=0;function IT(t,i){return t.stylesheets&&t.count===0&&Lo(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Lo(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+i);0<t.imgBytes&&ah===0&&(ah=62500*hT());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Lo(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>ah?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function xo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ko=null;function Lo(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ko=new Map,i.forEach(xT,t),ko=null,xo.call(t))}function xT(t,i){if(!(i.state.loading&4)){var a=ko.get(t);if(a)var l=a.get(null);else{a=new Map,ko.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=i.instance,g=c.getAttribute("data-precedence"),h=a.get(g)||l,h===l&&a.set(null,c),a.set(g,c),this.count++,l=xo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),i.state.loading|=4}}var Na={$$typeof:V,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function kT(t,i,a,l,c,h,g,y,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ec(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ec(0),this.hiddenUpdates=ec(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function oy(t,i,a,l,c,h,g,y,b,R,L,z){return t=new kT(t,i,a,g,b,R,L,z,y),i=1,h===!0&&(i|=24),h=Ht(3,null,null,i),t.current=h,h.stateNode=t,i=Pc(),i.refCount++,t.pooledCache=i,i.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:i},jc(h),t}function uy(t){return t?(t=Vs,t):Vs}function cy(t,i,a,l,c,h){c=uy(c),l.context===null?l.context=c:l.pendingContext=c,l=hi(i),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=di(t,l,i),a!==null&&(Ot(a,t,i),aa(a,t,i))}function fy(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function lh(t,i){fy(t,i),(t=t.alternate)&&fy(t,i)}function hy(t){if(t.tag===13||t.tag===31){var i=es(t,67108864);i!==null&&Ot(i,t,67108864),lh(t,67108864)}}function dy(t){if(t.tag===13||t.tag===31){var i=Gt();i=tc(i);var a=es(t,i);a!==null&&Ot(a,t,i),lh(t,i)}}var Uo=!0;function LT(t,i,a,l){var c=M.T;M.T=null;var h=F.p;try{F.p=2,oh(t,i,a,l)}finally{F.p=h,M.T=c}}function UT(t,i,a,l){var c=M.T;M.T=null;var h=F.p;try{F.p=8,oh(t,i,a,l)}finally{F.p=h,M.T=c}}function oh(t,i,a,l){if(Uo){var c=uh(l);if(c===null)Qf(t,i,l,zo,a),my(t,l);else if(PT(c,t,i,a,l))l.stopPropagation();else if(my(t,l),i&4&&-1<zT.indexOf(t)){for(;c!==null;){var h=Is(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Wi(h.pendingLanes);if(g!==0){var y=h;for(y.pendingLanes|=2,y.entangledLanes|=2;g;){var b=1<<31-zt(g);y.entanglements[1]|=b,g&=~b}bn(h),(be&6)===0&&(vo=Lt()+500,Sa(0))}}break;case 31:case 13:y=es(h,2),y!==null&&Ot(y,h,2),bo(),lh(h,2)}if(h=uh(l),h===null&&Qf(t,i,l,zo,a),h===c)break;c=h}c!==null&&l.stopPropagation()}else Qf(t,i,l,null,a)}}function uh(t){return t=cc(t),ch(t)}var zo=null;function ch(t){if(zo=null,t=Ms(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=d(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return zo=t,null}function py(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(S0()){case Sp:return 2;case Cp:return 8;case wl:case C0:return 32;case Tp:return 268435456;default:return 32}default:return 32}}var fh=!1,Ti=null,wi=null,Ai=null,Oa=new Map,Da=new Map,Ri=[],zT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function my(t,i){switch(t){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":Oa.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Da.delete(i.pointerId)}}function Ma(t,i,a,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},i!==null&&(i=Is(i),i!==null&&hy(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,c!==null&&i.indexOf(c)===-1&&i.push(c),t)}function PT(t,i,a,l,c){switch(i){case"focusin":return Ti=Ma(Ti,t,i,a,l,c),!0;case"dragenter":return wi=Ma(wi,t,i,a,l,c),!0;case"mouseover":return Ai=Ma(Ai,t,i,a,l,c),!0;case"pointerover":var h=c.pointerId;return Oa.set(h,Ma(Oa.get(h)||null,t,i,a,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Da.set(h,Ma(Da.get(h)||null,t,i,a,l,c)),!0}return!1}function gy(t){var i=Ms(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Dp(t.priority,function(){dy(a)});return}}else if(i===31){if(i=d(a),i!==null){t.blockedOn=i,Dp(t.priority,function(){dy(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Po(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=uh(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);uc=l,a.target.dispatchEvent(l),uc=null}else return i=Is(a),i!==null&&hy(i),t.blockedOn=a,!1;i.shift()}return!0}function _y(t,i,a){Po(t)&&a.delete(i)}function HT(){fh=!1,Ti!==null&&Po(Ti)&&(Ti=null),wi!==null&&Po(wi)&&(wi=null),Ai!==null&&Po(Ai)&&(Ai=null),Oa.forEach(_y),Da.forEach(_y)}function Ho(t,i){t.blockedOn===i&&(t.blockedOn=null,fh||(fh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,HT)))}var Bo=null;function yy(t){Bo!==t&&(Bo=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Bo===t&&(Bo=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],c=t[i+2];if(typeof l!="function"){if(ch(l||a)===null)continue;break}var h=Is(a);h!==null&&(t.splice(i,3),i-=3,uf(h,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function dr(t){function i(b){return Ho(b,t)}Ti!==null&&Ho(Ti,t),wi!==null&&Ho(wi,t),Ai!==null&&Ho(Ai,t),Oa.forEach(i),Da.forEach(i);for(var a=0;a<Ri.length;a++){var l=Ri[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ri.length&&(a=Ri[0],a.blockedOn===null);)gy(a),a.blockedOn===null&&Ri.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],h=a[l+1],g=c[Ct]||null;if(typeof h=="function")g||yy(a);else if(g){var y=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[Ct]||null)y=g.formAction;else if(ch(c)!==null)continue}else y=g.action;typeof y=="function"?a[l+1]=y:(a.splice(l,3),l-=3),yy(a)}}}function vy(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function i(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),c!==null&&(c(),c=null)}}}function hh(t){this._internalRoot=t}qo.prototype.render=hh.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Gt();cy(a,l,t,i,null,null)},qo.prototype.unmount=hh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;cy(t.current,2,null,t,null,null),bo(),i[Ds]=null}};function qo(t){this._internalRoot=t}qo.prototype.unstable_scheduleHydration=function(t){if(t){var i=Op();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Ri.length&&i!==0&&i<Ri[a].priority;a++);Ri.splice(a,0,t),a===0&&gy(t)}};var Ey=e.version;if(Ey!=="19.2.3")throw Error(r(527,Ey,"19.2.3"));F.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var BT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jo.isDisabled&&jo.supportsFiber)try{Br=jo.inject(BT),Ut=jo}catch{}}return xa.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",c=Rg,h=Ng,g=Og;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=oy(t,1,!1,null,null,a,l,null,c,h,g,vy),t[Ds]=i.current,Kf(t),new hh(i)},xa.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,c="",h=Rg,g=Ng,y=Og,b=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(b=a.formState)),i=oy(t,1,!0,i,a??null,l,c,b,h,g,y,vy),i.context=uy(null),a=i.current,l=Gt(),l=tc(l),c=hi(l),c.callback=null,di(a,c,l),a=l,i.current.lanes=a,jr(i,a),bn(i),t[Ds]=i.current,Kf(t),new qo(i)},xa.version="19.2.3",xa}var Dy;function ZT(){if(Dy)return mh.exports;Dy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),mh.exports=XT(),mh.exports}var $T=ZT();const JT=iE($T);var My="popstate";function e1(n={}){function e(r,o){let{pathname:u,search:f,hash:d}=r.location;return Bh("",{pathname:u,search:f,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(r,o){return typeof o=="string"?o:Xa(o)}return n1(e,s,null,n)}function Ve(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function mn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function t1(){return Math.random().toString(36).substring(2,10)}function Iy(n,e){return{usr:n.state,key:n.key,idx:e}}function Bh(n,e,s=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Nr(e):e,state:s,key:e&&e.key||r||t1()}}function Xa({pathname:n="/",search:e="",hash:s=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function Nr(n){let e={};if(n){let s=n.indexOf("#");s>=0&&(e.hash=n.substring(s),n=n.substring(0,s));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function n1(n,e,s,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,f=o.history,d="POP",m=null,p=v();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function v(){return(f.state||{idx:null}).idx}function _(){d="POP";let B=v(),j=B==null?null:B-p;p=B,m&&m({action:d,location:k.location,delta:j})}function E(B,j){d="PUSH";let P=Bh(k.location,B,j);p=v()+1;let V=Iy(P,p),oe=k.createHref(P);try{f.pushState(V,"",oe)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;o.location.assign(oe)}u&&m&&m({action:d,location:k.location,delta:1})}function w(B,j){d="REPLACE";let P=Bh(k.location,B,j);p=v();let V=Iy(P,p),oe=k.createHref(P);f.replaceState(V,"",oe),u&&m&&m({action:d,location:k.location,delta:0})}function N(B){return i1(B)}let k={get action(){return d},get location(){return n(o,f)},listen(B){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(My,_),m=B,()=>{o.removeEventListener(My,_),m=null}},createHref(B){return e(o,B)},createURL:N,encodeLocation(B){let j=N(B);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:w,go(B){return f.go(B)}};return k}function i1(n,e=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(s,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Xa(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function sE(n,e,s="/"){return s1(n,e,s,!1)}function s1(n,e,s,r){let o=typeof e=="string"?Nr(e):e,u=$n(o.pathname||"/",s);if(u==null)return null;let f=rE(n);r1(f);let d=null;for(let m=0;d==null&&m<f.length;++m){let p=g1(u);d=p1(f[m],p,r)}return d}function rE(n,e=[],s=[],r="",o=!1){let u=(f,d,m=o,p)=>{let v={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:d,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&m)return;Ve(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let _=Xn([r,v.relativePath]),E=s.concat(v);f.children&&f.children.length>0&&(Ve(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),rE(f.children,e,E,_,m)),!(f.path==null&&!f.index)&&e.push({path:_,score:h1(_,f.index),routesMeta:E})};return n.forEach((f,d)=>{if(f.path===""||!f.path?.includes("?"))u(f,d);else for(let m of aE(f.path))u(f,d,!0,m)}),e}function aE(n){let e=n.split("/");if(e.length===0)return[];let[s,...r]=e,o=s.endsWith("?"),u=s.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let f=aE(r.join("/")),d=[];return d.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...f),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function r1(n){n.sort((e,s)=>e.score!==s.score?s.score-e.score:d1(e.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var a1=/^:[\w-]+$/,l1=3,o1=2,u1=1,c1=10,f1=-2,xy=n=>n==="*";function h1(n,e){let s=n.split("/"),r=s.length;return s.some(xy)&&(r+=f1),e&&(r+=o1),s.filter(o=>!xy(o)).reduce((o,u)=>o+(a1.test(u)?l1:u===""?u1:c1),r)}function d1(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function p1(n,e,s=!1){let{routesMeta:r}=n,o={},u="/",f=[];for(let d=0;d<r.length;++d){let m=r[d],p=d===r.length-1,v=u==="/"?e:e.slice(u.length)||"/",_=nu({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),E=m.route;if(!_&&p&&s&&!r[r.length-1].route.index&&(_=nu({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!_)return null;Object.assign(o,_.params),f.push({params:o,pathname:Xn([u,_.pathname]),pathnameBase:E1(Xn([u,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(u=Xn([u,_.pathnameBase]))}return f}function nu(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,r]=m1(n.path,n.caseSensitive,n.end),o=e.match(s);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:_},E)=>{if(v==="*"){let N=d[E]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const w=d[E];return _&&!w?p[v]=void 0:p[v]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:n}}function m1(n,e=!1,s=!0){mn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function g1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function $n(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=n.charAt(s);return r&&r!=="/"?null:n.slice(s)||"/"}var lE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_1=n=>lE.test(n);function y1(n,e="/"){let{pathname:s,search:r="",hash:o=""}=typeof n=="string"?Nr(n):n,u;if(s)if(_1(s))u=s;else{if(s.includes("//")){let f=s;s=s.replace(/\/\/+/g,"/"),mn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${s}`)}s.startsWith("/")?u=ky(s.substring(1),"/"):u=ky(s,e)}else u=e;return{pathname:u,search:b1(r),hash:S1(o)}}function ky(n,e){let s=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function vh(n,e,s,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function v1(n){return n.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function oE(n){let e=v1(n);return e.map((s,r)=>r===e.length-1?s.pathname:s.pathnameBase)}function uE(n,e,s,r=!1){let o;typeof n=="string"?o=Nr(n):(o={...n},Ve(!o.pathname||!o.pathname.includes("?"),vh("?","pathname","search",o)),Ve(!o.pathname||!o.pathname.includes("#"),vh("#","pathname","hash",o)),Ve(!o.search||!o.search.includes("#"),vh("#","search","hash",o)));let u=n===""||o.pathname==="",f=u?"/":o.pathname,d;if(f==null)d=s;else{let _=e.length-1;if(!r&&f.startsWith("..")){let E=f.split("/");for(;E[0]==="..";)E.shift(),_-=1;o.pathname=E.join("/")}d=_>=0?e[_]:"/"}let m=y1(o,d),p=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var Xn=n=>n.join("/").replace(/\/\/+/g,"/"),E1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),b1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,S1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,C1=class{constructor(n,e,s,r=!1){this.status=n,this.statusText=e||"",this.internal=r,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function T1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function w1(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var cE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fE(n,e){let s=n;if(typeof s!="string"||!lE.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let r=s,o=!1;if(cE)try{let u=new URL(window.location.href),f=s.startsWith("//")?new URL(u.protocol+s):new URL(s),d=$n(f.pathname,e);f.origin===u.origin&&d!=null?s=d+f.search+f.hash:o=!0}catch{mn(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hE=["POST","PUT","PATCH","DELETE"];new Set(hE);var A1=["GET",...hE];new Set(A1);var Or=D.createContext(null);Or.displayName="DataRouter";var Mu=D.createContext(null);Mu.displayName="DataRouterState";var R1=D.createContext(!1),dE=D.createContext({isTransitioning:!1});dE.displayName="ViewTransition";var N1=D.createContext(new Map);N1.displayName="Fetchers";var O1=D.createContext(null);O1.displayName="Await";var rn=D.createContext(null);rn.displayName="Navigation";var cl=D.createContext(null);cl.displayName="Location";var An=D.createContext({outlet:null,matches:[],isDataRoute:!1});An.displayName="Route";var dd=D.createContext(null);dd.displayName="RouteError";var pE="REACT_ROUTER_ERROR",D1="REDIRECT",M1="ROUTE_ERROR_RESPONSE";function I1(n){if(n.startsWith(`${pE}:${D1}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function x1(n){if(n.startsWith(`${pE}:${M1}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new C1(e.status,e.statusText,e.data)}catch{}}function k1(n,{relative:e}={}){Ve(fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=D.useContext(rn),{hash:o,pathname:u,search:f}=hl(n,{relative:e}),d=u;return s!=="/"&&(d=u==="/"?s:Xn([s,u])),r.createHref({pathname:d,search:f,hash:o})}function fl(){return D.useContext(cl)!=null}function ws(){return Ve(fl(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(cl).location}var mE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gE(n){D.useContext(rn).static||D.useLayoutEffect(n)}function pd(){let{isDataRoute:n}=D.useContext(An);return n?K1():L1()}function L1(){Ve(fl(),"useNavigate() may be used only in the context of a <Router> component.");let n=D.useContext(Or),{basename:e,navigator:s}=D.useContext(rn),{matches:r}=D.useContext(An),{pathname:o}=ws(),u=JSON.stringify(oE(r)),f=D.useRef(!1);return gE(()=>{f.current=!0}),D.useCallback((m,p={})=>{if(mn(f.current,mE),!f.current)return;if(typeof m=="number"){s.go(m);return}let v=uE(m,JSON.parse(u),o,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Xn([e,v.pathname])),(p.replace?s.replace:s.push)(v,p.state,p)},[e,s,u,o,n])}D.createContext(null);function _E(){let{matches:n}=D.useContext(An),e=n[n.length-1];return e?e.params:{}}function hl(n,{relative:e}={}){let{matches:s}=D.useContext(An),{pathname:r}=ws(),o=JSON.stringify(oE(s));return D.useMemo(()=>uE(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function U1(n,e){return yE(n,e)}function yE(n,e,s,r,o){Ve(fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=D.useContext(rn),{matches:f}=D.useContext(An),d=f[f.length-1],m=d?d.params:{},p=d?d.pathname:"/",v=d?d.pathnameBase:"/",_=d&&d.route;{let P=_&&_.path||"";EE(p,!_||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let E=ws(),w;if(e){let P=typeof e=="string"?Nr(e):e;Ve(v==="/"||P.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${P.pathname}" was given in the \`location\` prop.`),w=P}else w=E;let N=w.pathname||"/",k=N;if(v!=="/"){let P=v.replace(/^\//,"").split("/");k="/"+N.replace(/^\//,"").split("/").slice(P.length).join("/")}let B=sE(n,{pathname:k});mn(_||B!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),mn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=q1(B&&B.map(P=>Object.assign({},P,{params:Object.assign({},m,P.params),pathname:Xn([v,u.encodeLocation?u.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?v:Xn([v,u.encodeLocation?u.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),f,s,r,o);return e&&j?D.createElement(cl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},j):j}function z1(){let n=F1(),e=T1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:u},"ErrorBoundary")," or"," ",D.createElement("code",{style:u},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),s?D.createElement("pre",{style:o},s):null,f)}var P1=D.createElement(z1,null),vE=class extends D.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const s=x1(n.digest);s&&(n=s)}let e=n!==void 0?D.createElement(An.Provider,{value:this.props.routeContext},D.createElement(dd.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?D.createElement(H1,{error:n},e):e}};vE.contextType=R1;var Eh=new WeakMap;function H1({children:n,error:e}){let{basename:s}=D.useContext(rn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=I1(e.digest);if(r){let o=Eh.get(e);if(o)throw o;let u=fE(r.location,s);if(cE&&!Eh.get(e))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw Eh.set(e,f),f}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return n}function B1({routeContext:n,match:e,children:s}){let r=D.useContext(Or);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(An.Provider,{value:n},s)}function q1(n,e=[],s=null,r=null,o=null){if(n==null){if(!s)return null;if(s.errors)n=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let u=n,f=s?.errors;if(f!=null){let v=u.findIndex(_=>_.route.id&&f?.[_.route.id]!==void 0);Ve(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let d=!1,m=-1;if(s)for(let v=0;v<u.length;v++){let _=u[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=v),_.route.id){let{loaderData:E,errors:w}=s,N=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||N){d=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let p=s&&r?(v,_)=>{r(v,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:w1(s.matches),errorInfo:_})}:void 0;return u.reduceRight((v,_,E)=>{let w,N=!1,k=null,B=null;s&&(w=f&&_.route.id?f[_.route.id]:void 0,k=_.route.errorElement||P1,d&&(m<0&&E===0?(EE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,B=null):m===E&&(N=!0,B=_.route.hydrateFallbackElement||null)));let j=e.concat(u.slice(0,E+1)),P=()=>{let V;return w?V=k:N?V=B:_.route.Component?V=D.createElement(_.route.Component,null):_.route.element?V=_.route.element:V=v,D.createElement(B1,{match:_,routeContext:{outlet:v,matches:j,isDataRoute:s!=null},children:V})};return s&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?D.createElement(vE,{location:s.location,revalidation:s.revalidation,component:k,error:w,children:P(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:p}):P()},null)}function md(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j1(n){let e=D.useContext(Or);return Ve(e,md(n)),e}function V1(n){let e=D.useContext(Mu);return Ve(e,md(n)),e}function G1(n){let e=D.useContext(An);return Ve(e,md(n)),e}function gd(n){let e=G1(n),s=e.matches[e.matches.length-1];return Ve(s.route.id,`${n} can only be used on routes that contain a unique "id"`),s.route.id}function Y1(){return gd("useRouteId")}function F1(){let n=D.useContext(dd),e=V1("useRouteError"),s=gd("useRouteError");return n!==void 0?n:e.errors?.[s]}function K1(){let{router:n}=j1("useNavigate"),e=gd("useNavigate"),s=D.useRef(!1);return gE(()=>{s.current=!0}),D.useCallback(async(o,u={})=>{mn(s.current,mE),s.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...u}))},[n,e])}var Ly={};function EE(n,e,s){!e&&!Ly[n]&&(Ly[n]=!0,mn(!1,s))}D.memo(Q1);function Q1({routes:n,future:e,state:s,onError:r}){return yE(n,void 0,s,r,e)}function Ko(n){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function W1({basename:n="/",children:e=null,location:s,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Ve(!fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),m=D.useMemo(()=>({basename:d,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[d,o,u,f]);typeof s=="string"&&(s=Nr(s));let{pathname:p="/",search:v="",hash:_="",state:E=null,key:w="default"}=s,N=D.useMemo(()=>{let k=$n(p,d);return k==null?null:{location:{pathname:k,search:v,hash:_,state:E,key:w},navigationType:r}},[d,p,v,_,E,w,r]);return mn(N!=null,`<Router basename="${d}"> is not able to match the URL "${p}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:D.createElement(rn.Provider,{value:m},D.createElement(cl.Provider,{children:e,value:N}))}function X1({children:n,location:e}){return U1(qh(n),e)}function qh(n,e=[]){let s=[];return D.Children.forEach(n,(r,o)=>{if(!D.isValidElement(r))return;let u=[...e,o];if(r.type===D.Fragment){s.push.apply(s,qh(r.props.children,u));return}Ve(r.type===Ko,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=qh(r.props.children,u)),s.push(f)}),s}var Qo="get",Wo="application/x-www-form-urlencoded";function Iu(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function Z1(n){return Iu(n)&&n.tagName.toLowerCase()==="button"}function $1(n){return Iu(n)&&n.tagName.toLowerCase()==="form"}function J1(n){return Iu(n)&&n.tagName.toLowerCase()==="input"}function ew(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function tw(n,e){return n.button===0&&(!e||e==="_self")&&!ew(n)}var Vo=null;function nw(){if(Vo===null)try{new FormData(document.createElement("form"),0),Vo=!1}catch{Vo=!0}return Vo}var iw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bh(n){return n!=null&&!iw.has(n)?(mn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wo}"`),null):n}function sw(n,e){let s,r,o,u,f;if($1(n)){let d=n.getAttribute("action");r=d?$n(d,e):null,s=n.getAttribute("method")||Qo,o=bh(n.getAttribute("enctype"))||Wo,u=new FormData(n)}else if(Z1(n)||J1(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(r=m?$n(m,e):null,s=n.getAttribute("formmethod")||d.getAttribute("method")||Qo,o=bh(n.getAttribute("formenctype"))||bh(d.getAttribute("enctype"))||Wo,u=new FormData(d,n),!nw()){let{name:p,type:v,value:_}=n;if(v==="image"){let E=p?`${p}.`:"";u.append(`${E}x`,"0"),u.append(`${E}y`,"0")}else p&&u.append(p,_)}}else{if(Iu(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Qo,r=null,o=Wo,f=n}return u&&o==="text/plain"&&(f=u,u=void 0),{action:r,method:s.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _d(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rw(n,e,s){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${s}`:e&&$n(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function aw(n,e){if(n.id in e)return e[n.id];try{let s=await import(n.module);return e[n.id]=s,s}catch(s){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lw(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ow(n,e,s){let r=await Promise.all(n.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await aw(u,s);return f.links?f.links():[]}return[]}));return hw(r.flat(1).filter(lw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Uy(n,e,s,r,o,u){let f=(m,p)=>s[p]?m.route.id!==s[p].route.id:!0,d=(m,p)=>s[p].pathname!==m.pathname||s[p].route.path?.endsWith("*")&&s[p].params["*"]!==m.params["*"];return u==="assets"?e.filter((m,p)=>f(m,p)||d(m,p)):u==="data"?e.filter((m,p)=>{let v=r.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(f(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function uw(n,e,{includeHydrateFallback:s}={}){return cw(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function cw(n){return[...new Set(n)]}function fw(n){let e={},s=Object.keys(n).sort();for(let r of s)e[r]=n[r];return e}function hw(n,e){let s=new Set;return new Set(e),n.reduce((r,o)=>{let u=JSON.stringify(fw(o));return s.has(u)||(s.add(u),r.push({key:u,link:o})),r},[])}function bE(){let n=D.useContext(Or);return _d(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function dw(){let n=D.useContext(Mu);return _d(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var yd=D.createContext(void 0);yd.displayName="FrameworkContext";function SE(){let n=D.useContext(yd);return _d(n,"You must render this element inside a <HydratedRouter> element"),n}function pw(n,e){let s=D.useContext(yd),[r,o]=D.useState(!1),[u,f]=D.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,E=D.useRef(null);D.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let k=j=>{j.forEach(P=>{f(P.isIntersecting)})},B=new IntersectionObserver(k,{threshold:.5});return E.current&&B.observe(E.current),()=>{B.disconnect()}}},[n]),D.useEffect(()=>{if(r){let k=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(k)}}},[r]);let w=()=>{o(!0)},N=()=>{o(!1),f(!1)};return s?n!=="intent"?[u,E,{}]:[u,E,{onFocus:ka(d,w),onBlur:ka(m,N),onMouseEnter:ka(p,w),onMouseLeave:ka(v,N),onTouchStart:ka(_,w)}]:[!1,E,{}]}function ka(n,e){return s=>{n&&n(s),s.defaultPrevented||e(s)}}function mw({page:n,...e}){let{router:s}=bE(),r=D.useMemo(()=>sE(s.routes,n,s.basename),[s.routes,n,s.basename]);return r?D.createElement(_w,{page:n,matches:r,...e}):null}function gw(n){let{manifest:e,routeModules:s}=SE(),[r,o]=D.useState([]);return D.useEffect(()=>{let u=!1;return ow(n,e,s).then(f=>{u||o(f)}),()=>{u=!0}},[n,e,s]),r}function _w({page:n,matches:e,...s}){let r=ws(),{manifest:o,routeModules:u}=SE(),{basename:f}=bE(),{loaderData:d,matches:m}=dw(),p=D.useMemo(()=>Uy(n,e,m,o,r,"data"),[n,e,m,o,r]),v=D.useMemo(()=>Uy(n,e,m,o,r,"assets"),[n,e,m,o,r]),_=D.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let N=new Set,k=!1;if(e.forEach(j=>{let P=o.routes[j.route.id];!P||!P.hasLoader||(!p.some(V=>V.route.id===j.route.id)&&j.route.id in d&&u[j.route.id]?.shouldRevalidate||P.hasClientLoader?k=!0:N.add(j.route.id))}),N.size===0)return[];let B=rw(n,f,"data");return k&&N.size>0&&B.searchParams.set("_routes",e.filter(j=>N.has(j.route.id)).map(j=>j.route.id).join(",")),[B.pathname+B.search]},[f,d,r,o,p,e,n,u]),E=D.useMemo(()=>uw(v,o),[v,o]),w=gw(v);return D.createElement(D.Fragment,null,_.map(N=>D.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...s})),E.map(N=>D.createElement("link",{key:N,rel:"modulepreload",href:N,...s})),w.map(({key:N,link:k})=>D.createElement("link",{key:N,nonce:s.nonce,...k})))}function yw(...n){return e=>{n.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var vw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vw&&(window.__reactRouterVersion="7.11.0")}catch{}function Ew({basename:n,children:e,unstable_useTransitions:s,window:r}){let o=D.useRef();o.current==null&&(o.current=e1({window:r,v5Compat:!0}));let u=o.current,[f,d]=D.useState({action:u.action,location:u.location}),m=D.useCallback(p=>{s===!1?d(p):D.startTransition(()=>d(p))},[s]);return D.useLayoutEffect(()=>u.listen(m),[u,m]),D.createElement(W1,{basename:n,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:s})}var CE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TE=D.forwardRef(function({onClick:e,discover:s="render",prefetch:r="none",relative:o,reloadDocument:u,replace:f,state:d,target:m,to:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:E,...w},N){let{basename:k,unstable_useTransitions:B}=D.useContext(rn),j=typeof p=="string"&&CE.test(p),P=fE(p,k);p=P.to;let V=k1(p,{relative:o}),[oe,W,Ce]=pw(r,w),Z=Tw(p,{replace:f,state:d,target:m,preventScrollReset:v,relative:o,viewTransition:_,unstable_defaultShouldRevalidate:E,unstable_useTransitions:B});function ee(Ue){e&&e(Ue),Ue.defaultPrevented||Z(Ue)}let ke=D.createElement("a",{...w,...Ce,href:P.absoluteURL||V,onClick:P.isExternal||u?e:ee,ref:yw(N,W),target:m,"data-discover":!j&&s==="render"?"true":void 0});return oe&&!j?D.createElement(D.Fragment,null,ke,D.createElement(mw,{page:V})):ke});TE.displayName="Link";var bw=D.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:r="",end:o=!1,style:u,to:f,viewTransition:d,children:m,...p},v){let _=hl(f,{relative:p.relative}),E=ws(),w=D.useContext(Mu),{navigator:N,basename:k}=D.useContext(rn),B=w!=null&&Ow(_)&&d===!0,j=N.encodeLocation?N.encodeLocation(_).pathname:_.pathname,P=E.pathname,V=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(P=P.toLowerCase(),V=V?V.toLowerCase():null,j=j.toLowerCase()),V&&k&&(V=$n(V,k)||V);const oe=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let W=P===j||!o&&P.startsWith(j)&&P.charAt(oe)==="/",Ce=V!=null&&(V===j||!o&&V.startsWith(j)&&V.charAt(j.length)==="/"),Z={isActive:W,isPending:Ce,isTransitioning:B},ee=W?e:void 0,ke;typeof r=="function"?ke=r(Z):ke=[r,W?"active":null,Ce?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let Ue=typeof u=="function"?u(Z):u;return D.createElement(TE,{...p,"aria-current":ee,className:ke,ref:v,style:Ue,to:f,viewTransition:d},typeof m=="function"?m(Z):m)});bw.displayName="NavLink";var Sw=D.forwardRef(({discover:n="render",fetcherKey:e,navigate:s,reloadDocument:r,replace:o,state:u,method:f=Qo,action:d,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:E,...w},N)=>{let{unstable_useTransitions:k}=D.useContext(rn),B=Rw(),j=Nw(d,{relative:p}),P=f.toLowerCase()==="get"?"get":"post",V=typeof d=="string"&&CE.test(d),oe=W=>{if(m&&m(W),W.defaultPrevented)return;W.preventDefault();let Ce=W.nativeEvent.submitter,Z=Ce?.getAttribute("formmethod")||f,ee=()=>B(Ce||W.currentTarget,{fetcherKey:e,method:Z,navigate:s,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:E});k&&s!==!1?D.startTransition(()=>ee()):ee()};return D.createElement("form",{ref:N,method:P,action:j,onSubmit:r?m:oe,...w,"data-discover":!V&&n==="render"?"true":void 0})});Sw.displayName="Form";function Cw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wE(n){let e=D.useContext(Or);return Ve(e,Cw(n)),e}function Tw(n,{target:e,replace:s,state:r,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let p=pd(),v=ws(),_=hl(n,{relative:u});return D.useCallback(E=>{if(tw(E,e)){E.preventDefault();let w=s!==void 0?s:Xa(v)===Xa(_),N=()=>p(n,{replace:w,state:r,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:d});m?D.startTransition(()=>N()):N()}},[v,p,_,s,r,e,n,o,u,f,d,m])}var ww=0,Aw=()=>`__${String(++ww)}__`;function Rw(){let{router:n}=wE("useSubmit"),{basename:e}=D.useContext(rn),s=Y1(),r=n.fetch,o=n.navigate;return D.useCallback(async(u,f={})=>{let{action:d,method:m,encType:p,formData:v,body:_}=sw(u,e);if(f.navigate===!1){let E=f.fetcherKey||Aw();await r(E,s,f.action||d,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:_,formMethod:f.method||m,formEncType:f.encType||p,flushSync:f.flushSync})}else await o(f.action||d,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:_,formMethod:f.method||m,formEncType:f.encType||p,replace:f.replace,state:f.state,fromRouteId:s,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,o,e,s])}function Nw(n,{relative:e}={}){let{basename:s}=D.useContext(rn),r=D.useContext(An);Ve(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...hl(n||".",{relative:e})},f=ws();if(n==null){u.search=f.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let v=d.toString();u.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:Xn([s,u.pathname])),Xa(u)}function Ow(n,{relative:e}={}){let s=D.useContext(dE);Ve(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=wE("useViewTransitionState"),o=hl(n,{relative:e});if(!s.isTransitioning)return!1;let u=$n(s.currentLocation.pathname,r)||s.currentLocation.pathname,f=$n(s.nextLocation.pathname,r)||s.nextLocation.pathname;return nu(o.pathname,f)!=null||nu(o.pathname,u)!=null}const Dw=()=>{};var zy={};const AE={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const G=function(n,e){if(!n)throw Dr(e)},Dr=function(n){return new Error("Firebase Database ("+AE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};const RE=function(n){const e=[];let s=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},Mw=function(n){const e=[];let s=0,r=0;for(;s<n.length;){const o=n[s++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[s++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[s++],f=n[s++],d=n[s++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const u=n[s++],f=n[s++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},vd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],f=o+1<n.length,d=f?n[o+1]:0,m=o+2<n.length,p=m?n[o+2]:0,v=u>>2,_=(u&3)<<4|d>>4;let E=(d&15)<<2|p>>6,w=p&63;m||(w=64,f||(E=64)),r.push(s[v],s[_],s[E],s[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(RE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Mw(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=s[n.charAt(o++)],d=o<n.length?s[n.charAt(o)]:0;++o;const p=o<n.length?s[n.charAt(o)]:64;++o;const _=o<n.length?s[n.charAt(o)]:64;if(++o,u==null||d==null||p==null||_==null)throw new Iw;const E=u<<2|d>>4;if(r.push(E),p!==64){const w=d<<4&240|p>>2;if(r.push(w),_!==64){const N=p<<6&192|_;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Iw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NE=function(n){const e=RE(n);return vd.encodeByteArray(e,!0)},iu=function(n){return NE(n).replace(/\./g,"")},su=function(n){try{return vd.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xw(n){return OE(void 0,n)}function OE(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const s=e;return new Date(s.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const s in e)!e.hasOwnProperty(s)||!kw(s)||(n[s]=OE(n[s],e[s]));return n}function kw(n){return n!=="__proto__"}function Lw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Uw=()=>Lw().__FIREBASE_DEFAULTS__,zw=()=>{if(typeof process>"u"||typeof zy>"u")return;const n=zy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Pw=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&su(n[1]);return e&&JSON.parse(e)},Ed=()=>{try{return Dw()||Uw()||zw()||Pw()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},DE=n=>Ed()?.emulatorHosts?.[n],Hw=n=>{const e=DE(n);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},ME=()=>Ed()?.config,IE=n=>Ed()?.[`_${n}`];class xu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}function Mr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xE(n){return(await fetch(n,{credentials:"include"})).ok}function Bw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[iu(JSON.stringify(s)),iu(JSON.stringify(f)),""].join(".")}const Va={};function qw(){const n={prod:[],emulator:[]};for(const e of Object.keys(Va))Va[e]?n.emulator.push(e):n.prod.push(e);return n}function jw(n){let e=document.getElementById(n),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),s=!0),{created:s,element:e}}let Py=!1;function kE(n,e){if(typeof window>"u"||typeof document>"u"||!Mr(window.location.host)||Va[n]===e||Va[n]||Py)return;Va[n]=e;function s(E){return`__firebase__banner__${E}`}const r="__firebase__banner",u=qw().prod.length>0;function f(){const E=document.getElementById(r);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Py=!0,f()},E}function v(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=jw(r),w=s("text"),N=document.getElementById(w)||document.createElement("span"),k=s("learnmore"),B=document.getElementById(k)||document.createElement("a"),j=s("preprendIcon"),P=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const V=E.element;d(V),v(B,k);const oe=p();m(P,j),V.append(P,N,B,oe),document.body.appendChild(V)}u?(N.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function Vw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gw(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function LE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yw(){const n=bt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Fw(){return AE.NODE_ADMIN===!0}function Kw(){try{return typeof indexedDB=="object"}catch{return!1}}function Qw(){return new Promise((n,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(s){e(s)}})}const Ww="FirebaseError";class Gi extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=Ww,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dl.prototype.create)}}class dl{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Xw(u,r):"Error",d=`${this.serviceName}: ${f} (${o}).`;return new Gi(o,d,r)}}function Xw(n,e){return n.replace(Zw,(s,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Zw=/\{\$([^}]+)}/g;function Za(n){return JSON.parse(n)}function nt(n){return JSON.stringify(n)}const UE=function(n){let e={},s={},r={},o="";try{const u=n.split(".");e=Za(su(u[0])||""),s=Za(su(u[1])||""),o=u[2],r=s.d||{},delete s.d}catch{}return{header:e,claims:s,data:r,signature:o}},$w=function(n){const e=UE(n),s=e.claims;return!!s&&typeof s=="object"&&s.hasOwnProperty("iat")},Jw=function(n){const e=UE(n).claims;return typeof e=="object"&&e.admin===!0};function ni(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Sr(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function jh(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ru(n,e,s){const r={};for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=e.call(s,n[o],o,n));return r}function ys(n,e){if(n===e)return!0;const s=Object.keys(n),r=Object.keys(e);for(const o of s){if(!r.includes(o))return!1;const u=n[o],f=e[o];if(Hy(u)&&Hy(f)){if(!ys(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!s.includes(o))return!1;return!0}function Hy(n){return n!==null&&typeof n=="object"}function Ir(n){const e=[];for(const[s,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qa(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ja(n){const e=n.indexOf("?");if(!e)return"";const s=n.indexOf("#",e);return n.substring(e,s>0?s:void 0)}class eA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,s){s||(s=0);const r=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)r[_]=e.charCodeAt(s)<<24|e.charCodeAt(s+1)<<16|e.charCodeAt(s+2)<<8|e.charCodeAt(s+3),s+=4;else for(let _=0;_<16;_++)r[_]=e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3],s+=4;for(let _=16;_<80;_++){const E=r[_-3]^r[_-8]^r[_-14]^r[_-16];r[_]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],f=this.chain_[2],d=this.chain_[3],m=this.chain_[4],p,v;for(let _=0;_<80;_++){_<40?_<20?(p=d^u&(f^d),v=1518500249):(p=u^f^d,v=1859775393):_<60?(p=u&f|d&(u|f),v=2400959708):(p=u^f^d,v=3395469782);const E=(o<<5|o>>>27)+p+m+v+r[_]&4294967295;m=d,d=f,f=(u<<30|u>>>2)&4294967295,u=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,s){if(e==null)return;s===void 0&&(s=e.length);const r=s-this.blockSize;let o=0;const u=this.buf_;let f=this.inbuf_;for(;o<s;){if(f===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<s;)if(u[f]=e.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}else for(;o<s;)if(u[f]=e[o],++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=s}digest(){const e=[];let s=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=s&255,s/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[o]>>u&255,++r;return e}}function tA(n,e){const s=new nA(n,e);return s.subscribe.bind(s)}class nA{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,r){let o;if(e===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");iA(e,["next","error","complete"])?o=e:o={next:e,error:s,complete:r},o.next===void 0&&(o.next=Sh),o.error===void 0&&(o.error=Sh),o.complete===void 0&&(o.complete=Sh);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iA(n,e){if(typeof n!="object"||n===null)return!1;for(const s of e)if(s in n&&typeof n[s]=="function")return!0;return!1}function Sh(){}function Sd(n,e){return`${n} failed: ${e} argument `}const sA=function(n){const e=[];let s=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,G(r<n.length,"Surrogate pair missing trail surrogate.");const f=n.charCodeAt(r)-56320;o=65536+(u<<10)+f}o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):o<65536?(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},ku=function(n){let e=0;for(let s=0;s<n.length;s++){const r=n.charCodeAt(s);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,s++):e+=3}return e};function St(n){return n&&n._delegate?n._delegate:n}class vs{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ds="[DEFAULT]";class rA{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new xu;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lA(e))try{this.getOrInitializeService({instanceIdentifier:ds})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ds){return this.instances.has(e)}getOptions(e=ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[u,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&f.resolve(o)}return o}onInit(e,s){const r=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const o of r)try{o(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aA(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ds){return this.component?this.component.multipleInstances?e:ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aA(n){return n===ds?void 0:n}function lA(n){return n.instantiationMode==="EAGER"}class oA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new rA(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const uA={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},cA=Me.INFO,fA={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},hA=(n,e,...s)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=fA[e];if(o)console[o](`[${r}]  ${n.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cd{constructor(e){this.name=e,this._logLevel=cA,this._logHandler=hA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const dA=(n,e)=>e.some(s=>n instanceof s);let By,qy;function pA(){return By||(By=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mA(){return qy||(qy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zE=new WeakMap,Vh=new WeakMap,PE=new WeakMap,Ch=new WeakMap,Td=new WeakMap;function gA(n){const e=new Promise((s,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{s(Li(n.result)),o()},f=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",f)});return e.then(s=>{s instanceof IDBCursor&&zE.set(s,n)}).catch(()=>{}),Td.set(e,n),e}function _A(n){if(Vh.has(n))return;const e=new Promise((s,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{s(),o()},f=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});Vh.set(n,e)}let Gh={get(n,e,s){if(n instanceof IDBTransaction){if(e==="done")return Vh.get(n);if(e==="objectStoreNames")return n.objectStoreNames||PE.get(n);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Li(n[e])},set(n,e,s){return n[e]=s,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function yA(n){Gh=n(Gh)}function vA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=n.call(Th(this),e,...s);return PE.set(r,e.sort?e.sort():[e]),Li(r)}:mA().includes(n)?function(...e){return n.apply(Th(this),e),Li(zE.get(this))}:function(...e){return Li(n.apply(Th(this),e))}}function EA(n){return typeof n=="function"?vA(n):(n instanceof IDBTransaction&&_A(n),dA(n,pA())?new Proxy(n,Gh):n)}function Li(n){if(n instanceof IDBRequest)return gA(n);if(Ch.has(n))return Ch.get(n);const e=EA(n);return e!==n&&(Ch.set(n,e),Td.set(e,n)),e}const Th=n=>Td.get(n);function bA(n,e,{blocked:s,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(n,e),d=Li(f);return r&&f.addEventListener("upgradeneeded",m=>{r(Li(f.result),m.oldVersion,m.newVersion,Li(f.transaction),m)}),s&&f.addEventListener("blocked",m=>s(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const SA=["get","getKey","getAll","getAllKeys","count"],CA=["put","add","delete","clear"],wh=new Map;function jy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(wh.get(e))return wh.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,o=CA.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(o||SA.includes(s)))return;const u=async function(f,...d){const m=this.transaction(f,o?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[s](...d),o&&m.done]))[0]};return wh.set(e,u),u}yA(n=>({...n,get:(e,s,r)=>jy(e,s)||n.get(e,s,r),has:(e,s)=>!!jy(e,s)||n.has(e,s)}));class TA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(wA(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function wA(n){return n.getComponent()?.type==="VERSION"}const Yh="@firebase/app",Vy="0.14.6";const Jn=new Cd("@firebase/app"),AA="@firebase/app-compat",RA="@firebase/analytics-compat",NA="@firebase/analytics",OA="@firebase/app-check-compat",DA="@firebase/app-check",MA="@firebase/auth",IA="@firebase/auth-compat",xA="@firebase/database",kA="@firebase/data-connect",LA="@firebase/database-compat",UA="@firebase/functions",zA="@firebase/functions-compat",PA="@firebase/installations",HA="@firebase/installations-compat",BA="@firebase/messaging",qA="@firebase/messaging-compat",jA="@firebase/performance",VA="@firebase/performance-compat",GA="@firebase/remote-config",YA="@firebase/remote-config-compat",FA="@firebase/storage",KA="@firebase/storage-compat",QA="@firebase/firestore",WA="@firebase/ai",XA="@firebase/firestore-compat",ZA="firebase",$A="12.6.0";const Fh="[DEFAULT]",JA={[Yh]:"fire-core",[AA]:"fire-core-compat",[NA]:"fire-analytics",[RA]:"fire-analytics-compat",[DA]:"fire-app-check",[OA]:"fire-app-check-compat",[MA]:"fire-auth",[IA]:"fire-auth-compat",[xA]:"fire-rtdb",[kA]:"fire-data-connect",[LA]:"fire-rtdb-compat",[UA]:"fire-fn",[zA]:"fire-fn-compat",[PA]:"fire-iid",[HA]:"fire-iid-compat",[BA]:"fire-fcm",[qA]:"fire-fcm-compat",[jA]:"fire-perf",[VA]:"fire-perf-compat",[GA]:"fire-rc",[YA]:"fire-rc-compat",[FA]:"fire-gcs",[KA]:"fire-gcs-compat",[QA]:"fire-fst",[XA]:"fire-fst-compat",[WA]:"fire-vertex","fire-js":"fire-js",[ZA]:"fire-js-all"};const au=new Map,eR=new Map,Kh=new Map;function Gy(n,e){try{n.container.addComponent(e)}catch(s){Jn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,s)}}function Cr(n){const e=n.name;if(Kh.has(e))return Jn.debug(`There were multiple attempts to register component ${e}.`),!1;Kh.set(e,n);for(const s of au.values())Gy(s,n);for(const s of eR.values())Gy(s,n);return!0}function wd(n,e){const s=n.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),n.container.getProvider(e)}function un(n){return n==null?!1:n.settings!==void 0}const tR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ui=new dl("app","Firebase",tR);class nR{constructor(e,s,r){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}}const xr=$A;function HE(n,e={}){let s=n;typeof e!="object"&&(e={name:e});const r={name:Fh,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ui.create("bad-app-name",{appName:String(o)});if(s||(s=ME()),!s)throw Ui.create("no-options");const u=au.get(o);if(u){if(ys(s,u.options)&&ys(r,u.config))return u;throw Ui.create("duplicate-app",{appName:o})}const f=new oA(o);for(const m of Kh.values())f.addComponent(m);const d=new nR(s,r,f);return au.set(o,d),d}function BE(n=Fh){const e=au.get(n);if(!e&&n===Fh&&ME())return HE();if(!e)throw Ui.create("no-app",{appName:n});return e}function zi(n,e,s){let r=JA[n]??n;s&&(r+=`-${s}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jn.warn(f.join(" "));return}Cr(new vs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const iR="firebase-heartbeat-database",sR=1,$a="firebase-heartbeat-store";let Ah=null;function qE(){return Ah||(Ah=bA(iR,sR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($a)}catch(s){console.warn(s)}}}}).catch(n=>{throw Ui.create("idb-open",{originalErrorMessage:n.message})})),Ah}async function rR(n){try{const s=(await qE()).transaction($a),r=await s.objectStore($a).get(jE(n));return await s.done,r}catch(e){if(e instanceof Gi)Jn.warn(e.message);else{const s=Ui.create("idb-get",{originalErrorMessage:e?.message});Jn.warn(s.message)}}}async function Yy(n,e){try{const r=(await qE()).transaction($a,"readwrite");await r.objectStore($a).put(e,jE(n)),await r.done}catch(s){if(s instanceof Gi)Jn.warn(s.message);else{const r=Ui.create("idb-set",{originalErrorMessage:s?.message});Jn.warn(r.message)}}}function jE(n){return`${n.name}!${n.options.appId}`}const aR=1024,lR=30;class oR{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new cR(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Fy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>lR){const o=fR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Jn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Fy(),{heartbeatsToSend:s,unsentEntries:r}=uR(this._heartbeatsCache.heartbeats),o=iu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Jn.warn(e),""}}}function Fy(){return new Date().toISOString().substring(0,10)}function uR(n,e=aR){const s=[];let r=n.slice();for(const o of n){const u=s.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Ky(s)>e){u.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),Ky(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class cR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kw()?Qw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await rR(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Yy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Yy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ky(n){return iu(JSON.stringify({version:2,heartbeats:n})).length}function fR(n){if(n.length===0)return-1;let e=0,s=n[0].date;for(let r=1;r<n.length;r++)n[r].date<s&&(s=n[r].date,e=r);return e}function hR(n){Cr(new vs("platform-logger",e=>new TA(e),"PRIVATE")),Cr(new vs("heartbeat",e=>new oR(e),"PRIVATE")),zi(Yh,Vy,n),zi(Yh,Vy,"esm2020"),zi("fire-js","")}hR("");var dR="firebase",pR="12.7.0";zi(dR,pR,"app");function VE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mR=VE,GE=new dl("auth","Firebase",VE());const lu=new Cd("@firebase/auth");function gR(n,...e){lu.logLevel<=Me.WARN&&lu.warn(`Auth (${xr}): ${n}`,...e)}function Xo(n,...e){lu.logLevel<=Me.ERROR&&lu.error(`Auth (${xr}): ${n}`,...e)}function gn(n,...e){throw Ad(n,...e)}function Cn(n,...e){return Ad(n,...e)}function YE(n,e,s){const r={...mR(),[e]:s};return new dl("auth","Firebase",r).create(e,{appName:n.name})}function Pi(n){return YE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ad(n,...e){if(typeof n!="string"){const s=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(s,...r)}return GE.create(n,...e)}function ne(n,e,...s){if(!n)throw Ad(e,...s)}function Fn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Xo(e),new Error(e)}function ei(n,e){n||Fn(e)}function Qh(){return typeof self<"u"&&self.location?.href||""}function _R(){return Qy()==="http:"||Qy()==="https:"}function Qy(){return typeof self<"u"&&self.location?.protocol||null}function yR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_R()||Gw()||"connection"in navigator)?navigator.onLine:!0}function vR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class pl{constructor(e,s){this.shortDelay=e,this.longDelay=s,ei(s>e,"Short delay should be less than long delay!"),this.isMobile=bd()||LE()}get(){return yR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rd(n,e){ei(n.emulator,"Emulator should always be set here");const{url:s}=n.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}class FE{static initialize(e,s,r){this.fetchImpl=e,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ER={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SR=new pl(3e4,6e4);function As(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Yi(n,e,s,r,o={}){return KE(n,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const d=Ir({key:n.config.apiKey,...f}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:m,...u};return Vw()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Mr(n.emulatorConfig.host)&&(p.credentials="include"),FE.fetch()(await QE(n,n.config.apiHost,s,d),p)})}async function KE(n,e,s){n._canInitEmulator=!1;const r={...ER,...e};try{const o=new TR(n),u=await Promise.race([s(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Go(n,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const d=u.ok?f.errorMessage:f.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Go(n,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw Go(n,"email-already-in-use",f);if(m==="USER_DISABLED")throw Go(n,"user-disabled",f);const v=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw YE(n,v,p);gn(n,v)}}catch(o){if(o instanceof Gi)throw o;gn(n,"network-request-failed",{message:String(o)})}}async function Lu(n,e,s,r,o={}){const u=await Yi(n,e,s,r,o);return"mfaPendingCredential"in u&&gn(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function QE(n,e,s,r){const o=`${e}${s}?${r}`,u=n,f=u.config.emulator?Rd(n.config,o):`${n.config.apiScheme}://${o}`;return bR.includes(s)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function CR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(Cn(this.auth,"network-request-failed")),SR.get())})}}function Go(n,e,s){const r={appName:n.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const o=Cn(n,e,r);return o.customData._tokenResponse=s,o}function Wy(n){return n!==void 0&&n.enterprise!==void 0}class wR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===e)return CR(s.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AR(n,e){return Yi(n,"GET","/v2/recaptchaConfig",As(n,e))}async function RR(n,e){return Yi(n,"POST","/v1/accounts:delete",e)}async function ou(n,e){return Yi(n,"POST","/v1/accounts:lookup",e)}function Ga(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NR(n,e=!1){const s=St(n),r=await s.getIdToken(e),o=Nd(r);ne(o&&o.exp&&o.auth_time&&o.iat,s.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:Ga(Rh(o.auth_time)),issuedAtTime:Ga(Rh(o.iat)),expirationTime:Ga(Rh(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Rh(n){return Number(n)*1e3}function Nd(n){const[e,s,r]=n.split(".");if(e===void 0||s===void 0||r===void 0)return Xo("JWT malformed, contained fewer than 3 sections"),null;try{const o=su(s);return o?JSON.parse(o):(Xo("Failed to decode base64 JWT payload"),null)}catch(o){return Xo("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Xy(n){const e=Nd(n);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ja(n,e,s=!1){if(s)return e;try{return await e}catch(r){throw r instanceof Gi&&OR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function OR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class DR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wh{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ga(this.lastLoginAt),this.creationTime=Ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function uu(n){const e=n.auth,s=await n.getIdToken(),r=await Ja(n,ou(e,{idToken:s}));ne(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const u=o.providerUserInfo?.length?WE(o.providerUserInfo):[],f=IR(n.providerData,u),d=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!f?.length,p=d?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Wh(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function MR(n){const e=St(n);await uu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IR(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function WE(n){return n.map(({providerId:e,...s})=>({providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}))}async function xR(n,e){const s=await KE(n,{},async()=>{const r=Ir({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,f=await QE(n,o,"/v1/token",`key=${u}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:r};return n.emulatorConfig&&Mr(n.emulatorConfig.host)&&(m.credentials="include"),FE.fetch()(f,m)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function kR(n,e){return Yi(n,"POST","/v2/accounts:revokeToken",As(n,e))}class _r{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const s=Xy(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:r,refreshToken:o,expiresIn:u}=await xR(e,s);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,s,r){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,s){const{refreshToken:r,accessToken:o,expirationTime:u}=s,f=new _r;return r&&(ne(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(ne(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ne(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _r,this.toJSON())}_performRefresh(){return Fn("not implemented")}}function Oi(n,e){ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class fn{constructor({uid:e,auth:s,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new DR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wh(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const s=await Ja(this,this.stsTokenManager.getToken(this.auth,e));return ne(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return NR(this,e)}reload(){return MR(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>({...s})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new fn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return s.metadata._copy(this.metadata),s}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),s&&await uu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(un(this.auth.app))return Promise.reject(Pi(this.auth));const e=await this.getIdToken();return await Ja(this,RR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){const r=s.displayName??void 0,o=s.email??void 0,u=s.phoneNumber??void 0,f=s.photoURL??void 0,d=s.tenantId??void 0,m=s._redirectEventId??void 0,p=s.createdAt??void 0,v=s.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:w,providerData:N,stsTokenManager:k}=s;ne(_&&k,e,"internal-error");const B=_r.fromJSON(this.name,k);ne(typeof _=="string",e,"internal-error"),Oi(r,e.name),Oi(o,e.name),ne(typeof E=="boolean",e,"internal-error"),ne(typeof w=="boolean",e,"internal-error"),Oi(u,e.name),Oi(f,e.name),Oi(d,e.name),Oi(m,e.name),Oi(p,e.name),Oi(v,e.name);const j=new fn({uid:_,auth:e,email:o,emailVerified:E,displayName:r,isAnonymous:w,photoURL:f,phoneNumber:u,tenantId:d,stsTokenManager:B,createdAt:p,lastLoginAt:v});return N&&Array.isArray(N)&&(j.providerData=N.map(P=>({...P}))),m&&(j._redirectEventId=m),j}static async _fromIdTokenResponse(e,s,r=!1){const o=new _r;o.updateFromServerResponse(s);const u=new fn({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await uu(u),u}static async _fromGetAccountInfoResponse(e,s,r){const o=s.users[0];ne(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?WE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,d=new _r;d.updateFromIdToken(r);const m=new fn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(m,p),m}}const Zy=new Map;function Kn(n){ei(n instanceof Function,"Expected a class definition");let e=Zy.get(n);return e?(ei(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Zy.set(n,e),e)}class XE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}XE.type="NONE";const $y=XE;function Zo(n,e,s){return`firebase:${n}:${e}:${s}`}class yr{constructor(e,s,r){this.persistence=e,this.auth=s,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Zo(this.userKey,o.apiKey,u),this.fullPersistenceKey=Zo("persistence",o.apiKey,u),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await ou(this.auth,{idToken:e}).catch(()=>{});return s?fn._fromGetAccountInfoResponse(this.auth,s,e):null}return fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,r="authUser"){if(!s.length)return new yr(Kn($y),e,r);const o=(await Promise.all(s.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Kn($y);const f=Zo(r,e.config.apiKey,e.name);let d=null;for(const p of s)try{const v=await p._get(f);if(v){let _;if(typeof v=="string"){const E=await ou(e,{idToken:v}).catch(()=>{});if(!E)break;_=await fn._fromGetAccountInfoResponse(e,E,v)}else _=fn._fromJSON(e,v);p!==u&&(d=_),u=p;break}}catch{}const m=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new yr(u,e,r):(u=m[0],d&&await u._set(f,d.toJSON()),await Promise.all(s.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new yr(u,e,r))}}function Jy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nb(e))return"Blackberry";if(ib(e))return"Webos";if($E(e))return"Safari";if((e.includes("chrome/")||JE(e))&&!e.includes("edge/"))return"Chrome";if(tb(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(s);if(r?.length===2)return r[1]}return"Other"}function ZE(n=bt()){return/firefox\//i.test(n)}function $E(n=bt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JE(n=bt()){return/crios\//i.test(n)}function eb(n=bt()){return/iemobile/i.test(n)}function tb(n=bt()){return/android/i.test(n)}function nb(n=bt()){return/blackberry/i.test(n)}function ib(n=bt()){return/webos/i.test(n)}function Od(n=bt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function LR(n=bt()){return Od(n)&&!!window.navigator?.standalone}function UR(){return Yw()&&document.documentMode===10}function sb(n=bt()){return Od(n)||tb(n)||ib(n)||nb(n)||/windows phone/i.test(n)||eb(n)}function rb(n,e=[]){let s;switch(n){case"Browser":s=Jy(bt());break;case"Worker":s=`${Jy(bt())}-${n}`;break;default:s=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${xr}/${r}`}class zR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const r=u=>new Promise((f,d)=>{try{const m=e(u);f(m)}catch(m){d(m)}});r.onAbort=s,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const o of s)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function PR(n,e={}){return Yi(n,"GET","/v2/passwordPolicy",As(n,e))}const HR=6;class BR{constructor(e){const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??HR,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=s.meetsMinPasswordLength??!0),s.isValid&&(s.isValid=s.meetsMaxPasswordLength??!0),s.isValid&&(s.isValid=s.containsLowercaseLetter??!0),s.isValid&&(s.isValid=s.containsUppercaseLetter??!0),s.isValid&&(s.isValid=s.containsNumericCharacter??!0),s.isValid&&(s.isValid=s.containsNonAlphanumericCharacter??!0),s}validatePasswordLengthOptions(e,s){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=e.length>=r),o&&(s.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,s,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class qR{constructor(e,s,r,o){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ev(this),this.idTokenSubscription=new ev(this),this.beforeStateQueue=new zR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=Kn(s)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yr.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await ou(this,{idToken:e}),r=await fn._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(un(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===f)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await uu(e)}catch(s){if(s?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(un(this.app))return Promise.reject(Pi(this));const s=e?St(e):null;return s&&ne(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return un(this.app)?Promise.reject(Pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return un(this.app)?Promise.reject(Pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PR(this),s=new BR(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new dl("auth","Firebase",e())}onAuthStateChanged(e,s,r){return this.registerStateListener(this.authStateSubscription,e,s,r)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,r){return this.registerStateListener(this.idTokenSubscription,e,s,r)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await kR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,s){const r=await this.getOrInitRedirectPersistenceManager(s);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&Kn(e)||this._popupRedirectResolver;ne(s,this,"argument-error"),this.redirectPersistenceManager=await yr.create(this,[Kn(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,r,o){if(this._deleted)return()=>{};const u=typeof s=="function"?s:s.next.bind(s);let f=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(d,this,"internal-error"),d.then(()=>{f||u(this.currentUser)}),typeof s=="function"){const m=e.addObserver(s,r,o);return()=>{f=!0,m()}}else{const m=e.addObserver(s);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();s&&(e["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&gR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function kr(n){return St(n)}class ev{constructor(e){this.auth=e,this.observer=null,this.addObserver=tA(s=>this.observer=s)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Uu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jR(n){Uu=n}function ab(n){return Uu.loadJS(n)}function VR(){return Uu.recaptchaEnterpriseScript}function GR(){return Uu.gapiScript}function YR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class FR{constructor(){this.enterprise=new KR}ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}class KR{ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}const QR="recaptcha-enterprise",lb="NO_RECAPTCHA";class WR{constructor(e){this.type=QR,this.auth=kr(e)}async verify(e="verify",s=!1){async function r(u){if(!s){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,d)=>{AR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new wR(m);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,f(p.siteKey)}}).catch(m=>{d(m)})})}function o(u,f,d){const m=window.grecaptcha;Wy(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(p=>{f(p)}).catch(()=>{f(lb)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(d=>{if(!s&&Wy(window.grecaptcha))o(d,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=VR();m.length!==0&&(m+=d),ab(m).then(()=>{o(d,u,f)}).catch(p=>{f(p)})}}).catch(d=>{f(d)})})}}async function tv(n,e,s,r=!1,o=!1){const u=new WR(n);let f;if(o)f=lb;else try{f=await u.verify(s)}catch{f=await u.verify(s,!0)}const d={...e};if(s==="mfaSmsEnrollment"||s==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:f}):Object.assign(d,{captchaResponse:f}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function nv(n,e,s,r,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await tv(n,e,s,s==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await tv(n,e,s,s==="getOobCode");return r(n,f)}else return Promise.reject(u)})}function XR(n,e){const s=wd(n,"auth");if(s.isInitialized()){const o=s.getImmediate(),u=s.getOptions();if(ys(u,e??{}))return o;gn(o,"already-initialized")}return s.initialize({options:e})}function ZR(n,e){const s=e?.persistence||[],r=(Array.isArray(s)?s:[s]).map(Kn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function $R(n,e,s){const r=kr(n);ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=ob(e),{host:f,port:d}=JR(e),m=d===null?"":`:${d}`,p={url:`${u}//${f}${m}/`},v=Object.freeze({host:f,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ne(ys(p,r.config.emulator)&&ys(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Mr(f)?(xE(`${u}//${f}${m}`),kE("Auth",!0)):eN()}function ob(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function JR(n){const e=ob(n),s=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:iv(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:iv(f)}}}function iv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function eN(){function n(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Dd{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return Fn("not implemented")}_getIdTokenResponse(e){return Fn("not implemented")}_linkToIdToken(e,s){return Fn("not implemented")}_getReauthenticationResolver(e){return Fn("not implemented")}}async function tN(n,e){return Yi(n,"POST","/v1/accounts:signUp",e)}async function nN(n,e){return Lu(n,"POST","/v1/accounts:signInWithPassword",As(n,e))}async function iN(n,e){return Lu(n,"POST","/v1/accounts:signInWithEmailLink",As(n,e))}async function sN(n,e){return Lu(n,"POST","/v1/accounts:signInWithEmailLink",As(n,e))}class el extends Dd{constructor(e,s,r,o=null){super("password",r),this._email=e,this._password=s,this._tenantId=o}static _fromEmailAndPassword(e,s){return new el(e,s,"password")}static _fromEmailAndCode(e,s,r=null){return new el(e,s,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e;if(s?.email&&s?.password){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nv(e,s,"signInWithPassword",nN);case"emailLink":return iN(e,{email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}async _linkToIdToken(e,s){switch(this.signInMethod){case"password":const r={idToken:s,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nv(e,r,"signUpPassword",tN);case"emailLink":return sN(e,{idToken:s,email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function vr(n,e){return Lu(n,"POST","/v1/accounts:signInWithIdp",As(n,e))}const rN="http://localhost";class Es extends Dd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new Es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):gn("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=s;if(!r||!o)return null;const f=new Es(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const s=this.buildRequest();return vr(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,vr(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,vr(e,s)}buildRequest(){const e={requestUri:rN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=Ir(s)}return e}}function aN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lN(n){const e=qa(ja(n)).link,s=e?qa(ja(e)).deep_link_id:null,r=qa(ja(n)).deep_link_id;return(r?qa(ja(r)).link:null)||r||s||e||n}class Md{constructor(e){const s=qa(ja(e)),r=s.apiKey??null,o=s.oobCode??null,u=aN(s.mode??null);ne(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=s.continueUrl??null,this.languageCode=s.lang??null,this.tenantId=s.tenantId??null}static parseLink(e){const s=lN(e);try{return new Md(s)}catch{return null}}}class Lr{constructor(){this.providerId=Lr.PROVIDER_ID}static credential(e,s){return el._fromEmailAndPassword(e,s)}static credentialWithLink(e,s){const r=Md.parseLink(s);return ne(r,"argument-error"),el._fromEmailAndCode(e,r.code,r.tenantId)}}Lr.PROVIDER_ID="password";Lr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ub{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ml extends ub{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Mi extends ml{constructor(){super("facebook.com")}static credential(e){return Es._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mi.PROVIDER_ID="facebook.com";class Ii extends ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return Es._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r}=e;if(!s&&!r)return null;try{return Ii.credential(s,r)}catch{return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";class xi extends ml{constructor(){super("github.com")}static credential(e){return Es._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com";xi.PROVIDER_ID="github.com";class ki extends ml{constructor(){super("twitter.com")}static credential(e,s){return Es._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=e;if(!s||!r)return null;try{return ki.credential(s,r)}catch{return null}}}ki.TWITTER_SIGN_IN_METHOD="twitter.com";ki.PROVIDER_ID="twitter.com";class Tr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,r,o=!1){const u=await fn._fromIdTokenResponse(e,r,o),f=sv(r);return new Tr({user:u,providerId:f,_tokenResponse:r,operationType:s})}static async _forOperation(e,s,r){await e._updateTokensIfNecessary(r,!0);const o=sv(r);return new Tr({user:e,providerId:o,_tokenResponse:r,operationType:s})}}function sv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class cu extends Gi{constructor(e,s,r,o){super(s.code,s.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,cu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,s,r,o){return new cu(e,s,r,o)}}function cb(n,e,s,r){return(e==="reauthenticate"?s._getReauthenticationResolver(n):s._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?cu._fromErrorAndOperation(n,u,e,r):u})}async function oN(n,e,s=!1){const r=await Ja(n,e._linkToIdToken(n.auth,await n.getIdToken()),s);return Tr._forOperation(n,"link",r)}async function uN(n,e,s=!1){const{auth:r}=n;if(un(r.app))return Promise.reject(Pi(r));const o="reauthenticate";try{const u=await Ja(n,cb(r,o,e,n),s);ne(u.idToken,r,"internal-error");const f=Nd(u.idToken);ne(f,r,"internal-error");const{sub:d}=f;return ne(n.uid===d,r,"user-mismatch"),Tr._forOperation(n,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&gn(r,"user-mismatch"),u}}async function fb(n,e,s=!1){if(un(n.app))return Promise.reject(Pi(n));const r="signIn",o=await cb(n,r,e),u=await Tr._fromIdTokenResponse(n,r,o);return s||await n._updateCurrentUser(u.user),u}async function cN(n,e){return fb(kr(n),e)}async function fN(n){const e=kr(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function hN(n,e,s){return un(n.app)?Promise.reject(Pi(n)):cN(St(n),Lr.credential(e,s)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fN(n),r})}function dN(n,e,s,r){return St(n).onIdTokenChanged(e,s,r)}function pN(n,e,s){return St(n).beforeAuthStateChanged(e,s)}function mN(n,e,s,r){return St(n).onAuthStateChanged(e,s,r)}function gN(n){return St(n).signOut()}const fu="__sak";class hb{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(fu,"1"),this.storage.removeItem(fu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const _N=1e3,yN=10;class db extends hb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),o=this.localCache[s];r!==o&&e(s,o,r)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((f,d,m)=>{this.notifyListeners(f,m)});return}const r=e.key;s?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!s&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);UR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,yN):o()}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:r}),!0)})},_N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}db.type="LOCAL";const vN=db;class pb extends hb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}pb.type="SESSION";const mb=pb;function EN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}class zu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(o=>o.isListeningto(e));if(s)return s;const r=new zu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:r,eventType:o,data:u}=s.data,f=this.handlersMap[o];if(!f?.size)return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(f).map(async p=>p(s.origin,u)),m=await EN(d);s.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:m})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zu.receivers=[];function Id(n="",e=10){let s="";for(let r=0;r<e;r++)s+=Math.floor(Math.random()*10);return n+s}class bN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((d,m)=>{const p=Id("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(E.data.response);break;default:clearTimeout(v),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:s},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Tn(){return window}function SN(n){Tn().location.href=n}function gb(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}async function CN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TN(){return navigator?.serviceWorker?.controller||null}function wN(){return gb()?self:null}const _b="firebaseLocalStorageDb",AN=1,hu="firebaseLocalStorage",yb="fbase_key";class gl{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function Pu(n,e){return n.transaction([hu],e?"readwrite":"readonly").objectStore(hu)}function RN(){const n=indexedDB.deleteDatabase(_b);return new gl(n).toPromise()}function Xh(){const n=indexedDB.open(_b,AN);return new Promise((e,s)=>{n.addEventListener("error",()=>{s(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(hu,{keyPath:yb})}catch(o){s(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(hu)?e(r):(r.close(),await RN(),e(await Xh()))})})}async function rv(n,e,s){const r=Pu(n,!0).put({[yb]:e,value:s});return new gl(r).toPromise()}async function NN(n,e){const s=Pu(n,!1).get(e),r=await new gl(s).toPromise();return r===void 0?null:r.value}function av(n,e){const s=Pu(n,!0).delete(e);return new gl(s).toPromise()}const ON=800,DN=3;class vb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xh(),this.db)}async _withRetries(e){let s=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(s++>DN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zu._getInstance(wN()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CN(),!this.activeServiceWorker)return;this.sender=new bN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xh();return await rv(e,fu,"1"),await av(e,fu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>rv(r,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(r=>NN(r,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>av(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Pu(o,!1).getAll();return new gl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),s.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),s.push(o));return s}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ON)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vb.type="LOCAL";const MN=vb;new pl(3e4,6e4);function IN(n,e){return e?Kn(e):(ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class xd extends Dd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vr(e,this._buildIdpRequest())}_linkToIdToken(e,s){return vr(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return vr(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function xN(n){return fb(n.auth,new xd(n),n.bypassAuthState)}function kN(n){const{auth:e,user:s}=n;return ne(s,e,"internal-error"),uN(s,new xd(n),n.bypassAuthState)}async function LN(n){const{auth:e,user:s}=n;return ne(s,e,"internal-error"),oN(s,new xd(n),n.bypassAuthState)}class Eb{constructor(e,s,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:r,postBody:o,tenantId:u,error:f,type:d}=e;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:s,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xN;case"linkViaPopup":case"linkViaRedirect":return LN;case"reauthViaPopup":case"reauthViaRedirect":return kN;default:gn(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const UN=new pl(2e3,1e4);class mr extends Eb{constructor(e,s,r,o,u){super(e,s,o,u),this.provider=r,this.authWindow=null,this.pollId=null,mr.currentPopupAction&&mr.currentPopupAction.cancel(),mr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){ei(this.filter.length===1,"Popup operations only handle one event");const e=Id();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UN.get())};e()}}mr.currentPopupAction=null;const zN="pendingRedirect",$o=new Map;class PN extends Eb{constructor(e,s,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let e=$o.get(this.auth._key());if(!e){try{const r=await HN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(s){e=()=>Promise.reject(s)}$o.set(this.auth._key(),e)}return this.bypassAuthState||$o.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HN(n,e){const s=jN(e),r=qN(n);if(!await r._isAvailable())return!1;const o=await r._get(s)==="true";return await r._remove(s),o}function BN(n,e){$o.set(n._key(),e)}function qN(n){return Kn(n._redirectPersistence)}function jN(n){return Zo(zN,n.config.apiKey,n.name)}async function VN(n,e,s=!1){if(un(n.app))return Promise.reject(Pi(n));const r=kr(n),o=IN(r,e),f=await new PN(r,o,s).execute();return f&&!s&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const GN=600*1e3;class YN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(s=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FN(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){if(e.error&&!bb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";s.onError(Cn(this.auth,r))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const r=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GN&&this.cachedEventUids.clear(),this.cachedEventUids.has(lv(e))}saveEventToCache(e){this.cachedEventUids.add(lv(e)),this.lastProcessedEventTime=Date.now()}}function lv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bb({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function FN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bb(n);default:return!1}}async function KN(n,e={}){return Yi(n,"GET","/v1/projects",e)}const QN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WN=/^https?/;async function XN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await KN(n);for(const s of e)try{if(ZN(s))return}catch{}gn(n,"unauthorized-domain")}function ZN(n){const e=Qh(),{protocol:s,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&r===""?s==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&f.hostname===r}if(!WN.test(s))return!1;if(QN.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const $N=new pl(3e4,6e4);function ov(){const n=Tn().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let s=0;s<n.CP.length;s++)n.CP[s]=null}}function JN(n){return new Promise((e,s)=>{function r(){ov(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ov(),s(Cn(n,"network-request-failed"))},timeout:$N.get()})}if(Tn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Tn().gapi?.load)r();else{const o=YR("iframefcb");return Tn()[o]=()=>{gapi.load?r():s(Cn(n,"network-request-failed"))},ab(`${GR()}?onload=${o}`).catch(u=>s(u))}}).catch(e=>{throw Jo=null,e})}let Jo=null;function eO(n){return Jo=Jo||JN(n),Jo}const tO=new pl(5e3,15e3),nO="__/auth/iframe",iO="emulator/auth/iframe",sO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aO(n){const e=n.config;ne(e.authDomain,n,"auth-domain-config-required");const s=e.emulator?Rd(e,iO):`https://${n.config.authDomain}/${nO}`,r={apiKey:e.apiKey,appName:n.name,v:xr},o=rO.get(n.config.apiHost);o&&(r.eid=o);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${s}?${Ir(r).slice(1)}`}async function lO(n){const e=await eO(n),s=Tn().gapi;return ne(s,n,"internal-error"),e.open({where:document.body,url:aO(n),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sO,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=Cn(n,"network-request-failed"),d=Tn().setTimeout(()=>{u(f)},tO.get());function m(){Tn().clearTimeout(d),o(r)}r.ping(m).then(m,()=>{u(f)})}))}const oO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uO=500,cO=600,fO="_blank",hO="http://localhost";class uv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dO(n,e,s,r=uO,o=cO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m={...oO,width:r.toString(),height:o.toString(),top:u,left:f},p=bt().toLowerCase();s&&(d=JE(p)?fO:s),ZE(p)&&(e=e||hO,m.scrollbars="yes");const v=Object.entries(m).reduce((E,[w,N])=>`${E}${w}=${N},`,"");if(LR(p)&&d!=="_self")return pO(e||"",d),new uv(null);const _=window.open(e||"",d,v);ne(_,n,"popup-blocked");try{_.focus()}catch{}return new uv(_)}function pO(n,e){const s=document.createElement("a");s.href=n,s.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}const mO="__/auth/handler",gO="emulator/auth/handler",_O=encodeURIComponent("fac");async function cv(n,e,s,r,o,u){ne(n.config.authDomain,n,"auth-domain-config-required"),ne(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:s,redirectUrl:r,v:xr,eventId:o};if(e instanceof ub){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",jh(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))f[v]=_}if(e instanceof ml){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(f.scopes=v.join(","))}n.tenantId&&(f.tid=n.tenantId);const d=f;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await n._getAppCheckToken(),p=m?`#${_O}=${encodeURIComponent(m)}`:"";return`${yO(n)}?${Ir(d).slice(1)}${p}`}function yO({config:n}){return n.emulator?Rd(n,gO):`https://${n.authDomain}/${mO}`}const Nh="webStorageSupport";class vO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mb,this._completeRedirectFn=VN,this._overrideRedirectResult=BN}async _openPopup(e,s,r,o){ei(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await cv(e,s,r,Qh(),o);return dO(e,u,Id())}async _openRedirect(e,s,r,o){await this._originValidation(e);const u=await cv(e,s,r,Qh(),o);return SN(u),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:o,promise:u}=this.eventManagers[s];return o?Promise.resolve(o):(ei(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(e){const s=await lO(e),r=new YN(e);return s.register("authEvent",o=>(ne(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=s,r}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(Nh,{type:Nh},o=>{const u=o?.[0]?.[Nh];u!==void 0&&s(!!u),gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=XN(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return sb()||$E()||Od()}}const EO=vO;var fv="@firebase/auth",hv="1.12.0";class bO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function SO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CO(n){Cr(new vs("auth",(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:d}=r.options;ne(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:f,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rb(n)},p=new qR(r,o,u,m);return ZR(p,s),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,r)=>{e.getProvider("auth-internal").initialize()})),Cr(new vs("auth-internal",e=>{const s=kr(e.getProvider("auth").getImmediate());return(r=>new bO(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),zi(fv,hv,SO(n)),zi(fv,hv,"esm2020")}const TO=300,wO=IE("authIdTokenMaxAge")||TO;let dv=null;const AO=n=>async e=>{const s=e&&await e.getIdTokenResult(),r=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(r&&r>wO)return;const o=s?.token;dv!==o&&(dv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function RO(n=BE()){const e=wd(n,"auth");if(e.isInitialized())return e.getImmediate();const s=XR(n,{popupRedirectResolver:EO,persistence:[MN,vN,mb]}),r=IE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=AO(u.toString());pN(s,f,()=>f(s.currentUser)),dN(s,d=>f(d))}}const o=DE("auth");return o&&$R(s,`http://${o}`),s}function NO(){return document.getElementsByTagName("head")?.[0]??document}jR({loadJS(n){return new Promise((e,s)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const u=Cn("internal-error");u.customData=o,s(u)},r.type="text/javascript",r.charset="UTF-8",NO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CO("Browser");var pv={};const mv="@firebase/database",gv="1.1.0";let Sb="";function OO(n){Sb=n}class DO{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,s){s==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),nt(s))}get(e){const s=this.domStorage_.getItem(this.prefixedName_(e));return s==null?null:Za(s)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class MO{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,s){s==null?delete this.cache_[e]:this.cache_[e]=s}get(e){return ni(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Cb=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new DO(e)}}catch{}return new MO},gs=Cb("localStorage"),IO=Cb("sessionStorage");const Er=new Cd("@firebase/database"),xO=(function(){let n=1;return function(){return n++}})(),Tb=function(n){const e=sA(n),s=new eA;s.update(e);const r=s.digest();return vd.encodeByteArray(r)},_l=function(...n){let e="";for(let s=0;s<n.length;s++){const r=n[s];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=_l.apply(null,r):typeof r=="object"?e+=nt(r):e+=r,e+=" "}return e};let Ya=null,_v=!0;const kO=function(n,e){G(!0,"Can't turn on custom loggers persistently."),Er.logLevel=Me.VERBOSE,Ya=Er.log.bind(Er)},gt=function(...n){if(_v===!0&&(_v=!1,Ya===null&&IO.get("logging_enabled")===!0&&kO()),Ya){const e=_l.apply(null,n);Ya(e)}},yl=function(n){return function(...e){gt(n,...e)}},Zh=function(...n){const e="FIREBASE INTERNAL ERROR: "+_l(...n);Er.error(e)},ti=function(...n){const e=`FIREBASE FATAL ERROR: ${_l(...n)}`;throw Er.error(e),new Error(e)},Mt=function(...n){const e="FIREBASE WARNING: "+_l(...n);Er.warn(e)},LO=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},wb=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},UO=function(n){if(document.readyState==="complete")n();else{let e=!1;const s=function(){if(!document.body){setTimeout(s,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&s()}),window.attachEvent("onload",s))}},wr="[MIN_NAME]",bs="[MAX_NAME]",Ur=function(n,e){if(n===e)return 0;if(n===wr||e===bs)return-1;if(e===wr||n===bs)return 1;{const s=yv(n),r=yv(e);return s!==null?r!==null?s-r===0?n.length-e.length:s-r:-1:r!==null?1:n<e?-1:1}},zO=function(n,e){return n===e?0:n<e?-1:1},La=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+nt(e))},kd=function(n){if(typeof n!="object"||n===null)return nt(n);const e=[];for(const r in n)e.push(r);e.sort();let s="{";for(let r=0;r<e.length;r++)r!==0&&(s+=","),s+=nt(e[r]),s+=":",s+=kd(n[e[r]]);return s+="}",s},Ab=function(n,e){const s=n.length;if(s<=e)return[n];const r=[];for(let o=0;o<s;o+=e)o+e>s?r.push(n.substring(o,s)):r.push(n.substring(o,o+e));return r};function It(n,e){for(const s in n)n.hasOwnProperty(s)&&e(s,n[s])}const Rb=function(n){G(!wb(n),"Invalid JSON number");const e=11,s=52,r=(1<<e-1)-1;let o,u,f,d,m;n===0?(u=0,f=0,o=1/n===-1/0?1:0):(o=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),r),u=d+r,f=Math.round(n*Math.pow(2,s-d)-Math.pow(2,s))):(u=0,f=Math.round(n/Math.pow(2,1-r-s))));const p=[];for(m=s;m;m-=1)p.push(f%2?1:0),f=Math.floor(f/2);for(m=e;m;m-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const v=p.join("");let _="";for(m=0;m<64;m+=8){let E=parseInt(v.substr(m,8),2).toString(16);E.length===1&&(E="0"+E),_=_+E}return _.toLowerCase()},PO=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},HO=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function BO(n,e){let s="Unknown Error";n==="too_big"?s="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?s="Client doesn't have permission to access the desired data.":n==="unavailable"&&(s="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+s);return r.code=n.toUpperCase(),r}const qO=new RegExp("^-?(0*)\\d{1,10}$"),jO=-2147483648,VO=2147483647,yv=function(n){if(qO.test(n)){const e=Number(n);if(e>=jO&&e<=VO)return e}return null},zr=function(n){try{n()}catch(e){setTimeout(()=>{const s=e.stack||"";throw Mt("Exception was thrown by user callback.",s),e},Math.floor(0))}},GO=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fa=function(n,e){const s=setTimeout(n,e);return typeof s=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):typeof s=="object"&&s.unref&&s.unref(),s};class YO{constructor(e,s){this.appCheckProvider=s,this.appName=e.name,un(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=s?.getImmediate({optional:!0}),this.appCheck||s?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((s,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(s,r):s(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Mt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class FO{constructor(e,s,r){this.appName_=e,this.firebaseOptions_=s,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(s=>s&&s.code==="auth/token-not-initialized"?(gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(s,r):s(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(s=>s.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(s=>s.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mt(e)}}class eu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}eu.OWNER="owner";const Ld="5",Nb="v",Ob="s",Db="r",Mb="f",Ib=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xb="ls",kb="p",$h="ac",Lb="websocket",Ub="long_polling";class zb{constructor(e,s,r,o,u=!1,f="",d=!1,m=!1,p=null){this.secure=s,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=m,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=gs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&gs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",s=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${s}`}}function KO(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function Pb(n,e,s){G(typeof e=="string","typeof type must == string"),G(typeof s=="object","typeof params must == object");let r;if(e===Lb)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===Ub)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);KO(n)&&(s.ns=n.namespace);const o=[];return It(s,(u,f)=>{o.push(u+"="+f)}),r+o.join("&")}class QO{constructor(){this.counters_={}}incrementCounter(e,s=1){ni(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=s}get(){return xw(this.counters_)}}const Oh={},Dh={};function Ud(n){const e=n.toString();return Oh[e]||(Oh[e]=new QO),Oh[e]}function WO(n,e){const s=n.toString();return Dh[s]||(Dh[s]=e()),Dh[s]}class XO{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,s){this.closeAfterResponse=e,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,s){for(this.pendingResponses[e]=s;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&zr(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const vv="start",ZO="close",$O="pLPCommand",JO="pRTLPCB",Hb="id",Bb="pw",qb="ser",eD="cb",tD="seg",nD="ts",iD="d",sD="dframe",jb=1870,Vb=30,rD=jb-Vb,aD=25e3,lD=3e4;class gr{constructor(e,s,r,o,u,f,d){this.connId=e,this.repoInfo=s,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=f,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=yl(e),this.stats_=Ud(s),this.urlFn=m=>(this.appCheckToken&&(m[$h]=this.appCheckToken),Pb(s,Ub,m))}open(e,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new XO(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(lD)),UO(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zd((...u)=>{const[f,d,m,p,v]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===vv)this.id=d,this.password=m;else if(f===ZO)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,d]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,d)},()=>{this.onClosed_()},this.urlFn);const r={};r[vv]="t",r[qb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[eD]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Nb]=Ld,this.transportSessionId&&(r[Ob]=this.transportSessionId),this.lastSessionId&&(r[xb]=this.lastSessionId),this.applicationId&&(r[kb]=this.applicationId),this.appCheckToken&&(r[$h]=this.appCheckToken),typeof location<"u"&&location.hostname&&Ib.test(location.hostname)&&(r[Db]=Mb);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gr.forceAllow_=!0}static forceDisallow(){gr.forceDisallow_=!0}static isAvailable(){return gr.forceAllow_?!0:!gr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!PO()&&!HO()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const s=nt(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=NE(s),o=Ab(r,rD);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,s){this.myDisconnFrame=document.createElement("iframe");const r={};r[sD]="t",r[Hb]=e,r[Bb]=s,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const s=nt(e).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class zd{constructor(e,s,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=xO(),window[$O+this.uniqueCallbackIdentifier]=e,window[JO+this.uniqueCallbackIdentifier]=s,this.myIFrame=zd.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(d){gt("frame writing exception"),d.stack&&gt(d.stack),gt(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||gt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,s){for(this.myID=e,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Hb]=this.myID,e[Bb]=this.myPW,e[qb]=this.currentSerial;let s=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Vb+r.length<=jb;){const f=this.pendingSegs.shift();r=r+"&"+tD+o+"="+f.seg+"&"+nD+o+"="+f.ts+"&"+iD+o+"="+f.d,o++}return s=s+r,this.addLongPollTag_(s,this.currentSerial),!0}else return!1}enqueueSegment(e,s,r){this.pendingSegs.push({seg:e,ts:s,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,s){this.outstandingRequests.add(s);const r=()=>{this.outstandingRequests.delete(s),this.newRequest_()},o=setTimeout(r,Math.floor(aD)),u=()=>{clearTimeout(o),r()};this.addTag(e,u)}addTag(e,s){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),s())},r.onerror=()=>{gt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const oD=16384,uD=45e3;let du=null;typeof MozWebSocket<"u"?du=MozWebSocket:typeof WebSocket<"u"&&(du=WebSocket);class cn{constructor(e,s,r,o,u,f,d){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=yl(this.connId),this.stats_=Ud(s),this.connURL=cn.connectionURL_(s,f,d,o,r),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,r,o,u){const f={};return f[Nb]=Ld,typeof location<"u"&&location.hostname&&Ib.test(location.hostname)&&(f[Db]=Mb),s&&(f[Ob]=s),r&&(f[xb]=r),o&&(f[$h]=o),u&&(f[kb]=u),Pb(e,Lb,f)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,gs.set("previous_websocket_failure",!0);try{let r;Fw(),this.mySock=new du(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){cn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(s);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&du!==null&&!cn.forceDisallow_}static previouslyFailed(){return gs.isInMemoryStorage||gs.get("previous_websocket_failure")===!0}markConnectionHealthy(){gs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const r=Za(s);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(s);else{const r=this.extractFrameCount_(s);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const s=nt(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=Ab(s,oD);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(uD))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}cn.responsesRequiredToBeHealthy=2;cn.healthyTimeout=3e4;class tl{static get ALL_TRANSPORTS(){return[gr,cn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const s=cn&&cn.isAvailable();let r=s&&!cn.previouslyFailed();if(e.webSocketOnly&&(s||Mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[cn];else{const o=this.transports_=[];for(const u of tl.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);tl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}tl.globalTransportInitialized_=!1;const cD=6e4,fD=5e3,hD=10*1024,dD=100*1024,Mh="t",Ev="d",pD="s",bv="r",mD="e",Sv="o",Cv="a",Tv="n",wv="p",gD="h";class _D{constructor(e,s,r,o,u,f,d,m,p,v){this.id=e,this.repoInfo_=s,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=f,this.onReady_=d,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=yl("c:"+this.id+":"),this.transportManager_=new tl(s),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Fa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>dD?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>hD?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return s=>{e===this.conn_?this.onConnectionLost_(s):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return s=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(s):e===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(e){const s={t:"d",d:e};this.sendData_(s)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Mh in e){const s=e[Mh];s===Cv?this.upgradeIfSecondaryHealthy_():s===bv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):s===Sv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const s=La("t",e),r=La("d",e);if(s==="c")this.onSecondaryControl_(r);else if(s==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+s)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:wv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Cv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Tv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const s=La("t",e),r=La("d",e);s==="c"?this.onControl_(r):s==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const s=La(Mh,e);if(Ev in e){const r=e[Ev];if(s===gD){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(s===Tv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else s===pD?this.onConnectionShutdown_(r):s===bv?this.onReset_(r):s===mD?Zh("Server Error: "+r):s===Sv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zh("Unknown control packet command: "+s)}}onHandshake_(e){const s=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),Ld!==r&&Mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,r),Fa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(cD))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,s){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(fD))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:wv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(gs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Gb{put(e,s,r,o){}merge(e,s,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,s,r){}onDisconnectMerge(e,s,r){}onDisconnectCancel(e,s){}reportStats(e){}}class Yb{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...s){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,s)}}on(e,s,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:s,context:r});const o=this.getInitialEvent(e);o&&s.apply(r,o)}off(e,s,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===s&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(e){G(this.allowedEvents_.find(s=>s===e),"Unknown event: "+e)}}class pu extends Yb{static getInstance(){return new pu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!bd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const Av=32,Rv=768;class xe{constructor(e,s){if(s===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=s}toString(){let e="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)this.pieces_[s]!==""&&(e+="/"+this.pieces_[s]);return e||"/"}}function Ee(){return new xe("")}function ge(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function qi(n){return n.pieces_.length-n.pieceNum_}function Le(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new xe(n.pieces_,e)}function Fb(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function yD(n){let e="";for(let s=n.pieceNum_;s<n.pieces_.length;s++)n.pieces_[s]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[s])));return e||"/"}function Kb(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Qb(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let s=n.pieceNum_;s<n.pieces_.length-1;s++)e.push(n.pieces_[s]);return new xe(e,0)}function it(n,e){const s=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)s.push(n.pieces_[r]);if(e instanceof xe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)s.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&s.push(r[o])}return new xe(s,0)}function he(n){return n.pieceNum_>=n.pieces_.length}function vt(n,e){const s=ge(n),r=ge(e);if(s===null)return e;if(s===r)return vt(Le(n),Le(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Wb(n,e){if(qi(n)!==qi(e))return!1;for(let s=n.pieceNum_,r=e.pieceNum_;s<=n.pieces_.length;s++,r++)if(n.pieces_[s]!==e.pieces_[r])return!1;return!0}function hn(n,e){let s=n.pieceNum_,r=e.pieceNum_;if(qi(n)>qi(e))return!1;for(;s<n.pieces_.length;){if(n.pieces_[s]!==e.pieces_[r])return!1;++s,++r}return!0}class vD{constructor(e,s){this.errorPrefix_=s,this.parts_=Kb(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ku(this.parts_[r]);Xb(this)}}function ED(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=ku(e),Xb(n)}function bD(n){const e=n.parts_.pop();n.byteLength_-=ku(e),n.parts_.length>0&&(n.byteLength_-=1)}function Xb(n){if(n.byteLength_>Rv)throw new Error(n.errorPrefix_+"has a key path longer than "+Rv+" bytes ("+n.byteLength_+").");if(n.parts_.length>Av)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Av+") or object contains a cycle "+ps(n))}function ps(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}class Pd extends Yb{static getInstance(){return new Pd}constructor(){super(["visible"]);let e,s;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}const Ua=1e3,SD=300*1e3,Nv=30*1e3,CD=1.3,TD=3e4,wD="server_kill",Ov=3;class Zn extends Gb{constructor(e,s,r,o,u,f,d,m){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=d,this.authOverride_=m,this.id=Zn.nextPersistentConnectionId_++,this.log_=yl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ua,this.maxReconnectDelay_=SD,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Pd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&pu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,r){const o=++this.requestNumber_,u={r:o,a:e,b:s};this.log_(nt(u)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const s=new xu,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const d=f.d;f.s==="ok"?s.resolve(d):s.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),s.promise}listen(e,s,r,o){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:s,query:e,tag:r};this.listens.get(f).set(u,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(r)})}sendListen_(e){const s=e.query,r=s._path.toString(),o=s._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},f="q";e.tag&&(u.q=s._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,d=>{const m=d.d,p=d.s;Zn.warnOnListenWarnings_(m,s),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",d),p!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(p,m))})}static warnOnListenWarnings_(e,s){if(e&&typeof e=="object"&&ni(e,"w")){const r=Sr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+s._queryParams.getIndex().toString()+'"',u=s._path.toString();Mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Jw(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Nv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=$w(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(s,r,o=>{const u=o.s,f=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,r=e.d||"error";s==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,r)})}unlisten(e,s){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,s)}sendUnlisten_(e,s,r,o){this.log_("Unlisten on "+e+" for "+s);const u={p:e},f="n";o&&(u.q=r,u.t=o),this.sendRequest(f,u)}onDisconnectPut(e,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:r})}onDisconnectMerge(e,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:r})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,r,o){const u={p:s,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(e,s,r,o){this.putInternal("p",e,s,r,o)}merge(e,s,r,o){this.putInternal("m",e,s,r,o)}putInternal(e,s,r,o,u){this.initConnection_();const f={p:s,d:r};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,r,u=>{this.log_(s+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+nt(e));const s=e.r,r=this.requestCBHash_[s];r&&(delete this.requestCBHash_[s],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),e==="d"?this.onDataUpdate_(s.p,s.d,!1,s.t):e==="m"?this.onDataUpdate_(s.p,s.d,!0,s.t):e==="c"?this.onListenRevoked_(s.p,s.q):e==="ac"?this.onAuthRevoked_(s.s,s.d):e==="apc"?this.onAppCheckRevoked_(s.s,s.d):e==="sd"?this.onSecurityDebugPacket_(s):Zh("Unrecognized action received from server: "+nt(e)+`
Are you using the latest client?`)}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ua,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ua,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>TD&&(this.reconnectDelay_=Ua),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*CD)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),s=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Zn.nextConnectionId_++,u=this.lastSessionId;let f=!1,d=null;const m=function(){d?d.close():(f=!0,r())},p=function(_){G(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(_)};this.realtime_={close:m,sendRequest:p};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,E]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);f?gt("getToken() completed but was canceled"):(gt("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=E&&E.token,d=new _D(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,s,r,w=>{Mt(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(wD)},u))}catch(_){this.log_("Failed to get token: "+_),f||(this.repoInfo_.nodeAdmin&&Mt(_),m())}}}interrupt(e){gt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){gt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],jh(this.interruptReasons_)&&(this.reconnectDelay_=Ua,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let r;s?r=s.map(u=>kd(u)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,s){const r=new xe(e).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(s),u.delete(s),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,s){gt("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ov&&(this.reconnectDelay_=Nv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){gt("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ov&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";e["sdk."+s+"."+Sb.replace(/\./g,"-")]=1,bd()?e["framework.cordova"]=1:LE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=pu.getInstance().currentlyOnline();return jh(this.interruptReasons_)&&e}}Zn.nextPersistentConnectionId_=0;Zn.nextConnectionId_=0;class ue{constructor(e,s){this.name=e,this.node=s}static Wrap(e,s){return new ue(e,s)}}class Hu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,s){const r=new ue(wr,e),o=new ue(wr,s);return this.compare(r,o)!==0}minPost(){return ue.MIN}}let Yo;class Zb extends Hu{static get __EMPTY_NODE(){return Yo}static set __EMPTY_NODE(e){Yo=e}compare(e,s){return Ur(e.name,s.name)}isDefinedOn(e){throw Dr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,s){return!1}minPost(){return ue.MIN}maxPost(){return new ue(bs,Yo)}makePost(e,s){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new ue(e,Yo)}toString(){return".key"}}const br=new Zb;class Fo{constructor(e,s,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=s?r(e.key,s):1,o&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),s;if(this.resultGenerator_?s=this.resultGenerator_(e.key,e.value):s={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ot{constructor(e,s,r,o,u){this.key=e,this.value=s,this.color=r??ot.RED,this.left=o??Dt.EMPTY_NODE,this.right=u??Dt.EMPTY_NODE}copy(e,s,r,o,u){return new ot(e??this.key,s??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let o=this;const u=r(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,s,r),null):u===0?o=o.copy(null,s,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,s,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let r,o;if(r=this,s(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,s),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),s(e,r.key)===0){if(r.right.isEmpty())return Dt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,s))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ot.RED=!0;ot.BLACK=!1;class AD{copy(e,s,r,o,u){return this}insert(e,s,r){return new ot(e,s,null)}remove(e,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Dt{constructor(e,s=Dt.EMPTY_NODE){this.comparator_=e,this.root_=s}insert(e,s){return new Dt(this.comparator_,this.root_.insert(e,s,this.comparator_).copy(null,null,ot.BLACK,null,null))}remove(e){return new Dt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ot.BLACK,null,null))}get(e){let s,r=this.root_;for(;!r.isEmpty();){if(s=this.comparator_(e,r.key),s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}getPredecessorKey(e){let s,r=this.root_,o=null;for(;!r.isEmpty();)if(s=this.comparator_(e,r.key),s===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else s<0?r=r.left:s>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Fo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,s){return new Fo(this.root_,e,this.comparator_,!1,s)}getReverseIteratorFrom(e,s){return new Fo(this.root_,e,this.comparator_,!0,s)}getReverseIterator(e){return new Fo(this.root_,null,this.comparator_,!0,e)}}Dt.EMPTY_NODE=new AD;function RD(n,e){return Ur(n.name,e.name)}function Hd(n,e){return Ur(n,e)}let Jh;function ND(n){Jh=n}const $b=function(n){return typeof n=="number"?"number:"+Rb(n):"string:"+n},Jb=function(n){if(n.isLeafNode()){const e=n.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ni(e,".sv"),"Priority must be a string or number.")}else G(n===Jh||n.isEmpty(),"priority of unexpected type.");G(n===Jh||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Dv;class lt{static set __childrenNodeConstructor(e){Dv=e}static get __childrenNodeConstructor(){return Dv}constructor(e,s=lt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Jb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new lt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:lt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return he(e)?this:ge(e)===".priority"?this.priorityNode_:lt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return e===".priority"?this.updatePriority(s):s.isEmpty()&&e!==".priority"?this:lt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const r=ge(e);return r===null?s:s.isEmpty()&&r!==".priority"?this:(G(r!==".priority"||qi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,lt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Le(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+$b(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",s==="number"?e+=Rb(this.value_):e+=this.value_,this.lazyHash_=Tb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===lt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof lt.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,r=typeof this.value_,o=lt.VALUE_TYPE_ORDER.indexOf(s),u=lt.VALUE_TYPE_ORDER.indexOf(r);return G(o>=0,"Unknown leaf type: "+s),G(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}else return!1}}lt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let eS,tS;function OD(n){eS=n}function DD(n){tS=n}class MD extends Hu{compare(e,s){const r=e.node.getPriority(),o=s.node.getPriority(),u=r.compareTo(o);return u===0?Ur(e.name,s.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,s){return!e.getPriority().equals(s.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(bs,new lt("[PRIORITY-POST]",tS))}makePost(e,s){const r=eS(e);return new ue(s,new lt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Fe=new MD;const ID=Math.log(2);class xD{constructor(e){const s=u=>parseInt(Math.log(u)/ID,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=s(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const mu=function(n,e,s,r){n.sort(e);const o=function(m,p){const v=p-m;let _,E;if(v===0)return null;if(v===1)return _=n[m],E=s?s(_):_,new ot(E,_.node,ot.BLACK,null,null);{const w=parseInt(v/2,10)+m,N=o(m,w),k=o(w+1,p);return _=n[w],E=s?s(_):_,new ot(E,_.node,ot.BLACK,N,k)}},u=function(m){let p=null,v=null,_=n.length;const E=function(N,k){const B=_-N,j=_;_-=N;const P=o(B+1,j),V=n[B],oe=s?s(V):V;w(new ot(oe,V.node,k,null,P))},w=function(N){p?(p.left=N,p=N):(v=N,p=N)};for(let N=0;N<m.count;++N){const k=m.nextBitIsOne(),B=Math.pow(2,m.count-(N+1));k?E(B,ot.BLACK):(E(B,ot.BLACK),E(B,ot.RED))}return v},f=new xD(n.length),d=u(f);return new Dt(r||e,d)};let Ih;const pr={};class Qn{static get Default(){return G(pr&&Fe,"ChildrenNode.ts has not been loaded"),Ih=Ih||new Qn({".priority":pr},{".priority":Fe}),Ih}constructor(e,s){this.indexes_=e,this.indexSet_=s}get(e){const s=Sr(this.indexes_,e);if(!s)throw new Error("No index defined for "+e);return s instanceof Dt?s:null}hasIndex(e){return ni(this.indexSet_,e.toString())}addIndex(e,s){G(e!==br,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=s.getIterator(ue.Wrap);let f=u.getNext();for(;f;)o=o||e.isDefinedOn(f.node),r.push(f),f=u.getNext();let d;o?d=mu(r,e.getCompare()):d=pr;const m=e.toString(),p={...this.indexSet_};p[m]=e;const v={...this.indexes_};return v[m]=d,new Qn(v,p)}addToIndexes(e,s){const r=ru(this.indexes_,(o,u)=>{const f=Sr(this.indexSet_,u);if(G(f,"Missing index implementation for "+u),o===pr)if(f.isDefinedOn(e.node)){const d=[],m=s.getIterator(ue.Wrap);let p=m.getNext();for(;p;)p.name!==e.name&&d.push(p),p=m.getNext();return d.push(e),mu(d,f.getCompare())}else return pr;else{const d=s.get(e.name);let m=o;return d&&(m=m.remove(new ue(e.name,d))),m.insert(e,e.node)}});return new Qn(r,this.indexSet_)}removeFromIndexes(e,s){const r=ru(this.indexes_,o=>{if(o===pr)return o;{const u=s.get(e.name);return u?o.remove(new ue(e.name,u)):o}});return new Qn(r,this.indexSet_)}}let za;class ie{static get EMPTY_NODE(){return za||(za=new ie(new Dt(Hd),null,Qn.Default))}constructor(e,s,r){this.children_=e,this.priorityNode_=s,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Jb(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||za}updatePriority(e){return this.children_.isEmpty()?this:new ie(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const s=this.children_.get(e);return s===null?za:s}}getChild(e){const s=ge(e);return s===null?this:this.getImmediateChild(s).getChild(Le(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,s){if(G(s,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(s);{const r=new ue(e,s);let o,u;s.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,s),u=this.indexMap_.addToIndexes(r,this.children_));const f=o.isEmpty()?za:this.priorityNode_;return new ie(o,f,u)}}updateChild(e,s){const r=ge(e);if(r===null)return s;{G(ge(e)!==".priority"||qi(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Le(e),s);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let r=0,o=0,u=!0;if(this.forEachChild(Fe,(f,d)=>{s[f]=d.val(e),r++,u&&ie.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):u=!1}),!e&&u&&o<2*r){const f=[];for(const d in s)f[d]=s[d];return f}else return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+$b(this.getPriority().val())+":"),this.forEachChild(Fe,(s,r)=>{const o=r.hash();o!==""&&(e+=":"+s+":"+o)}),this.lazyHash_=e===""?"":Tb(e)}return this.lazyHash_}getPredecessorChildName(e,s,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new ue(e,s));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const r=s.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new ue(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const r=s.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new ue(s,this.children_.get(s)):null}forEachChild(e,s){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>s(o.name,o.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const r=this.resolveIndex_(s);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ue.Wrap);let u=o.peek();for(;u!=null&&s.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const r=this.resolveIndex_(s);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ue.Wrap);let u=o.peek();for(;u!=null&&s.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vl?-1:0}withIndex(e){if(e===br||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new ie(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===br||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority()))if(this.children_.count()===s.children_.count()){const r=this.getIterator(Fe),o=s.getIterator(Fe);let u=r.getNext(),f=o.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=r.getNext(),f=o.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===br?null:this.indexMap_.get(e.toString())}}ie.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class kD extends ie{constructor(){super(new Dt(Hd),ie.EMPTY_NODE,Qn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ie.EMPTY_NODE}isEmpty(){return!1}}const vl=new kD;Object.defineProperties(ue,{MIN:{value:new ue(wr,ie.EMPTY_NODE)},MAX:{value:new ue(bs,vl)}});Zb.__EMPTY_NODE=ie.EMPTY_NODE;lt.__childrenNodeConstructor=ie;ND(vl);DD(vl);const LD=!0;function ut(n,e=null){if(n===null)return ie.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const s=n;return new lt(s,ut(e))}if(!(n instanceof Array)&&LD){const s=[];let r=!1;if(It(n,(f,d)=>{if(f.substring(0,1)!=="."){const m=ut(d);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),s.push(new ue(f,m)))}}),s.length===0)return ie.EMPTY_NODE;const u=mu(s,RD,f=>f.name,Hd);if(r){const f=mu(s,Fe.getCompare());return new ie(u,ut(e),new Qn({".priority":f},{".priority":Fe}))}else return new ie(u,ut(e),Qn.Default)}else{let s=ie.EMPTY_NODE;return It(n,(r,o)=>{if(ni(n,r)&&r.substring(0,1)!=="."){const u=ut(o);(u.isLeafNode()||!u.isEmpty())&&(s=s.updateImmediateChild(r,u))}}),s.updatePriority(ut(e))}}OD(ut);class UD extends Hu{constructor(e){super(),this.indexPath_=e,G(!he(e)&&ge(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,s){const r=this.extractChild(e.node),o=this.extractChild(s.node),u=r.compareTo(o);return u===0?Ur(e.name,s.name):u}makePost(e,s){const r=ut(e),o=ie.EMPTY_NODE.updateChild(this.indexPath_,r);return new ue(s,o)}maxPost(){const e=ie.EMPTY_NODE.updateChild(this.indexPath_,vl);return new ue(bs,e)}toString(){return Kb(this.indexPath_,0).join("/")}}class zD extends Hu{compare(e,s){const r=e.node.compareTo(s.node);return r===0?Ur(e.name,s.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,s){return!e.equals(s)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(e,s){const r=ut(e);return new ue(s,r)}toString(){return".value"}}const PD=new zD;function nS(n){return{type:"value",snapshotNode:n}}function Ar(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function nl(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function il(n,e,s){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:s}}function HD(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}class Bd{constructor(e){this.index_=e}updateChild(e,s,r,o,u,f){G(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(s);return d.getChild(o).equals(r.getChild(o))&&d.isEmpty()===r.isEmpty()||(f!=null&&(r.isEmpty()?e.hasChild(s)?f.trackChildChange(nl(s,d)):G(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?f.trackChildChange(Ar(s,r)):f.trackChildChange(il(s,r,d))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(s,r).withIndex(this.index_)}updateFullNode(e,s,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Fe,(o,u)=>{s.hasChild(o)||r.trackChildChange(nl(o,u))}),s.isLeafNode()||s.forEachChild(Fe,(o,u)=>{if(e.hasChild(o)){const f=e.getImmediateChild(o);f.equals(u)||r.trackChildChange(il(o,u,f))}else r.trackChildChange(Ar(o,u))})),s.withIndex(this.index_)}updatePriority(e,s){return e.isEmpty()?ie.EMPTY_NODE:e.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class sl{constructor(e){this.indexedFilter_=new Bd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=sl.getStartPost_(e),this.endPost_=sl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return s&&r}updateChild(e,s,r,o,u,f){return this.matches(new ue(s,r))||(r=ie.EMPTY_NODE),this.indexedFilter_.updateChild(e,s,r,o,u,f)}updateFullNode(e,s,r){s.isLeafNode()&&(s=ie.EMPTY_NODE);let o=s.withIndex(this.index_);o=o.updatePriority(ie.EMPTY_NODE);const u=this;return s.forEachChild(Fe,(f,d)=>{u.matches(new ue(f,d))||(o=o.updateImmediateChild(f,ie.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,s){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const s=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),s)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const s=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),s)}else return e.getIndex().maxPost()}}class BD{constructor(e){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=s=>{const r=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new sl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,s,r,o,u,f){return this.rangedFilter_.matches(new ue(s,r))||(r=ie.EMPTY_NODE),e.getImmediateChild(s).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,s,r,o,u,f):this.fullLimitUpdateChild_(e,s,r,u,f)}updateFullNode(e,s,r){let o;if(s.isLeafNode()||s.isEmpty())o=ie.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<s.numChildren()&&s.isIndexed(this.index_)){o=ie.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const d=u.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),f++;else break;else continue}}else{o=s.withIndex(this.index_),o=o.updatePriority(ie.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let f=0;for(;u.hasNext();){const d=u.getNext();f<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?f++:o=o.updateImmediateChild(d.name,ie.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,s){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,s,r,o,u){let f;if(this.reverse_){const _=this.index_.getCompare();f=(E,w)=>_(w,E)}else f=this.index_.getCompare();const d=e;G(d.numChildren()===this.limit_,"");const m=new ue(s,r),p=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),v=this.rangedFilter_.matches(m);if(d.hasChild(s)){const _=d.getImmediateChild(s);let E=o.getChildAfterChild(this.index_,p,this.reverse_);for(;E!=null&&(E.name===s||d.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const w=E==null?1:f(E,m);if(v&&!r.isEmpty()&&w>=0)return u?.trackChildChange(il(s,r,_)),d.updateImmediateChild(s,r);{u?.trackChildChange(nl(s,_));const k=d.updateImmediateChild(s,ie.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(u?.trackChildChange(Ar(E.name,E.node)),k.updateImmediateChild(E.name,E.node)):k}}else return r.isEmpty()?e:v&&f(p,m)>=0?(u!=null&&(u.trackChildChange(nl(p.name,p.node)),u.trackChildChange(Ar(s,r))),d.updateImmediateChild(s,r).updateImmediateChild(p.name,ie.EMPTY_NODE)):e}}class qd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wr}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fe}copy(){const e=new qd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function qD(n){return n.loadsAllData()?new Bd(n.getIndex()):n.hasLimit()?new BD(n):new sl(n)}function Mv(n){const e={};if(n.isDefault())return e;let s;if(n.index_===Fe?s="$priority":n.index_===PD?s="$value":n.index_===br?s="$key":(G(n.index_ instanceof UD,"Unrecognized index type!"),s=n.index_.toString()),e.orderBy=nt(s),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=nt(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+nt(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=nt(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+nt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Iv(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let s=n.viewFrom_;s===""&&(n.isViewFromLeft()?s="l":s="r"),e.vf=s}return n.index_!==Fe&&(e.i=n.index_.toString()),e}class gu extends Gb{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,s){return s!==void 0?"tag$"+s:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,s,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=s,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=yl("p:rest:"),this.listens_={}}listen(e,s,r,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=gu.getListenId_(e,r),d={};this.listens_[f]=d;const m=Mv(e._queryParams);this.restRequest_(u+".json",m,(p,v)=>{let _=v;if(p===404&&(_=null,p=null),p===null&&this.onDataUpdate_(u,_,!1,r),Sr(this.listens_,f)===d){let E;p?p===401?E="permission_denied":E="rest_error:"+p:E="ok",o(E,null)}})}unlisten(e,s){const r=gu.getListenId_(e,s);delete this.listens_[r]}get(e){const s=Mv(e._queryParams),r=e._path.toString(),o=new xu;return this.restRequest_(r+".json",s,(u,f)=>{let d=f;u===404&&(d=null,u=null),u===null?(this.onDataUpdate_(r,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(e){}restRequest_(e,s={},r){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(s.auth=o.accessToken),u&&u.token&&(s.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ir(s);this.log_("Sending REST request for "+f);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(r&&d.readyState===4){this.log_("REST Response for "+f+" received. status:",d.status,"response:",d.responseText);let m=null;if(d.status>=200&&d.status<300){try{m=Za(d.responseText)}catch{Mt("Failed to parse JSON response for "+f+": "+d.responseText)}r(null,m)}else d.status!==401&&d.status!==404&&Mt("Got unsuccessful REST response for "+f+" Status: "+d.status),r(d.status);r=null}},d.open("GET",f,!0),d.send()})}}class jD{constructor(){this.rootNode_=ie.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,s){this.rootNode_=this.rootNode_.updateChild(e,s)}}function _u(){return{value:null,children:new Map}}function iS(n,e,s){if(he(e))n.value=s,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,s);else{const r=ge(e);n.children.has(r)||n.children.set(r,_u());const o=n.children.get(r);e=Le(e),iS(o,e,s)}}function ed(n,e,s){n.value!==null?s(e,n.value):VD(n,(r,o)=>{const u=new xe(e.toString()+"/"+r);ed(o,u,s)})}function VD(n,e){n.children.forEach((s,r)=>{e(r,s)})}class GD{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),s={...e};return this.last_&&It(this.last_,(r,o)=>{s[r]=s[r]-o}),this.last_=e,s}}const xv=10*1e3,YD=30*1e3,FD=300*1e3;class KD{constructor(e,s){this.server_=s,this.statsToReport_={},this.statsListener_=new GD(e);const r=xv+(YD-xv)*Math.random();Fa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),s={};let r=!1;It(e,(o,u)=>{u>0&&ni(this.statsToReport_,o)&&(s[o]=u,r=!0)}),r&&this.server_.reportStats(s),Fa(this.reportStats_.bind(this),Math.floor(Math.random()*2*FD))}}var dn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(dn||(dn={}));function sS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function jd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Vd(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class yu{constructor(e,s,r){this.path=e,this.affectedTree=s,this.revert=r,this.type=dn.ACK_USER_WRITE,this.source=sS()}operationForChild(e){if(he(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new xe(e));return new yu(Ee(),s,this.revert)}}else return G(ge(this.path)===e,"operationForChild called for unrelated child."),new yu(Le(this.path),this.affectedTree,this.revert)}}class rl{constructor(e,s){this.source=e,this.path=s,this.type=dn.LISTEN_COMPLETE}operationForChild(e){return he(this.path)?new rl(this.source,Ee()):new rl(this.source,Le(this.path))}}class Ss{constructor(e,s,r){this.source=e,this.path=s,this.snap=r,this.type=dn.OVERWRITE}operationForChild(e){return he(this.path)?new Ss(this.source,Ee(),this.snap.getImmediateChild(e)):new Ss(this.source,Le(this.path),this.snap)}}class al{constructor(e,s,r){this.source=e,this.path=s,this.children=r,this.type=dn.MERGE}operationForChild(e){if(he(this.path)){const s=this.children.subtree(new xe(e));return s.isEmpty()?null:s.value?new Ss(this.source,Ee(),s.value):new al(this.source,Ee(),s)}else return G(ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new al(this.source,Le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ji{constructor(e,s,r){this.node_=e,this.fullyInitialized_=s,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(he(e))return this.isFullyInitialized()&&!this.filtered_;const s=ge(e);return this.isCompleteForChild(s)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class QD{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function WD(n,e,s,r){const o=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&n.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(HD(f.childName,f.snapshotNode))}),Pa(n,o,"child_removed",e,r,s),Pa(n,o,"child_added",e,r,s),Pa(n,o,"child_moved",u,r,s),Pa(n,o,"child_changed",e,r,s),Pa(n,o,"value",e,r,s),o}function Pa(n,e,s,r,o,u){const f=r.filter(d=>d.type===s);f.sort((d,m)=>ZD(n,d,m)),f.forEach(d=>{const m=XD(n,d,u);o.forEach(p=>{p.respondsTo(d.type)&&e.push(p.createEvent(m,n.query_))})})}function XD(n,e,s){return e.type==="value"||e.type==="child_removed"||(e.prevName=s.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function ZD(n,e,s){if(e.childName==null||s.childName==null)throw Dr("Should only compare child_ events.");const r=new ue(e.childName,e.snapshotNode),o=new ue(s.childName,s.snapshotNode);return n.index_.compare(r,o)}function Bu(n,e){return{eventCache:n,serverCache:e}}function Ka(n,e,s,r){return Bu(new ji(e,s,r),n.serverCache)}function rS(n,e,s,r){return Bu(n.eventCache,new ji(e,s,r))}function vu(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Cs(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let xh;const $D=()=>(xh||(xh=new Dt(zO)),xh);class He{static fromObject(e){let s=new He(null);return It(e,(r,o)=>{s=s.set(new xe(r),o)}),s}constructor(e,s=$D()){this.value=e,this.children=s}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,s){if(this.value!=null&&s(this.value))return{path:Ee(),value:this.value};if(he(e))return null;{const r=ge(e),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Le(e),s);return u!=null?{path:it(new xe(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(he(e))return this;{const s=ge(e),r=this.children.get(s);return r!==null?r.subtree(Le(e)):new He(null)}}set(e,s){if(he(e))return new He(s,this.children);{const r=ge(e),u=(this.children.get(r)||new He(null)).set(Le(e),s),f=this.children.insert(r,u);return new He(this.value,f)}}remove(e){if(he(e))return this.children.isEmpty()?new He(null):new He(null,this.children);{const s=ge(e),r=this.children.get(s);if(r){const o=r.remove(Le(e));let u;return o.isEmpty()?u=this.children.remove(s):u=this.children.insert(s,o),this.value===null&&u.isEmpty()?new He(null):new He(this.value,u)}else return this}}get(e){if(he(e))return this.value;{const s=ge(e),r=this.children.get(s);return r?r.get(Le(e)):null}}setTree(e,s){if(he(e))return s;{const r=ge(e),u=(this.children.get(r)||new He(null)).setTree(Le(e),s);let f;return u.isEmpty()?f=this.children.remove(r):f=this.children.insert(r,u),new He(this.value,f)}}fold(e){return this.fold_(Ee(),e)}fold_(e,s){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(it(e,o),s)}),s(e,this.value,r)}findOnPath(e,s){return this.findOnPath_(e,Ee(),s)}findOnPath_(e,s,r){const o=this.value?r(s,this.value):!1;if(o)return o;if(he(e))return null;{const u=ge(e),f=this.children.get(u);return f?f.findOnPath_(Le(e),it(s,u),r):null}}foreachOnPath(e,s){return this.foreachOnPath_(e,Ee(),s)}foreachOnPath_(e,s,r){if(he(e))return this;{this.value&&r(s,this.value);const o=ge(e),u=this.children.get(o);return u?u.foreachOnPath_(Le(e),it(s,o),r):new He(null)}}foreach(e){this.foreach_(Ee(),e)}foreach_(e,s){this.children.inorderTraversal((r,o)=>{o.foreach_(it(e,r),s)}),this.value&&s(e,this.value)}foreachChild(e){this.children.inorderTraversal((s,r)=>{r.value&&e(s,r.value)})}}class pn{constructor(e){this.writeTree_=e}static empty(){return new pn(new He(null))}}function Qa(n,e,s){if(he(e))return new pn(new He(s));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let u=r.value;const f=vt(o,e);return u=u.updateChild(f,s),new pn(n.writeTree_.set(o,u))}else{const o=new He(s),u=n.writeTree_.setTree(e,o);return new pn(u)}}}function kv(n,e,s){let r=n;return It(s,(o,u)=>{r=Qa(r,it(e,o),u)}),r}function Lv(n,e){if(he(e))return pn.empty();{const s=n.writeTree_.setTree(e,new He(null));return new pn(s)}}function td(n,e){return Rs(n,e)!=null}function Rs(n,e){const s=n.writeTree_.findRootMostValueAndPath(e);return s!=null?n.writeTree_.get(s.path).getChild(vt(s.path,e)):null}function Uv(n){const e=[],s=n.writeTree_.value;return s!=null?s.isLeafNode()||s.forEachChild(Fe,(r,o)=>{e.push(new ue(r,o))}):n.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new ue(r,o.value))}),e}function Hi(n,e){if(he(e))return n;{const s=Rs(n,e);return s!=null?new pn(new He(s)):new pn(n.writeTree_.subtree(e))}}function nd(n){return n.writeTree_.isEmpty()}function Rr(n,e){return aS(Ee(),n.writeTree_,e)}function aS(n,e,s){if(e.value!=null)return s.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(G(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):s=aS(it(n,o),u,s)}),!s.getChild(n).isEmpty()&&r!==null&&(s=s.updateChild(it(n,".priority"),r)),s}}function qu(n,e){return cS(e,n)}function JD(n,e,s,r,o){G(r>n.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),n.allWrites.push({path:e,snap:s,writeId:r,visible:o}),o&&(n.visibleWrites=Qa(n.visibleWrites,e,s)),n.lastWriteId=r}function eM(n,e){for(let s=0;s<n.allWrites.length;s++){const r=n.allWrites[s];if(r.writeId===e)return r}return null}function tM(n,e){const s=n.allWrites.findIndex(d=>d.writeId===e);G(s>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[s];n.allWrites.splice(s,1);let o=r.visible,u=!1,f=n.allWrites.length-1;for(;o&&f>=0;){const d=n.allWrites[f];d.visible&&(f>=s&&nM(d,r.path)?o=!1:hn(r.path,d.path)&&(u=!0)),f--}if(o){if(u)return iM(n),!0;if(r.snap)n.visibleWrites=Lv(n.visibleWrites,r.path);else{const d=r.children;It(d,m=>{n.visibleWrites=Lv(n.visibleWrites,it(r.path,m))})}return!0}else return!1}function nM(n,e){if(n.snap)return hn(n.path,e);for(const s in n.children)if(n.children.hasOwnProperty(s)&&hn(it(n.path,s),e))return!0;return!1}function iM(n){n.visibleWrites=lS(n.allWrites,sM,Ee()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function sM(n){return n.visible}function lS(n,e,s){let r=pn.empty();for(let o=0;o<n.length;++o){const u=n[o];if(e(u)){const f=u.path;let d;if(u.snap)hn(s,f)?(d=vt(s,f),r=Qa(r,d,u.snap)):hn(f,s)&&(d=vt(f,s),r=Qa(r,Ee(),u.snap.getChild(d)));else if(u.children){if(hn(s,f))d=vt(s,f),r=kv(r,d,u.children);else if(hn(f,s))if(d=vt(f,s),he(d))r=kv(r,Ee(),u.children);else{const m=Sr(u.children,ge(d));if(m){const p=m.getChild(Le(d));r=Qa(r,Ee(),p)}}}else throw Dr("WriteRecord should have .snap or .children")}}return r}function oS(n,e,s,r,o){if(!r&&!o){const u=Rs(n.visibleWrites,e);if(u!=null)return u;{const f=Hi(n.visibleWrites,e);if(nd(f))return s;if(s==null&&!td(f,Ee()))return null;{const d=s||ie.EMPTY_NODE;return Rr(f,d)}}}else{const u=Hi(n.visibleWrites,e);if(!o&&nd(u))return s;if(!o&&s==null&&!td(u,Ee()))return null;{const f=function(p){return(p.visible||o)&&(!r||!~r.indexOf(p.writeId))&&(hn(p.path,e)||hn(e,p.path))},d=lS(n.allWrites,f,e),m=s||ie.EMPTY_NODE;return Rr(d,m)}}}function rM(n,e,s){let r=ie.EMPTY_NODE;const o=Rs(n.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Fe,(u,f)=>{r=r.updateImmediateChild(u,f)}),r;if(s){const u=Hi(n.visibleWrites,e);return s.forEachChild(Fe,(f,d)=>{const m=Rr(Hi(u,new xe(f)),d);r=r.updateImmediateChild(f,m)}),Uv(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}else{const u=Hi(n.visibleWrites,e);return Uv(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}}function aM(n,e,s,r,o){G(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=it(e,s);if(td(n.visibleWrites,u))return null;{const f=Hi(n.visibleWrites,u);return nd(f)?o.getChild(s):Rr(f,o.getChild(s))}}function lM(n,e,s,r){const o=it(e,s),u=Rs(n.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(s)){const f=Hi(n.visibleWrites,o);return Rr(f,r.getNode().getImmediateChild(s))}else return null}function oM(n,e){return Rs(n.visibleWrites,e)}function uM(n,e,s,r,o,u,f){let d;const m=Hi(n.visibleWrites,e),p=Rs(m,Ee());if(p!=null)d=p;else if(s!=null)d=Rr(m,s);else return[];if(d=d.withIndex(f),!d.isEmpty()&&!d.isLeafNode()){const v=[],_=f.getCompare(),E=u?d.getReverseIteratorFrom(r,f):d.getIteratorFrom(r,f);let w=E.getNext();for(;w&&v.length<o;)_(w,r)!==0&&v.push(w),w=E.getNext();return v}else return[]}function cM(){return{visibleWrites:pn.empty(),allWrites:[],lastWriteId:-1}}function Eu(n,e,s,r){return oS(n.writeTree,n.treePath,e,s,r)}function Gd(n,e){return rM(n.writeTree,n.treePath,e)}function zv(n,e,s,r){return aM(n.writeTree,n.treePath,e,s,r)}function bu(n,e){return oM(n.writeTree,it(n.treePath,e))}function fM(n,e,s,r,o,u){return uM(n.writeTree,n.treePath,e,s,r,o,u)}function Yd(n,e,s){return lM(n.writeTree,n.treePath,e,s)}function uS(n,e){return cS(it(n.treePath,e),n.writeTree)}function cS(n,e){return{treePath:n,writeTree:e}}class hM{constructor(){this.changeMap=new Map}trackChildChange(e){const s=e.type,r=e.childName;G(s==="child_added"||s==="child_changed"||s==="child_removed","Only child changes supported for tracking"),G(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(s==="child_added"&&u==="child_removed")this.changeMap.set(r,il(r,e.snapshotNode,o.snapshotNode));else if(s==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(s==="child_removed"&&u==="child_changed")this.changeMap.set(r,nl(r,o.oldSnap));else if(s==="child_changed"&&u==="child_added")this.changeMap.set(r,Ar(r,e.snapshotNode));else if(s==="child_changed"&&u==="child_changed")this.changeMap.set(r,il(r,e.snapshotNode,o.oldSnap));else throw Dr("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}class dM{getCompleteChild(e){return null}getChildAfterChild(e,s,r){return null}}const fS=new dM;class Fd{constructor(e,s,r=null){this.writes_=e,this.viewCache_=s,this.optCompleteServerCache_=r}getCompleteChild(e){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(e))return s.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ji(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Yd(this.writes_,e,r)}}getChildAfterChild(e,s,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Cs(this.viewCache_),u=fM(this.writes_,o,s,1,r,e);return u.length===0?null:u[0]}}function pM(n){return{filter:n}}function mM(n,e){G(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function gM(n,e,s,r,o){const u=new hM;let f,d;if(s.type===dn.OVERWRITE){const p=s;p.source.fromUser?f=id(n,e,p.path,p.snap,r,o,u):(G(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered()&&!he(p.path),f=Su(n,e,p.path,p.snap,r,o,d,u))}else if(s.type===dn.MERGE){const p=s;p.source.fromUser?f=yM(n,e,p.path,p.children,r,o,u):(G(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered(),f=sd(n,e,p.path,p.children,r,o,d,u))}else if(s.type===dn.ACK_USER_WRITE){const p=s;p.revert?f=bM(n,e,p.path,r,o,u):f=vM(n,e,p.path,p.affectedTree,r,o,u)}else if(s.type===dn.LISTEN_COMPLETE)f=EM(n,e,s.path,r,u);else throw Dr("Unknown operation type: "+s.type);const m=u.getChanges();return _M(e,f,m),{viewCache:f,changes:m}}function _M(n,e,s){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=vu(n);(s.length>0||!n.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&s.push(nS(vu(e)))}}function hS(n,e,s,r,o,u){const f=e.eventCache;if(bu(r,s)!=null)return e;{let d,m;if(he(s))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Cs(e),v=p instanceof ie?p:ie.EMPTY_NODE,_=Gd(r,v);d=n.filter.updateFullNode(e.eventCache.getNode(),_,u)}else{const p=Eu(r,Cs(e));d=n.filter.updateFullNode(e.eventCache.getNode(),p,u)}else{const p=ge(s);if(p===".priority"){G(qi(s)===1,"Can't have a priority with additional path components");const v=f.getNode();m=e.serverCache.getNode();const _=zv(r,s,v,m);_!=null?d=n.filter.updatePriority(v,_):d=f.getNode()}else{const v=Le(s);let _;if(f.isCompleteForChild(p)){m=e.serverCache.getNode();const E=zv(r,s,f.getNode(),m);E!=null?_=f.getNode().getImmediateChild(p).updateChild(v,E):_=f.getNode().getImmediateChild(p)}else _=Yd(r,p,e.serverCache);_!=null?d=n.filter.updateChild(f.getNode(),p,_,v,o,u):d=f.getNode()}}return Ka(e,d,f.isFullyInitialized()||he(s),n.filter.filtersNodes())}}function Su(n,e,s,r,o,u,f,d){const m=e.serverCache;let p;const v=f?n.filter:n.filter.getIndexedFilter();if(he(s))p=v.updateFullNode(m.getNode(),r,null);else if(v.filtersNodes()&&!m.isFiltered()){const w=m.getNode().updateChild(s,r);p=v.updateFullNode(m.getNode(),w,null)}else{const w=ge(s);if(!m.isCompleteForPath(s)&&qi(s)>1)return e;const N=Le(s),B=m.getNode().getImmediateChild(w).updateChild(N,r);w===".priority"?p=v.updatePriority(m.getNode(),B):p=v.updateChild(m.getNode(),w,B,N,fS,null)}const _=rS(e,p,m.isFullyInitialized()||he(s),v.filtersNodes()),E=new Fd(o,_,u);return hS(n,_,s,o,E,d)}function id(n,e,s,r,o,u,f){const d=e.eventCache;let m,p;const v=new Fd(o,e,u);if(he(s))p=n.filter.updateFullNode(e.eventCache.getNode(),r,f),m=Ka(e,p,!0,n.filter.filtersNodes());else{const _=ge(s);if(_===".priority")p=n.filter.updatePriority(e.eventCache.getNode(),r),m=Ka(e,p,d.isFullyInitialized(),d.isFiltered());else{const E=Le(s),w=d.getNode().getImmediateChild(_);let N;if(he(E))N=r;else{const k=v.getCompleteChild(_);k!=null?Fb(E)===".priority"&&k.getChild(Qb(E)).isEmpty()?N=k:N=k.updateChild(E,r):N=ie.EMPTY_NODE}if(w.equals(N))m=e;else{const k=n.filter.updateChild(d.getNode(),_,N,E,v,f);m=Ka(e,k,d.isFullyInitialized(),n.filter.filtersNodes())}}}return m}function Pv(n,e){return n.eventCache.isCompleteForChild(e)}function yM(n,e,s,r,o,u,f){let d=e;return r.foreach((m,p)=>{const v=it(s,m);Pv(e,ge(v))&&(d=id(n,d,v,p,o,u,f))}),r.foreach((m,p)=>{const v=it(s,m);Pv(e,ge(v))||(d=id(n,d,v,p,o,u,f))}),d}function Hv(n,e,s){return s.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function sd(n,e,s,r,o,u,f,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,p;he(s)?p=r:p=new He(null).setTree(s,r);const v=e.serverCache.getNode();return p.children.inorderTraversal((_,E)=>{if(v.hasChild(_)){const w=e.serverCache.getNode().getImmediateChild(_),N=Hv(n,w,E);m=Su(n,m,new xe(_),N,o,u,f,d)}}),p.children.inorderTraversal((_,E)=>{const w=!e.serverCache.isCompleteForChild(_)&&E.value===null;if(!v.hasChild(_)&&!w){const N=e.serverCache.getNode().getImmediateChild(_),k=Hv(n,N,E);m=Su(n,m,new xe(_),k,o,u,f,d)}}),m}function vM(n,e,s,r,o,u,f){if(bu(o,s)!=null)return e;const d=e.serverCache.isFiltered(),m=e.serverCache;if(r.value!=null){if(he(s)&&m.isFullyInitialized()||m.isCompleteForPath(s))return Su(n,e,s,m.getNode().getChild(s),o,u,d,f);if(he(s)){let p=new He(null);return m.getNode().forEachChild(br,(v,_)=>{p=p.set(new xe(v),_)}),sd(n,e,s,p,o,u,d,f)}else return e}else{let p=new He(null);return r.foreach((v,_)=>{const E=it(s,v);m.isCompleteForPath(E)&&(p=p.set(v,m.getNode().getChild(E)))}),sd(n,e,s,p,o,u,d,f)}}function EM(n,e,s,r,o){const u=e.serverCache,f=rS(e,u.getNode(),u.isFullyInitialized()||he(s),u.isFiltered());return hS(n,f,s,r,fS,o)}function bM(n,e,s,r,o,u){let f;if(bu(r,s)!=null)return e;{const d=new Fd(r,e,o),m=e.eventCache.getNode();let p;if(he(s)||ge(s)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=Eu(r,Cs(e));else{const _=e.serverCache.getNode();G(_ instanceof ie,"serverChildren would be complete if leaf node"),v=Gd(r,_)}v=v,p=n.filter.updateFullNode(m,v,u)}else{const v=ge(s);let _=Yd(r,v,e.serverCache);_==null&&e.serverCache.isCompleteForChild(v)&&(_=m.getImmediateChild(v)),_!=null?p=n.filter.updateChild(m,v,_,Le(s),d,u):e.eventCache.getNode().hasChild(v)?p=n.filter.updateChild(m,v,ie.EMPTY_NODE,Le(s),d,u):p=m,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=Eu(r,Cs(e)),f.isLeafNode()&&(p=n.filter.updateFullNode(p,f,u)))}return f=e.serverCache.isFullyInitialized()||bu(r,Ee())!=null,Ka(e,p,f,n.filter.filtersNodes())}}class SM{constructor(e,s){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Bd(r.getIndex()),u=qD(r);this.processor_=pM(u);const f=s.serverCache,d=s.eventCache,m=o.updateFullNode(ie.EMPTY_NODE,f.getNode(),null),p=u.updateFullNode(ie.EMPTY_NODE,d.getNode(),null),v=new ji(m,f.isFullyInitialized(),o.filtersNodes()),_=new ji(p,d.isFullyInitialized(),u.filtersNodes());this.viewCache_=Bu(_,v),this.eventGenerator_=new QD(this.query_)}get query(){return this.query_}}function CM(n){return n.viewCache_.serverCache.getNode()}function TM(n){return vu(n.viewCache_)}function wM(n,e){const s=Cs(n.viewCache_);return s&&(n.query._queryParams.loadsAllData()||!he(e)&&!s.getImmediateChild(ge(e)).isEmpty())?s.getChild(e):null}function Bv(n){return n.eventRegistrations_.length===0}function AM(n,e){n.eventRegistrations_.push(e)}function qv(n,e,s){const r=[];if(s){G(e==null,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(s,o);f&&r.push(f)})}if(e){let o=[];for(let u=0;u<n.eventRegistrations_.length;++u){const f=n.eventRegistrations_[u];if(!f.matches(e))o.push(f);else if(e.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(u+1));break}}n.eventRegistrations_=o}else n.eventRegistrations_=[];return r}function jv(n,e,s,r){e.type===dn.MERGE&&e.source.queryId!==null&&(G(Cs(n.viewCache_),"We should always have a full cache before handling merges"),G(vu(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,u=gM(n.processor_,o,e,s,r);return mM(n.processor_,u.viewCache),G(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,dS(n,u.changes,u.viewCache.eventCache.getNode(),null)}function RM(n,e){const s=n.viewCache_.eventCache,r=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(Fe,(u,f)=>{r.push(Ar(u,f))}),s.isFullyInitialized()&&r.push(nS(s.getNode())),dS(n,r,s.getNode(),e)}function dS(n,e,s,r){const o=r?[r]:n.eventRegistrations_;return WD(n.eventGenerator_,e,s,o)}let Cu;class pS{constructor(){this.views=new Map}}function NM(n){G(!Cu,"__referenceConstructor has already been defined"),Cu=n}function OM(){return G(Cu,"Reference.ts has not been loaded"),Cu}function DM(n){return n.views.size===0}function Kd(n,e,s,r){const o=e.source.queryId;if(o!==null){const u=n.views.get(o);return G(u!=null,"SyncTree gave us an op for an invalid query."),jv(u,e,s,r)}else{let u=[];for(const f of n.views.values())u=u.concat(jv(f,e,s,r));return u}}function mS(n,e,s,r,o){const u=e._queryIdentifier,f=n.views.get(u);if(!f){let d=Eu(s,o?r:null),m=!1;d?m=!0:r instanceof ie?(d=Gd(s,r),m=!1):(d=ie.EMPTY_NODE,m=!1);const p=Bu(new ji(d,m,!1),new ji(r,o,!1));return new SM(e,p)}return f}function MM(n,e,s,r,o,u){const f=mS(n,e,r,o,u);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,f),AM(f,s),RM(f,s)}function IM(n,e,s,r){const o=e._queryIdentifier,u=[];let f=[];const d=Vi(n);if(o==="default")for(const[m,p]of n.views.entries())f=f.concat(qv(p,s,r)),Bv(p)&&(n.views.delete(m),p.query._queryParams.loadsAllData()||u.push(p.query));else{const m=n.views.get(o);m&&(f=f.concat(qv(m,s,r)),Bv(m)&&(n.views.delete(o),m.query._queryParams.loadsAllData()||u.push(m.query)))}return d&&!Vi(n)&&u.push(new(OM())(e._repo,e._path)),{removed:u,events:f}}function gS(n){const e=[];for(const s of n.views.values())s.query._queryParams.loadsAllData()||e.push(s);return e}function Bi(n,e){let s=null;for(const r of n.views.values())s=s||wM(r,e);return s}function _S(n,e){if(e._queryParams.loadsAllData())return ju(n);{const r=e._queryIdentifier;return n.views.get(r)}}function yS(n,e){return _S(n,e)!=null}function Vi(n){return ju(n)!=null}function ju(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Tu;function xM(n){G(!Tu,"__referenceConstructor has already been defined"),Tu=n}function kM(){return G(Tu,"Reference.ts has not been loaded"),Tu}let LM=1;class Vv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new He(null),this.pendingWriteTree_=cM(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vS(n,e,s,r,o){return JD(n.pendingWriteTree_,e,s,r,o),o?bl(n,new Ss(sS(),e,s)):[]}function _s(n,e,s=!1){const r=eM(n.pendingWriteTree_,e);if(tM(n.pendingWriteTree_,e)){let u=new He(null);return r.snap!=null?u=u.set(Ee(),!0):It(r.children,f=>{u=u.set(new xe(f),!0)}),bl(n,new yu(r.path,u,s))}else return[]}function El(n,e,s){return bl(n,new Ss(jd(),e,s))}function UM(n,e,s){const r=He.fromObject(s);return bl(n,new al(jd(),e,r))}function zM(n,e){return bl(n,new rl(jd(),e))}function PM(n,e,s){const r=Wd(n,s);if(r){const o=Xd(r),u=o.path,f=o.queryId,d=vt(u,e),m=new rl(Vd(f),d);return Zd(n,u,m)}else return[]}function ES(n,e,s,r,o=!1){const u=e._path,f=n.syncPointTree_.get(u);let d=[];if(f&&(e._queryIdentifier==="default"||yS(f,e))){const m=IM(f,e,s,r);DM(f)&&(n.syncPointTree_=n.syncPointTree_.remove(u));const p=m.removed;if(d=m.events,!o){const v=p.findIndex(E=>E._queryParams.loadsAllData())!==-1,_=n.syncPointTree_.findOnPath(u,(E,w)=>Vi(w));if(v&&!_){const E=n.syncPointTree_.subtree(u);if(!E.isEmpty()){const w=jM(E);for(let N=0;N<w.length;++N){const k=w[N],B=k.query,j=TS(n,k);n.listenProvider_.startListening(Wa(B),ll(n,B),j.hashFn,j.onComplete)}}}!_&&p.length>0&&!r&&(v?n.listenProvider_.stopListening(Wa(e),null):p.forEach(E=>{const w=n.queryToTagMap.get(Vu(E));n.listenProvider_.stopListening(Wa(E),w)}))}VM(n,p)}return d}function bS(n,e,s,r){const o=Wd(n,r);if(o!=null){const u=Xd(o),f=u.path,d=u.queryId,m=vt(f,e),p=new Ss(Vd(d),m,s);return Zd(n,f,p)}else return[]}function HM(n,e,s,r){const o=Wd(n,r);if(o){const u=Xd(o),f=u.path,d=u.queryId,m=vt(f,e),p=He.fromObject(s),v=new al(Vd(d),m,p);return Zd(n,f,v)}else return[]}function BM(n,e,s,r=!1){const o=e._path;let u=null,f=!1;n.syncPointTree_.foreachOnPath(o,(E,w)=>{const N=vt(E,o);u=u||Bi(w,N),f=f||Vi(w)});let d=n.syncPointTree_.get(o);d?(f=f||Vi(d),u=u||Bi(d,Ee())):(d=new pS,n.syncPointTree_=n.syncPointTree_.set(o,d));let m;u!=null?m=!0:(m=!1,u=ie.EMPTY_NODE,n.syncPointTree_.subtree(o).foreachChild((w,N)=>{const k=Bi(N,Ee());k&&(u=u.updateImmediateChild(w,k))}));const p=yS(d,e);if(!p&&!e._queryParams.loadsAllData()){const E=Vu(e);G(!n.queryToTagMap.has(E),"View does not exist, but we have a tag");const w=GM();n.queryToTagMap.set(E,w),n.tagToQueryMap.set(w,E)}const v=qu(n.pendingWriteTree_,o);let _=MM(d,e,s,v,u,m);if(!p&&!f&&!r){const E=_S(d,e);_=_.concat(YM(n,e,E))}return _}function Qd(n,e,s){const o=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(e,(f,d)=>{const m=vt(f,e),p=Bi(d,m);if(p)return p});return oS(o,e,u,s,!0)}function qM(n,e){const s=e._path;let r=null;n.syncPointTree_.foreachOnPath(s,(p,v)=>{const _=vt(p,s);r=r||Bi(v,_)});let o=n.syncPointTree_.get(s);o?r=r||Bi(o,Ee()):(o=new pS,n.syncPointTree_=n.syncPointTree_.set(s,o));const u=r!=null,f=u?new ji(r,!0,!1):null,d=qu(n.pendingWriteTree_,e._path),m=mS(o,e,d,u?f.getNode():ie.EMPTY_NODE,u);return TM(m)}function bl(n,e){return SS(e,n.syncPointTree_,null,qu(n.pendingWriteTree_,Ee()))}function SS(n,e,s,r){if(he(n.path))return CS(n,e,s,r);{const o=e.get(Ee());s==null&&o!=null&&(s=Bi(o,Ee()));let u=[];const f=ge(n.path),d=n.operationForChild(f),m=e.children.get(f);if(m&&d){const p=s?s.getImmediateChild(f):null,v=uS(r,f);u=u.concat(SS(d,m,p,v))}return o&&(u=u.concat(Kd(o,n,r,s))),u}}function CS(n,e,s,r){const o=e.get(Ee());s==null&&o!=null&&(s=Bi(o,Ee()));let u=[];return e.children.inorderTraversal((f,d)=>{const m=s?s.getImmediateChild(f):null,p=uS(r,f),v=n.operationForChild(f);v&&(u=u.concat(CS(v,d,m,p)))}),o&&(u=u.concat(Kd(o,n,r,s))),u}function TS(n,e){const s=e.query,r=ll(n,s);return{hashFn:()=>(CM(e)||ie.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?PM(n,s._path,r):zM(n,s._path);{const u=BO(o,s);return ES(n,s,null,u)}}}}function ll(n,e){const s=Vu(e);return n.queryToTagMap.get(s)}function Vu(n){return n._path.toString()+"$"+n._queryIdentifier}function Wd(n,e){return n.tagToQueryMap.get(e)}function Xd(n){const e=n.indexOf("$");return G(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new xe(n.substr(0,e))}}function Zd(n,e,s){const r=n.syncPointTree_.get(e);G(r,"Missing sync point for query tag that we're tracking");const o=qu(n.pendingWriteTree_,e);return Kd(r,s,o,null)}function jM(n){return n.fold((e,s,r)=>{if(s&&Vi(s))return[ju(s)];{let o=[];return s&&(o=gS(s)),It(r,(u,f)=>{o=o.concat(f)}),o}})}function Wa(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(kM())(n._repo,n._path):n}function VM(n,e){for(let s=0;s<e.length;++s){const r=e[s];if(!r._queryParams.loadsAllData()){const o=Vu(r),u=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(u)}}}function GM(){return LM++}function YM(n,e,s){const r=e._path,o=ll(n,e),u=TS(n,s),f=n.listenProvider_.startListening(Wa(e),o,u.hashFn,u.onComplete),d=n.syncPointTree_.subtree(r);if(o)G(!Vi(d.value),"If we're adding a query, it shouldn't be shadowed");else{const m=d.fold((p,v,_)=>{if(!he(p)&&v&&Vi(v))return[ju(v).query];{let E=[];return v&&(E=E.concat(gS(v).map(w=>w.query))),It(_,(w,N)=>{E=E.concat(N)}),E}});for(let p=0;p<m.length;++p){const v=m[p];n.listenProvider_.stopListening(Wa(v),ll(n,v))}}return f}class $d{constructor(e){this.node_=e}getImmediateChild(e){const s=this.node_.getImmediateChild(e);return new $d(s)}node(){return this.node_}}class Jd{constructor(e,s){this.syncTree_=e,this.path_=s}getImmediateChild(e){const s=it(this.path_,e);return new Jd(this.syncTree_,s)}node(){return Qd(this.syncTree_,this.path_)}}const FM=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Gv=function(n,e,s){if(!n||typeof n!="object")return n;if(G(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return KM(n[".sv"],e,s);if(typeof n[".sv"]=="object")return QM(n[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},KM=function(n,e,s){if(n==="timestamp")return s.timestamp;G(!1,"Unexpected server value: "+n)},QM=function(n,e,s){n.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&G(!1,"Unexpected increment value: "+r);const o=e.node();if(G(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const f=o.getValue();return typeof f!="number"?r:f+r},WM=function(n,e,s,r){return ep(e,new Jd(s,n),r)},wS=function(n,e,s){return ep(n,new $d(e),s)};function ep(n,e,s){const r=n.getPriority().val(),o=Gv(r,e.getImmediateChild(".priority"),s);let u;if(n.isLeafNode()){const f=n,d=Gv(f.getValue(),e,s);return d!==f.getValue()||o!==f.getPriority().val()?new lt(d,ut(o)):n}else{const f=n;return u=f,o!==f.getPriority().val()&&(u=u.updatePriority(new lt(o))),f.forEachChild(Fe,(d,m)=>{const p=ep(m,e.getImmediateChild(d),s);p!==m&&(u=u.updateImmediateChild(d,p))}),u}}class tp{constructor(e="",s=null,r={children:{},childCount:0}){this.name=e,this.parent=s,this.node=r}}function np(n,e){let s=e instanceof xe?e:new xe(e),r=n,o=ge(s);for(;o!==null;){const u=Sr(r.node.children,o)||{children:{},childCount:0};r=new tp(o,r,u),s=Le(s),o=ge(s)}return r}function Pr(n){return n.node.value}function AS(n,e){n.node.value=e,rd(n)}function RS(n){return n.node.childCount>0}function XM(n){return Pr(n)===void 0&&!RS(n)}function Gu(n,e){It(n.node.children,(s,r)=>{e(new tp(s,n,r))})}function NS(n,e,s,r){s&&e(n),Gu(n,o=>{NS(o,e,!0)})}function ZM(n,e,s){let r=n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Sl(n){return new xe(n.parent===null?n.name:Sl(n.parent)+"/"+n.name)}function rd(n){n.parent!==null&&$M(n.parent,n.name,n)}function $M(n,e,s){const r=XM(s),o=ni(n.node.children,e);r&&o?(delete n.node.children[e],n.node.childCount--,rd(n)):!r&&!o&&(n.node.children[e]=s.node,n.node.childCount++,rd(n))}const JM=/[\[\].#$\/\u0000-\u001F\u007F]/,eI=/[\[\].#$\u0000-\u001F\u007F]/,kh=10*1024*1024,OS=function(n){return typeof n=="string"&&n.length!==0&&!JM.test(n)},DS=function(n){return typeof n=="string"&&n.length!==0&&!eI.test(n)},tI=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),DS(n)},nI=function(n,e,s,r){ip(Sd(n,"value"),e,s)},ip=function(n,e,s){const r=s instanceof xe?new vD(s,n):s;if(e===void 0)throw new Error(n+"contains undefined "+ps(r));if(typeof e=="function")throw new Error(n+"contains a function "+ps(r)+" with contents = "+e.toString());if(wb(e))throw new Error(n+"contains "+e.toString()+" "+ps(r));if(typeof e=="string"&&e.length>kh/3&&ku(e)>kh)throw new Error(n+"contains a string greater than "+kh+" utf8 bytes "+ps(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(It(e,(f,d)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!OS(f)))throw new Error(n+" contains an invalid key ("+f+") "+ps(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ED(r,f),ip(n,d,r),bD(r)}),o&&u)throw new Error(n+' contains ".value" child '+ps(r)+" in addition to actual children.")}},MS=function(n,e,s,r){if(!DS(s))throw new Error(Sd(n,e)+'was an invalid path = "'+s+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},iI=function(n,e,s,r){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),MS(n,e,s)},sI=function(n,e){if(ge(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},rI=function(n,e){const s=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!OS(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||s.length!==0&&!tI(s))throw new Error(Sd(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class aI{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function IS(n,e){let s=null;for(let r=0;r<e.length;r++){const o=e[r],u=o.getPath();s!==null&&!Wb(u,s.path)&&(n.eventLists_.push(s),s=null),s===null&&(s={events:[],path:u}),s.events.push(o)}s&&n.eventLists_.push(s)}function wn(n,e,s){IS(n,s),lI(n,r=>hn(r,e)||hn(e,r))}function lI(n,e){n.recursionDepth_++;let s=!0;for(let r=0;r<n.eventLists_.length;r++){const o=n.eventLists_[r];if(o){const u=o.path;e(u)?(oI(n.eventLists_[r]),n.eventLists_[r]=null):s=!1}}s&&(n.eventLists_=[]),n.recursionDepth_--}function oI(n){for(let e=0;e<n.events.length;e++){const s=n.events[e];if(s!==null){n.events[e]=null;const r=s.getEventRunner();Ya&&gt("event: "+s.toString()),zr(r)}}}const uI="repo_interrupt",cI=25;class fI{constructor(e,s,r,o){this.repoInfo_=e,this.forceRestClient_=s,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new aI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_u(),this.transactionQueueTree_=new tp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hI(n,e,s){if(n.stats_=Ud(n.repoInfo_),n.forceRestClient_||GO())n.server_=new gu(n.repoInfo_,(r,o,u,f)=>{Yv(n,r,o,u,f)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Fv(n,!0),0);else{if(typeof s<"u"&&s!==null){if(typeof s!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{nt(s)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Zn(n.repoInfo_,e,(r,o,u,f)=>{Yv(n,r,o,u,f)},r=>{Fv(n,r)},r=>{pI(n,r)},n.authTokenProvider_,n.appCheckProvider_,s),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=WO(n.repoInfo_,()=>new KD(n.stats_,n.server_)),n.infoData_=new jD,n.infoSyncTree_=new Vv({startListening:(r,o,u,f)=>{let d=[];const m=n.infoData_.getNode(r._path);return m.isEmpty()||(d=El(n.infoSyncTree_,r._path,m),setTimeout(()=>{f("ok")},0)),d},stopListening:()=>{}}),rp(n,"connected",!1),n.serverSyncTree_=new Vv({startListening:(r,o,u,f)=>(n.server_.listen(r,u,o,(d,m)=>{const p=f(d,m);wn(n.eventQueue_,r._path,p)}),[]),stopListening:(r,o)=>{n.server_.unlisten(r,o)}})}function dI(n){const s=n.infoData_.getNode(new xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+s}function sp(n){return FM({timestamp:dI(n)})}function Yv(n,e,s,r,o){n.dataUpdateCount++;const u=new xe(e);s=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,s):s;let f=[];if(o)if(r){const m=ru(s,p=>ut(p));f=HM(n.serverSyncTree_,u,m,o)}else{const m=ut(s);f=bS(n.serverSyncTree_,u,m,o)}else if(r){const m=ru(s,p=>ut(p));f=UM(n.serverSyncTree_,u,m)}else{const m=ut(s);f=El(n.serverSyncTree_,u,m)}let d=u;f.length>0&&(d=Fu(n,u)),wn(n.eventQueue_,d,f)}function Fv(n,e){rp(n,"connected",e),e===!1&&_I(n)}function pI(n,e){It(e,(s,r)=>{rp(n,s,r)})}function rp(n,e,s){const r=new xe("/.info/"+e),o=ut(s);n.infoData_.updateSnapshot(r,o);const u=El(n.infoSyncTree_,r,o);wn(n.eventQueue_,r,u)}function xS(n){return n.nextWriteId_++}function mI(n,e,s){const r=qM(n.serverSyncTree_,e);return r!=null?Promise.resolve(r):n.server_.get(e).then(o=>{const u=ut(o).withIndex(e._queryParams.getIndex());BM(n.serverSyncTree_,e,s,!0);let f;if(e._queryParams.loadsAllData())f=El(n.serverSyncTree_,e._path,u);else{const d=ll(n.serverSyncTree_,e);f=bS(n.serverSyncTree_,e._path,u,d)}return wn(n.eventQueue_,e._path,f),ES(n.serverSyncTree_,e,s,null,!0),u},o=>(Yu(n,"get for query "+nt(e)+" failed: "+o),Promise.reject(new Error(o))))}function gI(n,e,s,r,o){Yu(n,"set",{path:e.toString(),value:s,priority:r});const u=sp(n),f=ut(s,r),d=Qd(n.serverSyncTree_,e),m=wS(f,d,u),p=xS(n),v=vS(n.serverSyncTree_,e,m,p,!0);IS(n.eventQueue_,v),n.server_.put(e.toString(),f.val(!0),(E,w)=>{const N=E==="ok";N||Mt("set at "+e+" failed: "+E);const k=_s(n.serverSyncTree_,p,!N);wn(n.eventQueue_,e,k),vI(n,o,E,w)});const _=PS(n,e);Fu(n,_),wn(n.eventQueue_,_,[])}function _I(n){Yu(n,"onDisconnectEvents");const e=sp(n),s=_u();ed(n.onDisconnect_,Ee(),(o,u)=>{const f=WM(o,u,n.serverSyncTree_,e);iS(s,o,f)});let r=[];ed(s,Ee(),(o,u)=>{r=r.concat(El(n.serverSyncTree_,o,u));const f=PS(n,o);Fu(n,f)}),n.onDisconnect_=_u(),wn(n.eventQueue_,Ee(),r)}function yI(n){n.persistentConnection_&&n.persistentConnection_.interrupt(uI)}function Yu(n,...e){let s="";n.persistentConnection_&&(s=n.persistentConnection_.id+":"),gt(s,...e)}function vI(n,e,s,r){e&&zr(()=>{if(s==="ok")e(null);else{const o=(s||"error").toUpperCase();let u=o;r&&(u+=": "+r);const f=new Error(u);f.code=o,e(f)}})}function kS(n,e,s){return Qd(n.serverSyncTree_,e,s)||ie.EMPTY_NODE}function ap(n,e=n.transactionQueueTree_){if(e||Ku(n,e),Pr(e)){const s=US(n,e);G(s.length>0,"Sending zero length transaction queue"),s.every(o=>o.status===0)&&EI(n,Sl(e),s)}else RS(e)&&Gu(e,s=>{ap(n,s)})}function EI(n,e,s){const r=s.map(p=>p.currentWriteId),o=kS(n,e,r);let u=o;const f=o.hash();for(let p=0;p<s.length;p++){const v=s[p];G(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const _=vt(e,v.path);u=u.updateChild(_,v.currentOutputSnapshotRaw)}const d=u.val(!0),m=e;n.server_.put(m.toString(),d,p=>{Yu(n,"transaction put response",{path:m.toString(),status:p});let v=[];if(p==="ok"){const _=[];for(let E=0;E<s.length;E++)s[E].status=2,v=v.concat(_s(n.serverSyncTree_,s[E].currentWriteId)),s[E].onComplete&&_.push(()=>s[E].onComplete(null,!0,s[E].currentOutputSnapshotResolved)),s[E].unwatcher();Ku(n,np(n.transactionQueueTree_,e)),ap(n,n.transactionQueueTree_),wn(n.eventQueue_,e,v);for(let E=0;E<_.length;E++)zr(_[E])}else{if(p==="datastale")for(let _=0;_<s.length;_++)s[_].status===3?s[_].status=4:s[_].status=0;else{Mt("transaction at "+m.toString()+" failed: "+p);for(let _=0;_<s.length;_++)s[_].status=4,s[_].abortReason=p}Fu(n,e)}},f)}function Fu(n,e){const s=LS(n,e),r=Sl(s),o=US(n,s);return bI(n,o,r),r}function bI(n,e,s){if(e.length===0)return;const r=[];let o=[];const f=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const m=e[d],p=vt(s,m.path);let v=!1,_;if(G(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)v=!0,_=m.abortReason,o=o.concat(_s(n.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=cI)v=!0,_="maxretry",o=o.concat(_s(n.serverSyncTree_,m.currentWriteId,!0));else{const E=kS(n,m.path,f);m.currentInputSnapshot=E;const w=e[d].update(E.val());if(w!==void 0){ip("transaction failed: Data returned ",w,m.path);let N=ut(w);typeof w=="object"&&w!=null&&ni(w,".priority")||(N=N.updatePriority(E.getPriority()));const B=m.currentWriteId,j=sp(n),P=wS(N,E,j);m.currentOutputSnapshotRaw=N,m.currentOutputSnapshotResolved=P,m.currentWriteId=xS(n),f.splice(f.indexOf(B),1),o=o.concat(vS(n.serverSyncTree_,m.path,P,m.currentWriteId,m.applyLocally)),o=o.concat(_s(n.serverSyncTree_,B,!0))}else v=!0,_="nodata",o=o.concat(_s(n.serverSyncTree_,m.currentWriteId,!0))}wn(n.eventQueue_,s,o),o=[],v&&(e[d].status=2,(function(E){setTimeout(E,Math.floor(0))})(e[d].unwatcher),e[d].onComplete&&(_==="nodata"?r.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):r.push(()=>e[d].onComplete(new Error(_),!1,null))))}Ku(n,n.transactionQueueTree_);for(let d=0;d<r.length;d++)zr(r[d]);ap(n,n.transactionQueueTree_)}function LS(n,e){let s,r=n.transactionQueueTree_;for(s=ge(e);s!==null&&Pr(r)===void 0;)r=np(r,s),e=Le(e),s=ge(e);return r}function US(n,e){const s=[];return zS(n,e,s),s.sort((r,o)=>r.order-o.order),s}function zS(n,e,s){const r=Pr(e);if(r)for(let o=0;o<r.length;o++)s.push(r[o]);Gu(e,o=>{zS(n,o,s)})}function Ku(n,e){const s=Pr(e);if(s){let r=0;for(let o=0;o<s.length;o++)s[o].status!==2&&(s[r]=s[o],r++);s.length=r,AS(e,s.length>0?s:void 0)}Gu(e,r=>{Ku(n,r)})}function PS(n,e){const s=Sl(LS(n,e)),r=np(n.transactionQueueTree_,e);return ZM(r,o=>{Lh(n,o)}),Lh(n,r),NS(r,o=>{Lh(n,o)}),s}function Lh(n,e){const s=Pr(e);if(s){const r=[];let o=[],u=-1;for(let f=0;f<s.length;f++)s[f].status===3||(s[f].status===1?(G(u===f-1,"All SENT items should be at beginning of queue."),u=f,s[f].status=3,s[f].abortReason="set"):(G(s[f].status===0,"Unexpected transaction status in abort"),s[f].unwatcher(),o=o.concat(_s(n.serverSyncTree_,s[f].currentWriteId,!0)),s[f].onComplete&&r.push(s[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?AS(e,void 0):s.length=u+1,wn(n.eventQueue_,Sl(e),o);for(let f=0;f<r.length;f++)zr(r[f])}}function SI(n){let e="";const s=n.split("/");for(let r=0;r<s.length;r++)if(s[r].length>0){let o=s[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function CI(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const s of n.split("&")){if(s.length===0)continue;const r=s.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Mt(`Invalid query segment '${s}' in query '${n}'`)}return e}const Kv=function(n,e){const s=TI(n),r=s.namespace;s.domain==="firebase.com"&&ti(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&s.domain!=="localhost"&&ti("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||LO();const o=s.scheme==="ws"||s.scheme==="wss";return{repoInfo:new zb(s.host,s.secure,r,o,e,"",r!==s.subdomain),path:new xe(s.pathString)}},TI=function(n){let e="",s="",r="",o="",u="",f=!0,d="https",m=443;if(typeof n=="string"){let p=n.indexOf("//");p>=0&&(d=n.substring(0,p-1),n=n.substring(p+2));let v=n.indexOf("/");v===-1&&(v=n.length);let _=n.indexOf("?");_===-1&&(_=n.length),e=n.substring(0,Math.min(v,_)),v<_&&(o=SI(n.substring(v,_)));const E=CI(n.substring(Math.min(n.length,_)));p=e.indexOf(":"),p>=0?(f=d==="https"||d==="wss",m=parseInt(e.substring(p+1),10)):p=e.length;const w=e.slice(0,p);if(w.toLowerCase()==="localhost")s="localhost";else if(w.split(".").length<=2)s=w;else{const N=e.indexOf(".");r=e.substring(0,N).toLowerCase(),s=e.substring(N+1),u=r}"ns"in E&&(u=E.ns)}return{host:e,port:m,domain:s,subdomain:r,secure:f,scheme:d,pathString:o,namespace:u}};class wI{constructor(e,s,r,o){this.eventType=e,this.eventRegistration=s,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+nt(this.snapshot.exportVal())}}class AI{constructor(e,s,r){this.eventRegistration=e,this.error=s,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class RI{constructor(e,s){this.snapshotCallback=e,this.cancelCallback=s}onValue(e,s){this.snapshotCallback.call(null,e,s)}onCancel(e){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class lp{constructor(e,s,r,o){this._repo=e,this._path=s,this._queryParams=r,this._orderByCalled=o}get key(){return he(this._path)?null:Fb(this._path)}get ref(){return new ii(this._repo,this._path)}get _queryIdentifier(){const e=Iv(this._queryParams),s=kd(e);return s==="{}"?"default":s}get _queryObject(){return Iv(this._queryParams)}isEqual(e){if(e=St(e),!(e instanceof lp))return!1;const s=this._repo===e._repo,r=Wb(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return s&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+yD(this._path)}}class ii extends lp{constructor(e,s){super(e,s,new qd,!1)}get parent(){const e=Qb(this._path);return e===null?null:new ii(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ol{constructor(e,s,r){this._node=e,this.ref=s,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const s=new xe(e),r=ad(this.ref,e);return new ol(this._node.getChild(s),r,Fe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new ol(o,ad(this.ref,r),Fe)))}hasChild(e){const s=new xe(e);return!this._node.getChild(s).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function HS(n,e){return n=St(n),n._checkNotDeleted("ref"),e!==void 0?ad(n._root,e):n._root}function ad(n,e){return n=St(n),ge(n._path)===null?iI("child","path",e):MS("child","path",e),new ii(n._repo,it(n._path,e))}function NI(n,e){n=St(n),sI("set",n._path),nI("set",e,n._path);const s=new xu;return gI(n._repo,n._path,e,null,s.wrapCallback(()=>{})),s.promise}function OI(n){n=St(n);const e=new RI(()=>{}),s=new op(e);return mI(n._repo,n,s).then(r=>new ol(r,new ii(n._repo,n._path),n._queryParams.getIndex()))}class op{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,s){const r=s._queryParams.getIndex();return new wI("value",this,new ol(e.snapshotNode,new ii(s._repo,s._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,s){return this.callbackContext.hasCancelCallback?new AI(this,e,s):null}matches(e){return e instanceof op?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}NM(ii);xM(ii);const DI="FIREBASE_DATABASE_EMULATOR_HOST",ld={};let MI=!1;function II(n,e,s,r){const o=e.lastIndexOf(":"),u=e.substring(0,o),f=Mr(u);n.repoInfo_=new zb(e,f,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,s),r&&(n.authTokenProvider_=r)}function xI(n,e,s,r,o){let u=r||n.options.databaseURL;u===void 0&&(n.options.projectId||ti("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gt("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f=Kv(u,o),d=f.repoInfo,m;typeof process<"u"&&pv&&(m=pv[DI]),m?(u=`http://${m}?ns=${d.namespace}`,f=Kv(u,o),d=f.repoInfo):f.repoInfo.secure;const p=new FO(n.name,n.options,e);rI("Invalid Firebase Database URL",f),he(f.path)||ti("Database URL must point to the root of a Firebase Database (not including a child path).");const v=LI(d,n,p,new YO(n,s));return new UI(v,n)}function kI(n,e){const s=ld[e];(!s||s[n.key]!==n)&&ti(`Database ${e}(${n.repoInfo_}) has already been deleted.`),yI(n),delete s[n.key]}function LI(n,e,s,r){let o=ld[e.name];o||(o={},ld[e.name]=o);let u=o[n.toURLString()];return u&&ti("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new fI(n,MI,s,r),o[n.toURLString()]=u,u}class UI{constructor(e,s){this._repoInternal=e,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(hI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ii(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(kI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ti("Cannot call "+e+" on a deleted database.")}}function zI(n=BE(),e){const s=wd(n,"database").getImmediate({identifier:e});if(!s._instanceStarted){const r=Hw("database");r&&PI(s,...r)}return s}function PI(n,e,s,r={}){n=St(n),n._checkNotDeleted("useEmulator");const o=`${e}:${s}`,u=n._repoInternal;if(n._instanceStarted){if(o===n._repoInternal.repoInfo_.host&&ys(r,u.repoInfo_.emulatorOptions))return;ti("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&ti('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new eu(eu.OWNER);else if(r.mockUserToken){const d=typeof r.mockUserToken=="string"?r.mockUserToken:Bw(r.mockUserToken,n.app.options.projectId);f=new eu(d)}Mr(e)&&(xE(e),kE("Database",!0)),II(u,o,r,f)}function HI(n){OO(xr),Cr(new vs("database",(e,{instanceIdentifier:s})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return xI(r,o,u,s)},"PUBLIC").setMultipleInstances(!0)),zi(mv,gv,n),zi(mv,gv,"esm2020")}const BI={".sv":"timestamp"};function qI(){return BI}Zn.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Zn.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};HI();const jI={apiKey:"AIzaSyAIefVM1tBjWz35FRWRxmIdEJeO_vpHSKM",authDomain:"iq4u-chess-classroom.firebaseapp.com",databaseURL:"https://iq4u-chess-classroom-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"iq4u-chess-classroom",storageBucket:"iq4u-chess-classroom.firebasestorage.app",messagingSenderId:"833620718306",appId:"1:833620718306:web:b599bb693d0736fe0da4bb"},BS=HE(jI),up=RO(BS),qS=zI(BS);async function VI(n){if(!n)return{};const e=await OI(HS(qS,`users/${n}/progress`));return e.exists()?e.val():{}}async function GI({uid:n,levelId:e,lessonId:s,score:r,completed:o}){n&&await NI(HS(qS,`users/${n}/progress/${e}/${s}`),{completed:o,score:r,updatedAt:qI()})}function YI(n,e){return hN(up,n,e)}function FI(){return gN(up)}function KI(n){return mN(up,n)}const jS=D.createContext({user:null,loading:!0});function QI({children:n}){const[e,s]=D.useState(null),[r,o]=D.useState(!0);return D.useEffect(()=>{const u=KI(f=>{s(f),o(!1)});return()=>u()},[]),q.jsx(jS.Provider,{value:{user:e,loading:r},children:n})}function cp(){return D.useContext(jS)}function WI(){const n=pd(),{user:e,loading:s}=cp(),[r,o]=D.useState(!1),[u,f]=D.useState(""),[d,m]=D.useState(""),[p,v]=D.useState(""),[_,E]=D.useState({}),[w,N]=D.useState(!0);D.useEffect(()=>{if(!s){if(!e){E({}),N(!1);return}VI(e.uid).then(P=>{E(P||{}),N(!1)})}},[e,s]);const k=async()=>{v("");try{await YI(u,d),f(""),m(""),o(!1)}catch{v("Invalid email or password")}},B=async()=>{await FI(),o(!1)},j=P=>{if(!e){o(!0);return}P()};return q.jsxs("div",{className:"page",children:[q.jsxs("div",{className:"header",children:[!e&&r&&q.jsxs(q.Fragment,{children:[q.jsx("input",{type:"email",placeholder:"Email",value:u,onChange:P=>f(P.target.value)}),q.jsx("input",{type:"password",placeholder:"Password",value:d,onChange:P=>m(P.target.value)}),q.jsx("button",{className:"btn",onClick:k,children:"Login"}),p&&q.jsx("span",{children:p})]}),!e&&!r&&q.jsx("button",{className:"btn",onClick:()=>o(!0),children:"Login"}),e&&q.jsx("button",{className:"btn",onClick:B,children:"Logout"})]}),q.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginTop:"24px"},children:[q.jsxs("div",{className:"card",style:{textAlign:"center"},children:[q.jsx("img",{src:"/src/assets/android-chrome-512x512.png",alt:"Logo",style:{width:"140px",marginBottom:"16px"}}),q.jsx("h2",{children:"IQ 4U Academy  Class Room"}),q.jsx("p",{children:"Learn chess step by step with guided lessons and interactive practice."})]}),q.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[1,2,3,4,5].map(P=>q.jsxs("div",{className:"card",style:{height:"65px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",background:"linear-gradient(90deg, #84fab0, #8fd3f4)",color:"#fff",fontWeight:"600"},onClick:()=>j(()=>n("/level/beginner-1")),children:["Beginner Level ",P]},P))})]}),q.jsxs("div",{className:"card",style:{marginTop:"32px",borderTop:"4px solid #e0e0e0"},children:[q.jsx("h3",{children:"Student Progress"}),w&&q.jsx("p",{children:"Loading..."}),!w&&Object.keys(_).length===0&&q.jsx("p",{children:"No completed lessons yet."}),!w&&Object.keys(_).length>0&&Object.entries(_).map(([P,V])=>q.jsxs("div",{children:[q.jsx("strong",{children:P}),q.jsx("ul",{children:Object.entries(V).map(([oe,W])=>q.jsxs("li",{children:[oe,"  Score: ",W.score,"%"]},oe))})]},P))]})]})}const tu={meta:{id:"lesson-1",title:"THE CHESS BOARD",passcode:"1234"},teaching:[{id:1,title:"Introduction to the Chessboard",content:"The chessboard has 64 squares arranged in 8 rows (ranks) and 8 columns (files).",fen:"8/8/8/8/8/8/8/8 w - - 0 1"},{id:2,title:"Board Coordinates",content:"Files are labeled from a to h and ranks from 1 to 8. Select the square e4.",fen:"8/8/8/8/8/8/8/8 w - - 0 1",teachingQuestion:{type:"square-selection",correctSquares:["e4"]}}],assessment:[{id:"q1",type:"mcq",question:"How many squares are there on a chessboard?",options:["32","48","64","100"],correctAnswer:"64"},{id:"q2",type:"square-selection",question:"Select all central squares.",fen:"8/8/8/8/8/8/8/8 w - - 0 1",correctSquares:["d4","e4","d5","e5"]},{id:"q3",type:"pgn",question:"Play the correct opening move for White.",fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",correctMoves:["e4","d4"]}]};function XI(){const{levelId:n}=_E(),e=pd(),{user:s,loading:r}=cp(),o=[{id:tu.meta.id,title:tu.meta.title,passcode:tu.meta.passcode}],u=f=>{if(f.passcode){const d=window.prompt("Enter passcode for this lesson:");if(d===null)return;if(d!==f.passcode){alert("Incorrect passcode");return}}e(`/classroom/${n}/${f.id}`)};return q.jsxs("div",{className:"page",children:[q.jsx("div",{style:{height:"80px",background:"linear-gradient(90deg, #4facfe, #00f2fe)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"24px",fontWeight:"600"},children:"Beginner Level 1"}),!r&&!s&&q.jsx("div",{className:"card",style:{marginTop:"24px",textAlign:"center"},children:q.jsx("p",{children:"Please login to continue."})}),s&&q.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginTop:"24px"},children:o.map((f,d)=>q.jsxs("div",{className:"card",style:{cursor:"pointer",background:"linear-gradient(90deg, #84fab0, #8fd3f4)",color:"#fff"},onClick:()=>u(f),children:[d+1,". ",f.title]},f.id))})]})}const ZI=["white","black"],wu=["a","b","c","d","e","f","g","h"],Au=["1","2","3","4","5","6","7","8"],$I=[...Au].reverse(),fp=Array.prototype.concat(...wu.map(n=>Au.map(e=>n+e))),nn=n=>fp[8*n[0]+n[1]],je=n=>[n.charCodeAt(0)-97,n.charCodeAt(1)-49],VS=fp.map(je);function JI(n){let e;const s=()=>(e===void 0&&(e=n()),e);return s.clear=()=>{e=void 0},s}const ex=()=>{let n;return{start(){n=performance.now()},cancel(){n=void 0},stop(){if(!n)return 0;const e=performance.now()-n;return n=void 0,e}}},hp=n=>n==="white"?"black":"white",ul=(n,e)=>{const s=n[0]-e[0],r=n[1]-e[1];return s*s+r*r},od=(n,e)=>n.role===e.role&&n.color===e.color,Cl=n=>(e,s)=>[(s?e[0]:7-e[0])*n.width/8,(s?7-e[1]:e[1])*n.height/8],Sn=(n,e)=>{n.style.transform=`translate(${e[0]}px,${e[1]}px)`},GS=(n,e,s=1)=>{n.style.transform=`translate(${e[0]}px,${e[1]}px) scale(${s})`},dp=(n,e)=>{n.style.visibility=e?"visible":"hidden"},Ns=n=>{var e;if(n.clientX||n.clientX===0)return[n.clientX,n.clientY];if(!((e=n.targetTouches)===null||e===void 0)&&e[0])return[n.targetTouches[0].clientX,n.targetTouches[0].clientY]},YS=n=>n.button===2,Wn=(n,e)=>{const s=document.createElement(n);return e&&(s.className=e),s};function FS(n,e,s){const r=je(n);return e||(r[0]=7-r[0],r[1]=7-r[1]),[s.left+s.width*r[0]/8+s.width/16,s.top+s.height*(7-r[1])/8+s.height/16]}const Ts=(n,e)=>Math.abs(n-e),tx=n=>(e,s,r,o)=>Ts(e,r)<2&&(n==="white"?o===s+1||s<=1&&o===s+2&&e===r:o===s-1||s>=6&&o===s-2&&e===r),KS=(n,e,s,r)=>{const o=Ts(n,s),u=Ts(e,r);return o===1&&u===2||o===2&&u===1},QS=(n,e,s,r)=>Ts(n,s)===Ts(e,r),WS=(n,e,s,r)=>n===s||e===r,XS=(n,e,s,r)=>QS(n,e,s,r)||WS(n,e,s,r),nx=(n,e,s)=>(r,o,u,f)=>Ts(r,u)<2&&Ts(o,f)<2||s&&o===f&&o===(n==="white"?0:7)&&(r===4&&(u===2&&e.includes(0)||u===6&&e.includes(7))||e.includes(u));function ix(n,e){const s=e==="white"?"1":"8",r=[];for(const[o,u]of n)o[1]===s&&u.color===e&&u.role==="rook"&&r.push(je(o)[0]);return r}function ZS(n,e,s){const r=n.get(e);if(!r)return[];const o=je(e),u=r.role,f=u==="pawn"?tx(r.color):u==="knight"?KS:u==="bishop"?QS:u==="rook"?WS:u==="queen"?XS:nx(r.color,ix(n,r.color),s);return VS.filter(d=>(o[0]!==d[0]||o[1]!==d[1])&&f(o[0],o[1],d[0],d[1])).map(nn)}function xt(n,...e){n&&setTimeout(()=>n(...e),1)}function sx(n){n.orientation=hp(n.orientation),n.animation.current=n.draggable.current=n.selected=void 0}function rx(n,e){for(const[s,r]of e)r?n.pieces.set(s,r):n.pieces.delete(s)}function ax(n,e){if(n.check=void 0,e===!0&&(e=n.turnColor),e)for(const[s,r]of n.pieces)r.role==="king"&&r.color===e&&(n.check=s)}function lx(n,e,s,r){Ki(n),n.premovable.current=[e,s],xt(n.premovable.events.set,e,s,r)}function Fi(n){n.premovable.current&&(n.premovable.current=void 0,xt(n.premovable.events.unset))}function ox(n,e,s){Fi(n),n.predroppable.current={role:e,key:s},xt(n.predroppable.events.set,e,s)}function Ki(n){const e=n.predroppable;e.current&&(e.current=void 0,xt(e.events.unset))}function ux(n,e,s){if(!n.autoCastle)return!1;const r=n.pieces.get(e);if(!r||r.role!=="king")return!1;const o=je(e),u=je(s);if(o[1]!==0&&o[1]!==7||o[1]!==u[1])return!1;o[0]===4&&!n.pieces.has(s)&&(u[0]===6?s=nn([7,u[1]]):u[0]===2&&(s=nn([0,u[1]])));const f=n.pieces.get(s);return!f||f.color!==r.color||f.role!=="rook"?!1:(n.pieces.delete(e),n.pieces.delete(s),o[0]<u[0]?(n.pieces.set(nn([6,u[1]]),r),n.pieces.set(nn([5,u[1]]),f)):(n.pieces.set(nn([2,u[1]]),r),n.pieces.set(nn([3,u[1]]),f)),!0)}function $S(n,e,s){const r=n.pieces.get(e),o=n.pieces.get(s);if(e===s||!r)return!1;const u=o&&o.color!==r.color?o:void 0;return s===n.selected&&sn(n),xt(n.events.move,e,s,u),ux(n,e,s)||(n.pieces.set(s,r),n.pieces.delete(e)),n.lastMove=[e,s],n.check=void 0,xt(n.events.change),u||!0}function pp(n,e,s,r){if(n.pieces.has(s))if(r)n.pieces.delete(s);else return!1;return xt(n.events.dropNewPiece,e,s),n.pieces.set(s,e),n.lastMove=[s],n.check=void 0,xt(n.events.change),n.movable.dests=void 0,n.turnColor=hp(n.turnColor),!0}function JS(n,e,s){const r=$S(n,e,s);return r&&(n.movable.dests=void 0,n.turnColor=hp(n.turnColor),n.animation.current=void 0),r}function e0(n,e,s){if(mp(n,e,s)){const r=JS(n,e,s);if(r){const o=n.hold.stop();sn(n);const u={premove:!1,ctrlKey:n.stats.ctrlKey,holdTime:o};return r!==!0&&(u.captured=r),xt(n.movable.events.after,e,s,u),!0}}else if(fx(n,e,s))return lx(n,e,s,{ctrlKey:n.stats.ctrlKey}),sn(n),!0;return sn(n),!1}function t0(n,e,s,r){const o=n.pieces.get(e);o&&(cx(n,e,s)||r)?(n.pieces.delete(e),pp(n,o,s,r),xt(n.movable.events.afterNewPiece,o.role,s,{premove:!1,predrop:!1})):o&&hx(n,e,s)?ox(n,o.role,s):(Fi(n),Ki(n)),n.pieces.delete(e),sn(n)}function ud(n,e,s){if(xt(n.events.select,e),n.selected){if(n.selected===e&&!n.draggable.enabled){sn(n),n.hold.cancel();return}else if((n.selectable.enabled||s)&&n.selected!==e&&e0(n,n.selected,e)){n.stats.dragged=!1;return}}(n.selectable.enabled||n.draggable.enabled)&&(i0(n,e)||gp(n,e))&&(n0(n,e),n.hold.start())}function n0(n,e){n.selected=e,gp(n,e)?n.premovable.customDests||(n.premovable.dests=ZS(n.pieces,e,n.premovable.castle)):n.premovable.dests=void 0}function sn(n){n.selected=void 0,n.premovable.dests=void 0,n.hold.cancel()}function i0(n,e){const s=n.pieces.get(e);return!!s&&(n.movable.color==="both"||n.movable.color===s.color&&n.turnColor===s.color)}const mp=(n,e,s)=>{var r,o;return e!==s&&i0(n,e)&&(n.movable.free||!!(!((o=(r=n.movable.dests)===null||r===void 0?void 0:r.get(e))===null||o===void 0)&&o.includes(s)))};function cx(n,e,s){const r=n.pieces.get(e);return!!r&&(e===s||!n.pieces.has(s))&&(n.movable.color==="both"||n.movable.color===r.color&&n.turnColor===r.color)}function gp(n,e){const s=n.pieces.get(e);return!!s&&n.premovable.enabled&&n.movable.color===s.color&&n.turnColor!==s.color}function fx(n,e,s){var r,o;const u=(o=(r=n.premovable.customDests)===null||r===void 0?void 0:r.get(e))!==null&&o!==void 0?o:ZS(n.pieces,e,n.premovable.castle);return e!==s&&gp(n,e)&&u.includes(s)}function hx(n,e,s){const r=n.pieces.get(e),o=n.pieces.get(s);return!!r&&(!o||o.color!==n.movable.color)&&n.predroppable.enabled&&(r.role!=="pawn"||s[1]!=="1"&&s[1]!=="8")&&n.movable.color===r.color&&n.turnColor!==r.color}function dx(n,e){const s=n.pieces.get(e);return!!s&&n.draggable.enabled&&(n.movable.color==="both"||n.movable.color===s.color&&(n.turnColor===s.color||n.premovable.enabled))}function px(n){const e=n.premovable.current;if(!e)return!1;const s=e[0],r=e[1];let o=!1;if(mp(n,s,r)){const u=JS(n,s,r);if(u){const f={premove:!0};u!==!0&&(f.captured=u),xt(n.movable.events.after,s,r,f),o=!0}}return Fi(n),o}function mx(n,e){const s=n.predroppable.current;let r=!1;if(!s)return!1;if(e(s)){const o={role:s.role,color:n.movable.color};pp(n,o,s.key)&&(xt(n.movable.events.afterNewPiece,s.role,s.key,{premove:!1,predrop:!0}),r=!0)}return Ki(n),r}function _p(n){Fi(n),Ki(n),sn(n)}function Qv(n){n.movable.color=n.movable.dests=n.animation.current=void 0,_p(n)}function Os(n,e,s){let r=Math.floor(8*(n[0]-s.left)/s.width);e||(r=7-r);let o=7-Math.floor(8*(n[1]-s.top)/s.height);return e||(o=7-o),r>=0&&r<8&&o>=0&&o<8?nn([r,o]):void 0}function gx(n,e,s,r){const o=je(n),u=VS.filter(p=>XS(o[0],o[1],p[0],p[1])||KS(o[0],o[1],p[0],p[1])),d=u.map(p=>FS(nn(p),s,r)).map(p=>ul(e,p)),[,m]=d.reduce((p,v,_)=>p[0]<v?p:[v,_],[d[0],0]);return nn(u[m])}const kt=n=>n.orientation==="white",s0="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",_x={p:"pawn",r:"rook",n:"knight",b:"bishop",q:"queen",k:"king"},yx={pawn:"p",rook:"r",knight:"n",bishop:"b",queen:"q",king:"k"};function r0(n){n==="start"&&(n=s0);const e=new Map;let s=7,r=0;for(const o of n)switch(o){case" ":case"[":return e;case"/":if(--s,s<0)return e;r=0;break;case"~":{const u=e.get(nn([r-1,s]));u&&(u.promoted=!0);break}default:{const u=o.charCodeAt(0);if(u<57)r+=u-48;else{const f=o.toLowerCase();e.set(nn([r,s]),{role:_x[f],color:o===f?"black":"white"}),++r}}}return e}function vx(n){return $I.map(e=>wu.map(s=>{const r=n.get(s+e);if(r){let o=yx[r.role];return r.color==="white"&&(o=o.toUpperCase()),r.promoted&&(o+="~"),o}else return"1"}).join("")).join("/").replace(/1{2,}/g,e=>e.length.toString())}function a0(n,e){e.animation&&(yp(n.animation,e.animation),(n.animation.duration||0)<70&&(n.animation.enabled=!1))}function l0(n,e){var s,r,o;if(!((s=e.movable)===null||s===void 0)&&s.dests&&(n.movable.dests=void 0),!((r=e.drawable)===null||r===void 0)&&r.autoShapes&&(n.drawable.autoShapes=[]),yp(n,e),e.fen&&(n.pieces=r0(e.fen),n.drawable.shapes=((o=e.drawable)===null||o===void 0?void 0:o.shapes)||[]),"check"in e&&ax(n,e.check||!1),"lastMove"in e&&!e.lastMove?n.lastMove=void 0:e.lastMove&&(n.lastMove=e.lastMove),n.selected&&n0(n,n.selected),a0(n,e),!n.movable.rookCastle&&n.movable.dests){const u=n.movable.color==="white"?"1":"8",f="e"+u,d=n.movable.dests.get(f),m=n.pieces.get(f);if(!d||!m||m.role!=="king")return;n.movable.dests.set(f,d.filter(p=>!(p==="a"+u&&d.includes("c"+u))&&!(p==="h"+u&&d.includes("g"+u))))}}function yp(n,e){for(const s in e)s==="__proto__"||s==="constructor"||!Object.prototype.hasOwnProperty.call(e,s)||(Object.prototype.hasOwnProperty.call(n,s)&&Wv(n[s])&&Wv(e[s])?yp(n[s],e[s]):n[s]=e[s])}function Wv(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null}const ms=(n,e)=>e.animation.enabled?Sx(n,e):Di(n,e);function Di(n,e){const s=n(e);return e.dom.redraw(),s}const Uh=(n,e)=>({key:n,pos:je(n),piece:e}),Ex=(n,e)=>e.sort((s,r)=>ul(n.pos,s.pos)-ul(n.pos,r.pos))[0];function bx(n,e){const s=new Map,r=[],o=new Map,u=[],f=[],d=new Map;let m,p,v;for(const[_,E]of n)d.set(_,Uh(_,E));for(const _ of fp)m=e.pieces.get(_),p=d.get(_),m?p?od(m,p.piece)||(u.push(p),f.push(Uh(_,m))):f.push(Uh(_,m)):p&&u.push(p);for(const _ of f)p=Ex(_,u.filter(E=>od(_.piece,E.piece))),p&&(v=[p.pos[0]-_.pos[0],p.pos[1]-_.pos[1]],s.set(_.key,v.concat(v)),r.push(p.key));for(const _ of u)r.includes(_.key)||o.set(_.key,_.piece);return{anims:s,fadings:o}}function o0(n,e){const s=n.animation.current;if(s===void 0){n.dom.destroyed||n.dom.redrawNow();return}const r=1-(e-s.start)*s.frequency;if(r<=0)n.animation.current=void 0,n.dom.redrawNow();else{const o=Cx(r);for(const u of s.plan.anims.values())u[2]=u[0]*o,u[3]=u[1]*o;n.dom.redrawNow(!0),requestAnimationFrame((u=performance.now())=>o0(n,u))}}function Sx(n,e){const s=new Map(e.pieces),r=n(e),o=bx(s,e);if(o.anims.size||o.fadings.size){const u=e.animation.current&&e.animation.current.start;e.animation.current={start:performance.now(),frequency:1/e.animation.duration,plan:o},u||o0(e,performance.now())}else e.dom.redraw();return r}const Cx=n=>n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1,Tx=["green","red","blue","yellow"];function wx(n,e){if(e.touches&&e.touches.length>1)return;e.stopPropagation(),e.preventDefault(),e.ctrlKey?sn(n):_p(n);const s=Ns(e),r=Os(s,kt(n),n.dom.bounds());r&&(n.drawable.current={orig:r,pos:s,brush:Ox(e),snapToValidMove:n.drawable.defaultSnapToValidMove},u0(n))}function u0(n){requestAnimationFrame(()=>{const e=n.drawable.current;if(e){const s=Os(e.pos,kt(n),n.dom.bounds());s||(e.snapToValidMove=!1);const r=e.snapToValidMove?gx(e.orig,e.pos,kt(n),n.dom.bounds()):s;r!==e.mouseSq&&(e.mouseSq=r,e.dest=r!==e.orig?r:void 0,n.dom.redrawNow()),u0(n)}})}function Ax(n,e){n.drawable.current&&(n.drawable.current.pos=Ns(e))}function Rx(n){const e=n.drawable.current;e&&(e.mouseSq&&Dx(n.drawable,e),c0(n))}function c0(n){n.drawable.current&&(n.drawable.current=void 0,n.dom.redraw())}function Nx(n){n.drawable.shapes.length&&(n.drawable.shapes=[],n.dom.redraw(),f0(n.drawable))}function Ox(n){var e;const s=(n.shiftKey||n.ctrlKey)&&YS(n),r=n.altKey||n.metaKey||((e=n.getModifierState)===null||e===void 0?void 0:e.call(n,"AltGraph"));return Tx[(s?1:0)+(r?2:0)]}function Dx(n,e){const s=o=>o.orig===e.orig&&o.dest===e.dest,r=n.shapes.find(s);r&&(n.shapes=n.shapes.filter(o=>!s(o))),(!r||r.brush!==e.brush)&&n.shapes.push({orig:e.orig,dest:e.dest,brush:e.brush}),f0(n)}function f0(n){n.onChange&&n.onChange(n.shapes)}function Mx(n,e){if(!(n.trustAllEvents||e.isTrusted)||e.buttons!==void 0&&e.buttons>1||e.touches&&e.touches.length>1)return;const s=n.dom.bounds(),r=Ns(e),o=Os(r,kt(n),s);if(!o)return;const u=n.pieces.get(o),f=n.selected;if(!f&&n.drawable.enabled&&(n.drawable.eraseOnClick||!u||u.color!==n.turnColor)&&Nx(n),e.cancelable!==!1&&(!e.touches||n.blockTouchScroll||u||f||Ix(n,r)))e.preventDefault();else if(e.touches)return;const d=!!n.premovable.current,m=!!n.predroppable.current;n.stats.ctrlKey=e.ctrlKey,n.selected&&mp(n,n.selected,o)?ms(_=>ud(_,o),n):ud(n,o);const p=n.selected===o,v=d0(n,o);if(u&&v&&p&&dx(n,o)){n.draggable.current={orig:o,piece:u,origPos:r,pos:r,started:n.draggable.autoDistance&&n.stats.dragged,element:v,previouslySelected:f,originTarget:e.target,keyHasChanged:!1},v.cgDragging=!0,v.classList.add("dragging");const _=n.dom.elements.ghost;_&&(_.className=`ghost ${u.color} ${u.role}`,Sn(_,Cl(s)(je(o),kt(n))),dp(_,!0)),vp(n)}else d&&Fi(n),m&&Ki(n);n.dom.redraw()}function Ix(n,e){const s=kt(n),r=n.dom.bounds(),o=Math.pow(r.width/8,2);for(const u of n.pieces.keys()){const f=FS(u,s,r);if(ul(f,e)<=o)return!0}return!1}function xx(n,e,s,r){n.pieces.set("a0",e),n.dom.redraw();const u=Ns(s);n.draggable.current={orig:"a0",piece:e,origPos:u,pos:u,started:!0,element:()=>d0(n,"a0"),originTarget:s.target,newPiece:!0,force:!!r,keyHasChanged:!1},vp(n)}function vp(n){requestAnimationFrame(()=>{var e;const s=n.draggable.current;if(!s)return;!((e=n.animation.current)===null||e===void 0)&&e.plan.anims.has(s.orig)&&(n.animation.current=void 0);const r=n.pieces.get(s.orig);if(!r||!od(r,s.piece))Ru(n);else if(!s.started&&ul(s.pos,s.origPos)>=Math.pow(n.draggable.distance,2)&&(s.started=!0),s.started){if(typeof s.element=="function"){const u=s.element();if(!u)return;u.cgDragging=!0,u.classList.add("dragging"),s.element=u}const o=n.dom.bounds();Sn(s.element,[s.pos[0]-o.left-o.width/16,s.pos[1]-o.top-o.height/16]),s.keyHasChanged||(s.keyHasChanged=s.orig!==Os(s.pos,kt(n),o))}vp(n)})}function kx(n,e){n.draggable.current&&(!e.touches||e.touches.length<2)&&(n.draggable.current.pos=Ns(e))}function Lx(n,e){const s=n.draggable.current;if(!s)return;if(e.type==="touchend"&&e.cancelable!==!1&&e.preventDefault(),e.type==="touchend"&&s.originTarget!==e.target&&!s.newPiece){n.draggable.current=void 0;return}Fi(n),Ki(n);const r=Ns(e)||s.pos,o=Os(r,kt(n),n.dom.bounds());o&&s.started&&s.orig!==o?s.newPiece?t0(n,s.orig,o,s.force):(n.stats.ctrlKey=e.ctrlKey,e0(n,s.orig,o)&&(n.stats.dragged=!0)):s.newPiece?n.pieces.delete(s.orig):n.draggable.deleteOnDropOff&&!o&&(n.pieces.delete(s.orig),xt(n.events.change)),(s.orig===s.previouslySelected||s.keyHasChanged)&&(s.orig===o||!o)?sn(n):n.selectable.enabled||sn(n),h0(n),n.draggable.current=void 0,n.dom.redraw()}function Ru(n){const e=n.draggable.current;e&&(e.newPiece&&n.pieces.delete(e.orig),n.draggable.current=void 0,sn(n),h0(n),n.dom.redraw())}function h0(n){const e=n.dom.elements;e.ghost&&dp(e.ghost,!1)}function d0(n,e){let s=n.dom.elements.board.firstChild;for(;s;){if(s.cgKey===e&&s.tagName==="PIECE")return s;s=s.nextSibling}}function Ux(n,e){n.exploding={stage:1,keys:e},n.dom.redraw(),setTimeout(()=>{Xv(n,2),setTimeout(()=>Xv(n,void 0),120)},120)}function Xv(n,e){n.exploding&&(e?n.exploding.stage=e:n.exploding=void 0,n.dom.redraw())}function zx(n,e){function s(){sx(n),e()}return{set(r){r.orientation&&r.orientation!==n.orientation&&s(),a0(n,r),(r.fen?ms:Di)(o=>l0(o,r),n)},state:n,getFen:()=>vx(n.pieces),toggleOrientation:s,setPieces(r){ms(o=>rx(o,r),n)},selectSquare(r,o){r?ms(u=>ud(u,r,o),n):n.selected&&(sn(n),n.dom.redraw())},move(r,o){ms(u=>$S(u,r,o),n)},newPiece(r,o){ms(u=>pp(u,r,o),n)},playPremove(){if(n.premovable.current){if(ms(px,n))return!0;n.dom.redraw()}return!1},playPredrop(r){if(n.predroppable.current){const o=mx(n,r);return n.dom.redraw(),o}return!1},cancelPremove(){Di(Fi,n)},cancelPredrop(){Di(Ki,n)},cancelMove(){Di(r=>{_p(r),Ru(r)},n)},stop(){Di(r=>{Qv(r),Ru(r)},n)},explode(r){Ux(n,r)},setAutoShapes(r){Di(o=>o.drawable.autoShapes=r,n)},setShapes(r){Di(o=>o.drawable.shapes=r,n)},getKeyAtDomPos(r){return Os(r,kt(n),n.dom.bounds())},redrawAll:e,dragNewPiece(r,o,u){xx(n,r,o,u)},destroy(){Qv(n),n.dom.unbind&&n.dom.unbind(),n.dom.destroyed=!0}}}function Px(){return{pieces:r0(s0),orientation:"white",turnColor:"white",coordinates:!0,coordinatesOnSquares:!1,ranksPosition:"right",autoCastle:!0,viewOnly:!1,disableContextMenu:!1,addPieceZIndex:!1,blockTouchScroll:!1,pieceKey:!1,trustAllEvents:!1,highlight:{lastMove:!0,check:!0},animation:{enabled:!0,duration:200},movable:{free:!0,color:"both",showDests:!0,events:{},rookCastle:!0},premovable:{enabled:!0,showDests:!0,castle:!0,events:{}},predroppable:{enabled:!1,events:{}},draggable:{enabled:!0,distance:3,autoDistance:!0,showGhost:!0,deleteOnDropOff:!1},dropmode:{active:!1},selectable:{enabled:!0},stats:{dragged:!("ontouchstart"in window)},events:{},drawable:{enabled:!0,visible:!0,defaultSnapToValidMove:!0,eraseOnClick:!0,shapes:[],autoShapes:[],brushes:{green:{key:"g",color:"#15781B",opacity:1,lineWidth:10},red:{key:"r",color:"#882020",opacity:1,lineWidth:10},blue:{key:"b",color:"#003088",opacity:1,lineWidth:10},yellow:{key:"y",color:"#e68f00",opacity:1,lineWidth:10},paleBlue:{key:"pb",color:"#003088",opacity:.4,lineWidth:15},paleGreen:{key:"pg",color:"#15781B",opacity:.4,lineWidth:15},paleRed:{key:"pr",color:"#882020",opacity:.4,lineWidth:15},paleGrey:{key:"pgr",color:"#4a4a4a",opacity:.35,lineWidth:15},purple:{key:"purple",color:"#68217a",opacity:.65,lineWidth:10},pink:{key:"pink",color:"#ee2080",opacity:.5,lineWidth:10},white:{key:"white",color:"white",opacity:1,lineWidth:10}},prevSvgHash:""},hold:ex()}}const Zv={hilitePrimary:{key:"hilitePrimary",color:"#3291ff",opacity:1,lineWidth:1},hiliteWhite:{key:"hiliteWhite",color:"#ffffff",opacity:1,lineWidth:1}};function Hx(){const n=st("defs"),e=Et(st("filter"),{id:"cg-filter-blur"});return e.appendChild(Et(st("feGaussianBlur"),{stdDeviation:"0.019"})),n.appendChild(e),n}function Bx(n,e,s){var r;const o=n.drawable,u=o.current,f=u&&u.mouseSq?u:void 0,d=new Map,m=n.dom.bounds(),p=o.autoShapes.filter(w=>!w.piece);for(const w of o.shapes.concat(p).concat(f?[f]:[])){if(!w.dest)continue;const N=(r=d.get(w.dest))!==null&&r!==void 0?r:new Set,k=Du(Ou(je(w.orig),n.orientation),m),B=Du(Ou(je(w.dest),n.orientation),m);N.add(fd(k,B)),d.set(w.dest,N)}const v=o.shapes.concat(p).map(w=>({shape:w,current:!1,hash:$v(w,cd(w.dest,d),!1,m)}));f&&v.push({shape:f,current:!0,hash:$v(f,cd(f.dest,d),!0,m)});const _=v.map(w=>w.hash).join(";");if(_===n.drawable.prevSvgHash)return;n.drawable.prevSvgHash=_;const E=e.querySelector("defs");qx(o,v,E),jx(v,e.querySelector("g"),s.querySelector("g"),w=>Yx(n,w,o.brushes,d,m))}function qx(n,e,s){var r;const o=new Map;let u;for(const m of e.filter(p=>p.shape.dest&&p.shape.brush))u=p0(n.brushes[m.shape.brush],m.shape.modifiers),!((r=m.shape.modifiers)===null||r===void 0)&&r.hilite&&o.set(Nu(u).key,Nu(u)),o.set(u.key,u);const f=new Set;let d=s.firstElementChild;for(;d;)f.add(d.getAttribute("cgKey")),d=d.nextElementSibling;for(const[m,p]of o.entries())f.has(m)||s.appendChild(Qx(p))}function jx(n,e,s,r){const o=new Map;for(const u of n)o.set(u.hash,!1);for(const u of[e,s]){const f=[];let d=u.firstElementChild,m;for(;d;)m=d.getAttribute("cgHash"),o.has(m)?o.set(m,!0):f.push(d),d=d.nextElementSibling;for(const p of f)u.removeChild(p)}for(const u of n.filter(f=>!o.get(f.hash)))for(const f of r(u))f.isCustom?s.appendChild(f.el):e.appendChild(f.el)}function $v({orig:n,dest:e,brush:s,piece:r,modifiers:o,customSvg:u,label:f},d,m,p){var v,_;return[p.width,p.height,m,n,e,s,d&&"-",r&&Vx(r),o&&Gx(o),u&&`custom-${Jv(u.html)},${(_=(v=u.center)===null||v===void 0?void 0:v[0])!==null&&_!==void 0?_:"o"}`,f&&`label-${Jv(f.text)}`].filter(E=>E).join(",")}function Vx(n){return[n.color,n.role,n.scale].filter(e=>e).join(",")}function Gx(n){return[n.lineWidth,n.hilite&&"*"].filter(e=>e).join(",")}function Jv(n){let e=0;for(let s=0;s<n.length;s++)e=(e<<5)-e+n.charCodeAt(s)>>>0;return e.toString()}function Yx(n,{shape:e,current:s,hash:r},o,u,f){var d,m;const p=Du(Ou(je(e.orig),n.orientation),f),v=e.dest?Du(Ou(je(e.dest),n.orientation),f):p,_=e.brush&&p0(o[e.brush],e.modifiers),E=u.get(e.dest),w=[];if(_){const N=Et(st("g"),{cgHash:r});w.push({el:N}),p[0]!==v[0]||p[1]!==v[1]?N.appendChild(Kx(e,_,p,v,s,cd(e.dest,u))):N.appendChild(Fx(o[e.brush],p,s,f))}if(e.label){const N=e.label;(d=N.fill)!==null&&d!==void 0||(N.fill=e.brush&&o[e.brush].color);const k=e.brush?void 0:"tr";w.push({el:Wx(N,r,p,v,E,k),isCustom:!0})}if(e.customSvg){const N=(m=e.customSvg.center)!==null&&m!==void 0?m:"orig",[k,B]=N==="label"?g0(p,v,E).map(P=>P-.5):N==="dest"?v:p,j=Et(st("g"),{transform:`translate(${k},${B})`,cgHash:r});j.innerHTML=`<svg width="1" height="1" viewBox="0 0 100 100">${e.customSvg.html}</svg>`,w.push({el:j,isCustom:!0})}return w}function Fx(n,e,s,r){const o=Xx(),u=(r.width+r.height)/(4*Math.max(r.width,r.height));return Et(st("circle"),{stroke:n.color,"stroke-width":o[s?0:1],fill:"none",opacity:m0(n,s),cx:e[0],cy:e[1],r:u-o[1]/2})}function Nu(n){return["#ffffff","#fff","white"].includes(n.color)?Zv.hilitePrimary:Zv.hiliteWhite}function Kx(n,e,s,r,o,u){var f;function d(v){var _;const E=$x(u&&!o),w=r[0]-s[0],N=r[1]-s[1],k=Math.atan2(N,w),B=Math.cos(k)*E,j=Math.sin(k)*E;return Et(st("line"),{stroke:v?Nu(e).color:e.color,"stroke-width":Zx(e,o)+(v?.04:0),"stroke-linecap":"round","marker-end":`url(#arrowhead-${v?Nu(e).key:e.key})`,opacity:!((_=n.modifiers)===null||_===void 0)&&_.hilite?1:m0(e,o),x1:s[0],y1:s[1],x2:r[0]-B,y2:r[1]-j})}if(!(!((f=n.modifiers)===null||f===void 0)&&f.hilite))return d(!1);const m=st("g"),p=Et(st("g"),{filter:"url(#cg-filter-blur)"});return p.appendChild(Jx(s,r)),p.appendChild(d(!0)),m.appendChild(p),m.appendChild(d(!1)),m}function Qx(n){const e=Et(st("marker"),{id:"arrowhead-"+n.key,orient:"auto",overflow:"visible",markerWidth:4,markerHeight:4,refX:n.key.startsWith("hilite")?1.86:2.05,refY:2});return e.appendChild(Et(st("path"),{d:"M0,0 V4 L3,2 Z",fill:n.color})),e.setAttribute("cgKey",n.key),e}function Wx(n,e,s,r,o,u){var f;const m=.4*.75**n.text.length,p=g0(s,r,o),v=u==="tr"?.4:0,_=Et(st("g"),{transform:`translate(${p[0]+v},${p[1]-v})`,cgHash:e});_.appendChild(Et(st("circle"),{r:.4/2,"fill-opacity":u?1:.8,"stroke-opacity":u?1:.7,"stroke-width":.03,fill:(f=n.fill)!==null&&f!==void 0?f:"#666",stroke:"white"}));const E=Et(st("text"),{"font-size":m,"font-family":"Noto Sans","text-anchor":"middle",fill:"white",y:.13*.75**n.text.length});return E.innerHTML=n.text,_.appendChild(E),_}function Ou(n,e){return e==="white"?n:[7-n[0],7-n[1]]}function cd(n,e){return(n&&e.has(n)&&e.get(n).size>1)===!0}function st(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Et(n,e){for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.setAttribute(s,e[s]);return n}function p0(n,e){return e?{color:n.color,opacity:Math.round(n.opacity*10)/10,lineWidth:Math.round(e.lineWidth||n.lineWidth),key:[n.key,e.lineWidth].filter(s=>s).join("")}:n}function Xx(){return[3/64,4/64]}function Zx(n,e){return(n.lineWidth||10)*(e?.85:1)/64}function m0(n,e){return(n.opacity||1)*(e?.9:1)}function $x(n){return(n?20:10)/64}function Du(n,e){const s=Math.min(1,e.width/e.height),r=Math.min(1,e.height/e.width);return[(n[0]-3.5)*s,(3.5-n[1])*r]}function Jx(n,e){const s={from:[Math.floor(Math.min(n[0],e[0])),Math.floor(Math.min(n[1],e[1]))],to:[Math.ceil(Math.max(n[0],e[0])),Math.ceil(Math.max(n[1],e[1]))]};return Et(st("rect"),{x:s.from[0],y:s.from[1],width:s.to[0]-s.from[0],height:s.to[1]-s.from[1],fill:"none",stroke:"none"})}function fd(n,e,s=!0){const r=Math.atan2(e[1]-n[1],e[0]-n[0])+Math.PI;return s?(Math.round(r*8/Math.PI)+16)%16:r}function e2(n,e){return Math.sqrt([n[0]-e[0],n[1]-e[1]].reduce((s,r)=>s+r*r,0))}function g0(n,e,s){let r=e2(n,e);const o=fd(n,e,!1);if(s&&(r-=33/64,s.size>1)){r-=10/64;const u=fd(n,e);(s.has((u+1)%16)||s.has((u+15)%16))&&u&1&&(r-=.4)}return[n[0]-Math.cos(o)*r,n[1]-Math.sin(o)*r].map(u=>u+.5)}function t2(n,e){n.innerHTML="",n.classList.add("cg-wrap");for(const m of ZI)n.classList.toggle("orientation-"+m,e.orientation===m);n.classList.toggle("manipulable",!e.viewOnly);const s=Wn("cg-container");n.appendChild(s);const r=Wn("cg-board");s.appendChild(r);let o,u,f;if(e.drawable.visible&&(o=Et(st("svg"),{class:"cg-shapes",viewBox:"-4 -4 8 8",preserveAspectRatio:"xMidYMid slice"}),o.appendChild(Hx()),o.appendChild(st("g")),u=Et(st("svg"),{class:"cg-custom-svgs",viewBox:"-3.5 -3.5 8 8",preserveAspectRatio:"xMidYMid slice"}),u.appendChild(st("g")),f=Wn("cg-auto-pieces"),s.appendChild(o),s.appendChild(u),s.appendChild(f)),e.coordinates){const m=e.orientation==="black"?" black":"",p=e.ranksPosition==="left"?" left":"";if(e.coordinatesOnSquares){const v=e.orientation==="white"?_=>_+1:_=>8-_;wu.forEach((_,E)=>s.appendChild(zh(Au.map(w=>_+w),"squares rank"+v(E)+m+p)))}else s.appendChild(zh(Au,"ranks"+m+p)),s.appendChild(zh(wu,"files"+m))}let d;return e.draggable.enabled&&e.draggable.showGhost&&(d=Wn("piece","ghost"),dp(d,!1),s.appendChild(d)),{board:r,container:s,wrap:n,ghost:d,svg:o,customSvg:u,autoPieces:f}}function zh(n,e){const s=Wn("coords",e);let r;for(const o of n)r=Wn("coord"),r.textContent=o,s.appendChild(r);return s}function n2(n,e){if(!n.dropmode.active)return;Fi(n),Ki(n);const s=n.dropmode.piece;if(s){n.pieces.set("a0",s);const r=Ns(e),o=r&&Os(r,kt(n),n.dom.bounds());o&&t0(n,"a0",o)}n.dom.redraw()}function i2(n,e){const s=n.dom.elements.board;if("ResizeObserver"in window&&new ResizeObserver(e).observe(n.dom.elements.wrap),(n.disableContextMenu||n.drawable.enabled)&&s.addEventListener("contextmenu",o=>o.preventDefault()),n.viewOnly)return;const r=r2(n);s.addEventListener("touchstart",r,{passive:!1}),s.addEventListener("mousedown",r,{passive:!1})}function s2(n,e){const s=[];if("ResizeObserver"in window||s.push(Ha(document.body,"chessground.resize",e)),!n.viewOnly){const r=eE(n,kx,Ax),o=eE(n,Lx,Rx);for(const f of["touchmove","mousemove"])s.push(Ha(document,f,r));for(const f of["touchend","mouseup"])s.push(Ha(document,f,o));const u=()=>n.dom.bounds.clear();s.push(Ha(document,"scroll",u,{capture:!0,passive:!0})),s.push(Ha(window,"resize",u,{passive:!0}))}return()=>s.forEach(r=>r())}function Ha(n,e,s,r){return n.addEventListener(e,s,r),()=>n.removeEventListener(e,s,r)}const r2=n=>e=>{n.draggable.current?Ru(n):n.drawable.current?c0(n):e.shiftKey||YS(e)?n.drawable.enabled&&wx(n,e):n.viewOnly||(n.dropmode.active?n2(n,e):Mx(n,e))},eE=(n,e,s)=>r=>{n.drawable.current?n.drawable.enabled&&s(n,r):n.viewOnly||e(n,r)};function a2(n){const e=kt(n),s=Cl(n.dom.bounds()),r=n.dom.elements.board,o=n.pieces,u=n.animation.current,f=u?u.plan.anims:new Map,d=u?u.plan.fadings:new Map,m=n.draggable.current,p=o2(n),v=new Set,_=new Set,E=new Map,w=new Map;let N,k,B,j,P,V,oe,W,Ce,Z;for(k=r.firstChild;k;){if(N=k.cgKey,_0(k))if(B=o.get(N),P=f.get(N),V=d.get(N),j=k.cgPiece,k.cgDragging&&(!m||m.orig!==N)&&(k.classList.remove("dragging"),Sn(k,s(je(N),e)),k.cgDragging=!1),!V&&k.cgFading&&(k.cgFading=!1,k.classList.remove("fading")),B){if(P&&k.cgAnimating&&j===Ba(B)){const ee=je(N);ee[0]+=P[2],ee[1]+=P[3],k.classList.add("anim"),Sn(k,s(ee,e))}else k.cgAnimating&&(k.cgAnimating=!1,k.classList.remove("anim"),Sn(k,s(je(N),e)),n.addPieceZIndex&&(k.style.zIndex=Ph(je(N),e)));j===Ba(B)&&(!V||!k.cgFading)?v.add(N):V&&j===Ba(V)?(k.classList.add("fading"),k.cgFading=!0):Hh(E,j,k)}else Hh(E,j,k);else if(y0(k)){const ee=k.className;p.get(N)===ee?_.add(N):Hh(w,ee,k)}k=k.nextSibling}for(const[ee,ke]of p)if(!_.has(ee)){Ce=w.get(ke),Z=Ce&&Ce.pop();const Ue=s(je(ee),e);if(Z)Z.cgKey=ee,Sn(Z,Ue);else{const Be=Wn("square",ke);Be.cgKey=ee,Sn(Be,Ue),r.insertBefore(Be,r.firstChild)}}for(const[ee,ke]of o)if(P=f.get(ee),!v.has(ee))if(oe=E.get(Ba(ke)),W=oe&&oe.pop(),W){W.cgKey=ee,W.cgFading&&(W.classList.remove("fading"),W.cgFading=!1);const Ue=je(ee);n.addPieceZIndex&&(W.style.zIndex=Ph(Ue,e)),P&&(W.cgAnimating=!0,W.classList.add("anim"),Ue[0]+=P[2],Ue[1]+=P[3]),Sn(W,s(Ue,e))}else{const Ue=Ba(ke),Be=Wn("piece",Ue),Ke=je(ee);Be.cgPiece=Ue,Be.cgKey=ee,P&&(Be.cgAnimating=!0,Ke[0]+=P[2],Ke[1]+=P[3]),Sn(Be,s(Ke,e)),n.addPieceZIndex&&(Be.style.zIndex=Ph(Ke,e)),r.appendChild(Be)}for(const ee of E.values())nE(n,ee);for(const ee of w.values())nE(n,ee)}function l2(n){const e=kt(n),s=Cl(n.dom.bounds());let r=n.dom.elements.board.firstChild;for(;r;)(_0(r)&&!r.cgAnimating||y0(r))&&Sn(r,s(je(r.cgKey),e)),r=r.nextSibling}function tE(n){var e,s;const r=n.dom.elements.wrap.getBoundingClientRect(),o=n.dom.elements.container,u=r.height/r.width,f=Math.floor(r.width*window.devicePixelRatio/8)*8/window.devicePixelRatio,d=f*u;o.style.width=f+"px",o.style.height=d+"px",n.dom.bounds.clear(),(e=n.addDimensionsCssVarsTo)===null||e===void 0||e.style.setProperty("---cg-width",f+"px"),(s=n.addDimensionsCssVarsTo)===null||s===void 0||s.style.setProperty("---cg-height",d+"px")}const _0=n=>n.tagName==="PIECE",y0=n=>n.tagName==="SQUARE";function nE(n,e){for(const s of e)n.dom.elements.board.removeChild(s)}function Ph(n,e){const r=n[1];return`${e?10-r:3+r}`}const Ba=n=>`${n.color} ${n.role}`;function o2(n){var e,s,r;const o=new Map;if(n.lastMove&&n.highlight.lastMove)for(const d of n.lastMove)Yn(o,d,"last-move");if(n.check&&n.highlight.check&&Yn(o,n.check,"check"),n.selected&&(Yn(o,n.selected,"selected"),n.movable.showDests)){const d=(e=n.movable.dests)===null||e===void 0?void 0:e.get(n.selected);if(d)for(const p of d)Yn(o,p,"move-dest"+(n.pieces.has(p)?" oc":""));const m=(r=(s=n.premovable.customDests)===null||s===void 0?void 0:s.get(n.selected))!==null&&r!==void 0?r:n.premovable.dests;if(m)for(const p of m)Yn(o,p,"premove-dest"+(n.pieces.has(p)?" oc":""))}const u=n.premovable.current;if(u)for(const d of u)Yn(o,d,"current-premove");else n.predroppable.current&&Yn(o,n.predroppable.current.key,"current-premove");const f=n.exploding;if(f)for(const d of f.keys)Yn(o,d,"exploding"+f.stage);return n.highlight.custom&&n.highlight.custom.forEach((d,m)=>{Yn(o,m,d)}),o}function Yn(n,e,s){const r=n.get(e);r?n.set(e,`${r} ${s}`):n.set(e,s)}function Hh(n,e,s){const r=n.get(e);r?r.push(s):n.set(e,[s])}function u2(n,e,s){const r=new Map,o=[];for(const d of n)r.set(d.hash,!1);let u=e.firstElementChild,f;for(;u;)f=u.getAttribute("cgHash"),r.has(f)?r.set(f,!0):o.push(u),u=u.nextElementSibling;for(const d of o)e.removeChild(d);for(const d of n)r.get(d.hash)||e.appendChild(s(d))}function c2(n,e){const r=n.drawable.autoShapes.filter(o=>o.piece).map(o=>({shape:o,hash:d2(o),current:!1}));u2(r,e,o=>h2(n,o,n.dom.bounds()))}function f2(n){var e;const s=kt(n),r=Cl(n.dom.bounds());let o=(e=n.dom.elements.autoPieces)===null||e===void 0?void 0:e.firstChild;for(;o;)GS(o,r(je(o.cgKey),s),o.cgScale),o=o.nextSibling}function h2(n,{shape:e,hash:s},r){var o,u,f;const d=e.orig,m=(o=e.piece)===null||o===void 0?void 0:o.role,p=(u=e.piece)===null||u===void 0?void 0:u.color,v=(f=e.piece)===null||f===void 0?void 0:f.scale,_=Wn("piece",`${m} ${p}`);return _.setAttribute("cgHash",s),_.cgKey=d,_.cgScale=v,GS(_,Cl(r)(je(d),kt(n)),v),_}const d2=n=>{var e,s,r;return[n.orig,(e=n.piece)===null||e===void 0?void 0:e.role,(s=n.piece)===null||s===void 0?void 0:s.color,(r=n.piece)===null||r===void 0?void 0:r.scale].join(",")};function p2(n,e){const s=Px();l0(s,e||{});function r(){const o="dom"in s?s.dom.unbind:void 0,u=t2(n,s),f=JI(()=>u.board.getBoundingClientRect()),d=v=>{a2(p),u.autoPieces&&c2(p,u.autoPieces),!v&&u.svg&&Bx(p,u.svg,u.customSvg)},m=()=>{tE(p),l2(p),u.autoPieces&&f2(p)},p=s;return p.dom={elements:u,bounds:f,redraw:m2(d),redrawNow:d,unbind:o},p.drawable.prevSvgHash="",tE(p),d(!1),i2(p,m),o||(p.dom.unbind=s2(p,m)),p.events.insert&&p.events.insert(u),p}return zx(r(),r)}function m2(n){let e=!1;return()=>{e||(e=!0,requestAnimationFrame(()=>{n(),e=!1}))}}function g2(){const{user:n,loading:e}=cp();if(!e&&!n)return q.jsx("div",{className:"page",children:q.jsx("div",{className:"card",style:{marginTop:"24px",textAlign:"center"},children:q.jsx("p",{children:"Please login to continue."})})});const{levelId:s="beginner-1",lessonId:r="lesson-1"}=_E(),o=tu,u=`iq4u_assessment_${s}_${r}`,f=D.useRef(null),d=D.useRef(null),[m,p]=D.useState(0),v=o.teaching,_=v[m],E=_?.teachingQuestion,[w,N]=D.useState([]),[k,B]=D.useState(null),j=o.assessment||[],P=j.length,[V,oe]=D.useState("idle"),[W,Ce]=D.useState(0),[Z,ee]=D.useState(j.map(()=>({answered:!1,skipped:!1,answer:null,locked:!1,isCorrect:null}))),[ke,Ue]=D.useState(null),[Be,Ke]=D.useState(null),[_n,Yt]=D.useState(!1),Te=j[W],M=Z[W];D.useEffect(()=>{if(V==="in_progress")try{sessionStorage.setItem(u,JSON.stringify({assessmentIndex:W,assessmentAnswers:Z}))}catch{}},[V,W,Z,u]);const F=x=>{d.current?.destroy?.(),d.current=p2(f.current,{fen:x,draggable:{enabled:!0},selectable:{enabled:!0},movable:{free:!0,color:"both"},events:{move:(H,Y)=>{if(V==="in_progress"&&Te?.type==="pgn"&&!M.locked){const $=`${H}${Y}`;ee(re=>{const de=[...re];return de[W]={...de[W],answered:!0,answer:$},de})}},select:H=>{V==="idle"&&E?.type==="square-selection"&&N(Y=>Y.includes(H)?Y.filter($=>$!==H):[...Y,H]),V==="in_progress"&&Te?.type==="square-selection"&&!M.locked&&ee(Y=>{const $=[...Y],re=$[W].answer||[];return $[W]={...$[W],answered:!0,answer:re.includes(H)?re.filter(de=>de!==H):[...re,H]},$})}}})};D.useEffect(()=>{f.current&&(V==="idle"&&_&&(F(_.fen),N([]),B(null)),(V==="in_progress"||V==="confirm_start")&&Te&&F(Te.fen))},[m,V,W]);const te=()=>{if(!E)return;const x=E.correctSquares.slice().sort().join(","),H=w.slice().sort().join(",");B(x===H)},Se=()=>{if(!M.answered||M.locked)return;let x=!1;if(Te.type==="mcq"&&(x=M.answer===Te.correctAnswer),Te.type==="square-selection"){const H=(M.answer||[]).slice().sort().join(","),Y=Te.correctSquares.slice().sort().join(",");x=H===Y}Te.type==="pgn"&&(x=Te.correctMoves.includes(M.answer)),ee(H=>{const Y=[...H];return Y[W]={...Y[W],locked:!0,isCorrect:x},Y})},we=()=>{ee(x=>{const H=[...x];return H[W].answered||(H[W]={...H[W],skipped:!0,locked:!0,isCorrect:!1}),H}),W<P-1?Ce(x=>x+1):C()},C=async()=>{let x=0;Z.forEach($=>{$.isCorrect&&(x+=1)});const H=Math.round(x/P*100);Ue(H);const Y=H>=60;Ke(Y),oe("completed"),Yt(!0),n&&await GI({uid:n.uid,levelId:s,lessonId:r,score:H,completed:Y})};return q.jsxs("div",{className:"page",children:[q.jsxs("div",{className:"classroom-header",children:[V==="idle"&&o.meta.title,V==="confirm_start"&&"Assessment",V==="in_progress"&&`Assessment  Question ${W+1} of ${P}`,V==="completed"&&"Assessment Result"]}),q.jsxs("div",{className:"classroom-body",children:[q.jsx("div",{className:"card board-panel",children:q.jsx("div",{ref:f,className:"chessboard-container"})}),q.jsxs("div",{className:"card content-panel",children:[V==="confirm_start"&&q.jsxs(q.Fragment,{children:[q.jsx("h3",{children:"Assessment is about to begin"}),q.jsx("p",{children:"You are about to start the assessment. You cannot retry individual questions. Make sure you are ready."}),q.jsxs("div",{style:{display:"flex",gap:12},children:[q.jsx("button",{className:"btn",onClick:()=>oe("idle"),children:"Cancel"}),q.jsx("button",{className:"btn",onClick:()=>oe("in_progress"),children:"Start Assessment"})]})]}),V==="idle"&&_&&q.jsxs(q.Fragment,{children:[q.jsx("h3",{children:_.title}),q.jsx("p",{children:_.content}),E&&q.jsxs(q.Fragment,{children:[q.jsxs("p",{children:[q.jsx("strong",{children:"Selected Squares:"})," ",w.join(", ")||"None"]}),k!==null&&q.jsx("p",{style:{fontWeight:600,color:k?"#27ae60":"#c0392b"},children:k?"Correct":"Incorrect"})]})]}),V==="in_progress"&&Te&&q.jsxs(q.Fragment,{children:[q.jsx("h3",{children:Te.question}),Te.type==="mcq"&&Te.options.map(x=>q.jsxs("label",{style:{display:"block"},children:[q.jsx("input",{type:"radio",disabled:M.locked,checked:M.answer===x,onChange:()=>ee(H=>{const Y=[...H];return Y[W]={...Y[W],answered:!0,answer:x},Y})}),x]},x)),Te.type==="square-selection"&&q.jsxs(q.Fragment,{children:[q.jsxs("p",{children:[q.jsx("strong",{children:"Selected Squares:"})," ",(M.answer||[]).join(", ")||"None"]}),M.locked&&q.jsxs("p",{children:[q.jsx("strong",{children:"Correct Squares:"})," ",Te.correctSquares.join(", ")]})]}),Te.type==="pgn"&&q.jsxs("p",{children:[q.jsx("strong",{children:"Move played:"})," ",M.answer||"None"]}),M.locked&&q.jsx("p",{style:{marginTop:12,fontWeight:600,color:M.isCorrect?"#27ae60":"#c0392b"},children:M.isCorrect?"Correct":"Incorrect"})]}),V==="completed"&&_n&&q.jsxs(q.Fragment,{children:[q.jsx("h2",{children:" Congratulations!"}),q.jsxs("p",{children:["Score: ",q.jsxs("strong",{children:[ke,"%"]})]}),q.jsxs("p",{children:["Status: ",q.jsx("strong",{children:Be?"Pass":"Fail"})]}),q.jsx("button",{className:"btn",onClick:()=>Yt(!1),children:"Back to Lessons"})]}),V==="completed"&&!_n&&q.jsxs("h3",{children:["Final Score: ",ke,"% (",Be?"Pass":"Fail",")"]})]})]}),V!=="completed"&&V!=="confirm_start"&&q.jsxs("div",{className:"classroom-footer",children:[q.jsx("button",{className:"btn",onClick:()=>V==="idle"?p(x=>Math.max(x-1,0)):Ce(x=>Math.max(x-1,0)),children:"Previous"}),q.jsx("button",{className:"btn",onClick:V==="idle"?te:Se,disabled:V==="idle"?!E:!M.answered||M.locked,children:"Submit"}),q.jsx("button",{className:"btn",onClick:V==="idle"?()=>m===v.length-1?oe("confirm_start"):p(x=>x+1):we,children:"Next"})]})]})}function _2(){return q.jsx(QI,{children:q.jsxs(X1,{children:[q.jsx(Ko,{path:"/",element:q.jsx(WI,{})}),q.jsx(Ko,{path:"/level/:levelId",element:q.jsx(XI,{})}),q.jsx(Ko,{path:"/classroom/:levelId/:lessonId",element:q.jsx(g2,{})})]})})}JT.createRoot(document.getElementById("root")).render(q.jsx(YT.StrictMode,{children:q.jsx(Ew,{children:q.jsx(_2,{})})}));
