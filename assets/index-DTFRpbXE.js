(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function nE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var dd={exports:{}},Ma={};var Ev;function jC(){if(Ev)return Ma;Ev=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:n,type:r,key:f,ref:o!==void 0?o:null,props:c}}return Ma.Fragment=e,Ma.jsx=s,Ma.jsxs=s,Ma}var bv;function VC(){return bv||(bv=1,dd.exports=jC()),dd.exports}var q=VC(),hd={exports:{}},se={};var Sv;function GC(){if(Sv)return se;Sv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=E&&C[E]||C["@@iterator"],typeof C=="function"?C:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,H={};function j(C,x,B){this.props=C,this.context=x,this.refs=H,this.updater=B||N}j.prototype.isReactComponent={},j.prototype.setState=function(C,x){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,x,"setState")},j.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function P(){}P.prototype=j.prototype;function V(C,x,B){this.props=C,this.context=x,this.refs=H,this.updater=B||N}var oe=V.prototype=new P;oe.constructor=V,k(oe,j.prototype),oe.isPureReactComponent=!0;var W=Array.isArray;function Ce(){}var Z={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function ke(C,x,B){var Y=B.ref;return{$$typeof:n,type:C,key:x,ref:Y!==void 0?Y:null,props:B}}function Ue(C,x){return ke(C.type,x,C.props)}function He(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function Ke(C){var x={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(B){return x[B]})}var _n=/\/+/g;function Yt(C,x){return typeof C=="object"&&C!==null&&C.key!=null?Ke(""+C.key):x.toString(36)}function Te(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Ce,Ce):(C.status="pending",C.then(function(x){C.status==="pending"&&(C.status="fulfilled",C.value=x)},function(x){C.status==="pending"&&(C.status="rejected",C.reason=x)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function D(C,x,B,Y,$){var re=typeof C;(re==="undefined"||re==="boolean")&&(C=null);var he=!1;if(C===null)he=!0;else switch(re){case"bigint":case"string":case"number":he=!0;break;case"object":switch(C.$$typeof){case n:case e:he=!0;break;case y:return he=C._init,D(he(C._payload),x,B,Y,$)}}if(he)return $=$(C),he=Y===""?"."+Yt(C,0):Y,W($)?(B="",he!=null&&(B=he.replace(_n,"$&/")+"/"),D($,x,B,"",function(Br){return Br})):$!=null&&(He($)&&($=Ue($,B+($.key==null||C&&C.key===$.key?"":(""+$.key).replace(_n,"$&/")+"/")+he)),x.push($)),1;he=0;var _t=Y===""?".":Y+":";if(W(C))for(var Qe=0;Qe<C.length;Qe++)Y=C[Qe],re=_t+Yt(Y,Qe),he+=D(Y,x,B,re,$);else if(Qe=w(C),typeof Qe=="function")for(C=Qe.call(C),Qe=0;!(Y=C.next()).done;)Y=Y.value,re=_t+Yt(Y,Qe++),he+=D(Y,x,B,re,$);else if(re==="object"){if(typeof C.then=="function")return D(Te(C),x,B,Y,$);throw x=String(C),Error("Objects are not valid as a React child (found: "+(x==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":x)+"). If you meant to render a collection of children, use an array instead.")}return he}function F(C,x,B){if(C==null)return C;var Y=[],$=0;return D(C,Y,"","",function(re){return x.call(B,re,$++)}),Y}function te(C){if(C._status===-1){var x=C._result;x=x(),x.then(function(B){(C._status===0||C._status===-1)&&(C._status=1,C._result=B)},function(B){(C._status===0||C._status===-1)&&(C._status=2,C._result=B)}),C._status===-1&&(C._status=0,C._result=x)}if(C._status===1)return C._result.default;throw C._result}var Se=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var x=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(x))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},we={map:F,forEach:function(C,x,B){F(C,function(){x.apply(this,arguments)},B)},count:function(C){var x=0;return F(C,function(){x++}),x},toArray:function(C){return F(C,function(x){return x})||[]},only:function(C){if(!He(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return se.Activity=_,se.Children=we,se.Component=j,se.Fragment=s,se.Profiler=o,se.PureComponent=V,se.StrictMode=r,se.Suspense=p,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,se.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Z.H.useMemoCache(C)}},se.cache=function(C){return function(){return C.apply(null,arguments)}},se.cacheSignal=function(){return null},se.cloneElement=function(C,x,B){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var Y=k({},C.props),$=C.key;if(x!=null)for(re in x.key!==void 0&&($=""+x.key),x)!ee.call(x,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&x.ref===void 0||(Y[re]=x[re]);var re=arguments.length-2;if(re===1)Y.children=B;else if(1<re){for(var he=Array(re),_t=0;_t<re;_t++)he[_t]=arguments[_t+2];Y.children=he}return ke(C.type,$,Y)},se.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},se.createElement=function(C,x,B){var Y,$={},re=null;if(x!=null)for(Y in x.key!==void 0&&(re=""+x.key),x)ee.call(x,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&($[Y]=x[Y]);var he=arguments.length-2;if(he===1)$.children=B;else if(1<he){for(var _t=Array(he),Qe=0;Qe<he;Qe++)_t[Qe]=arguments[Qe+2];$.children=_t}if(C&&C.defaultProps)for(Y in he=C.defaultProps,he)$[Y]===void 0&&($[Y]=he[Y]);return ke(C,re,$)},se.createRef=function(){return{current:null}},se.forwardRef=function(C){return{$$typeof:h,render:C}},se.isValidElement=He,se.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:te}},se.memo=function(C,x){return{$$typeof:m,type:C,compare:x===void 0?null:x}},se.startTransition=function(C){var x=Z.T,B={};Z.T=B;try{var Y=C(),$=Z.S;$!==null&&$(B,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Ce,Se)}catch(re){Se(re)}finally{x!==null&&B.types!==null&&(x.types=B.types),Z.T=x}},se.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},se.use=function(C){return Z.H.use(C)},se.useActionState=function(C,x,B){return Z.H.useActionState(C,x,B)},se.useCallback=function(C,x){return Z.H.useCallback(C,x)},se.useContext=function(C){return Z.H.useContext(C)},se.useDebugValue=function(){},se.useDeferredValue=function(C,x){return Z.H.useDeferredValue(C,x)},se.useEffect=function(C,x){return Z.H.useEffect(C,x)},se.useEffectEvent=function(C){return Z.H.useEffectEvent(C)},se.useId=function(){return Z.H.useId()},se.useImperativeHandle=function(C,x,B){return Z.H.useImperativeHandle(C,x,B)},se.useInsertionEffect=function(C,x){return Z.H.useInsertionEffect(C,x)},se.useLayoutEffect=function(C,x){return Z.H.useLayoutEffect(C,x)},se.useMemo=function(C,x){return Z.H.useMemo(C,x)},se.useOptimistic=function(C,x){return Z.H.useOptimistic(C,x)},se.useReducer=function(C,x,B){return Z.H.useReducer(C,x,B)},se.useRef=function(C){return Z.H.useRef(C)},se.useState=function(C){return Z.H.useState(C)},se.useSyncExternalStore=function(C,x,B){return Z.H.useSyncExternalStore(C,x,B)},se.useTransition=function(){return Z.H.useTransition()},se.version="19.2.3",se}var Cv;function fh(){return Cv||(Cv=1,hd.exports=GC()),hd.exports}var I=fh();const YC=nE(I);var md={exports:{}},xa={},pd={exports:{}},gd={};var Tv;function FC(){return Tv||(Tv=1,(function(n){function e(D,F){var te=D.length;D.push(F);e:for(;0<te;){var Se=te-1>>>1,we=D[Se];if(0<o(we,F))D[Se]=F,D[te]=we,te=Se;else break e}}function s(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var F=D[0],te=D.pop();if(te!==F){D[0]=te;e:for(var Se=0,we=D.length,C=we>>>1;Se<C;){var x=2*(Se+1)-1,B=D[x],Y=x+1,$=D[Y];if(0>o(B,te))Y<we&&0>o($,B)?(D[Se]=$,D[Y]=te,Se=Y):(D[Se]=B,D[x]=te,Se=x);else if(Y<we&&0>o($,te))D[Se]=$,D[Y]=te,Se=Y;else break e}}return F}function o(D,F){var te=D.sortIndex-F.sortIndex;return te!==0?te:D.id-F.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var f=Date,h=f.now();n.unstable_now=function(){return f.now()-h}}var p=[],m=[],y=1,_=null,E=3,w=!1,N=!1,k=!1,H=!1,j=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function oe(D){for(var F=s(m);F!==null;){if(F.callback===null)r(m);else if(F.startTime<=D)r(m),F.sortIndex=F.expirationTime,e(p,F);else break;F=s(m)}}function W(D){if(k=!1,oe(D),!N)if(s(p)!==null)N=!0,Ce||(Ce=!0,Ke());else{var F=s(m);F!==null&&Te(W,F.startTime-D)}}var Ce=!1,Z=-1,ee=5,ke=-1;function Ue(){return H?!0:!(n.unstable_now()-ke<ee)}function He(){if(H=!1,Ce){var D=n.unstable_now();ke=D;var F=!0;try{e:{N=!1,k&&(k=!1,P(Z),Z=-1),w=!0;var te=E;try{t:{for(oe(D),_=s(p);_!==null&&!(_.expirationTime>D&&Ue());){var Se=_.callback;if(typeof Se=="function"){_.callback=null,E=_.priorityLevel;var we=Se(_.expirationTime<=D);if(D=n.unstable_now(),typeof we=="function"){_.callback=we,oe(D),F=!0;break t}_===s(p)&&r(p),oe(D)}else r(p);_=s(p)}if(_!==null)F=!0;else{var C=s(m);C!==null&&Te(W,C.startTime-D),F=!1}}break e}finally{_=null,E=te,w=!1}F=void 0}}finally{F?Ke():Ce=!1}}}var Ke;if(typeof V=="function")Ke=function(){V(He)};else if(typeof MessageChannel<"u"){var _n=new MessageChannel,Yt=_n.port2;_n.port1.onmessage=He,Ke=function(){Yt.postMessage(null)}}else Ke=function(){j(He,0)};function Te(D,F){Z=j(function(){D(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(D){switch(E){case 1:case 2:case 3:var F=3;break;default:F=E}var te=E;E=F;try{return D()}finally{E=te}},n.unstable_requestPaint=function(){H=!0},n.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var te=E;E=D;try{return F()}finally{E=te}},n.unstable_scheduleCallback=function(D,F,te){var Se=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Se+te:Se):te=Se,D){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=te+we,D={id:y++,callback:F,priorityLevel:D,startTime:te,expirationTime:we,sortIndex:-1},te>Se?(D.sortIndex=te,e(m,D),s(p)===null&&D===s(m)&&(k?(P(Z),Z=-1):k=!0,Te(W,te-Se))):(D.sortIndex=we,e(p,D),N||w||(N=!0,Ce||(Ce=!0,Ke()))),D},n.unstable_shouldYield=Ue,n.unstable_wrapCallback=function(D){var F=E;return function(){var te=E;E=F;try{return D.apply(this,arguments)}finally{E=te}}}})(gd)),gd}var wv;function KC(){return wv||(wv=1,pd.exports=FC()),pd.exports}var _d={exports:{}},pt={};var Av;function QC(){if(Av)return pt;Av=1;var n=fh();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:p,containerInfo:m,implementation:y}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pt.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(p,m,null,y)},pt.flushSync=function(p){var m=f.T,y=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=m,r.p=y,r.d.f()}},pt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},pt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},pt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:w}):y==="script"&&r.d.X(p,{crossOrigin:_,integrity:E,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},pt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},pt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin);r.d.L(p,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},pt.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},pt.requestFormReset=function(p){r.d.r(p)},pt.unstable_batchedUpdates=function(p,m){return p(m)},pt.useFormState=function(p,m,y){return f.H.useFormState(p,m,y)},pt.useFormStatus=function(){return f.H.useHostTransitionStatus()},pt.version="19.2.3",pt}var Rv;function WC(){if(Rv)return _d.exports;Rv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_d.exports=QC(),_d.exports}var Nv;function XC(){if(Nv)return xa;Nv=1;var n=KC(),e=fh(),s=WC();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(r(188))}function m(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var u=a.return;if(u===null)break;var d=u.alternate;if(d===null){if(l=u.return,l!==null){a=l;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===a)return p(u),t;if(d===l)return p(u),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=u,l=d;else{for(var g=!1,v=u.child;v;){if(v===a){g=!0,a=u,l=d;break}if(v===l){g=!0,l=u,a=d;break}v=v.sibling}if(!g){for(v=d.child;v;){if(v===a){g=!0,a=d,l=u;break}if(v===l){g=!0,l=d,a=u;break}v=v.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),V=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ke=Symbol.for("react.activity"),Ue=Symbol.for("react.memo_cache_sentinel"),He=Symbol.iterator;function Ke(t){return t===null||typeof t!="object"?null:(t=He&&t[He]||t["@@iterator"],typeof t=="function"?t:null)}var _n=Symbol.for("react.client.reference");function Yt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===_n?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case j:return"Profiler";case H:return"StrictMode";case W:return"Suspense";case Ce:return"SuspenseList";case ke:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case V:return t.displayName||"Context";case P:return(t._context.displayName||"Context")+".Consumer";case oe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z:return i=t.displayName||null,i!==null?i:Yt(t.type)||"Memo";case ee:i=t._payload,t=t._init;try{return Yt(t(i))}catch{}}return null}var Te=Array.isArray,D=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Se=[],we=-1;function C(t){return{current:t}}function x(t){0>we||(t.current=Se[we],Se[we]=null,we--)}function B(t,i){we++,Se[we]=t.current,t.current=i}var Y=C(null),$=C(null),re=C(null),he=C(null);function _t(t,i){switch(B(re,i),B($,t),B(Y,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?V_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=V_(i),t=G_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}x(Y),B(Y,t)}function Qe(){x(Y),x($),x(re)}function Br(t){t.memoizedState!==null&&B(he,t);var i=Y.current,a=G_(i,t.type);i!==a&&(B($,t),B(Y,a))}function Tl(t){$.current===t&&(x(Y),x($)),he.current===t&&(x(he),Na._currentValue=te)}var Kc,ym;function Qi(t){if(Kc===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Kc=i&&i[1]||"",ym=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kc+t+ym}var Qc=!1;function Wc(t,i){if(!t||Qc)return"";Qc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(M){var O=M}Reflect.construct(t,[],z)}else{try{z.call()}catch(M){O=M}t.call(z.prototype)}}else{try{throw Error()}catch(M){O=M}(z=t())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(M){if(M&&O&&typeof M.stack=="string")return[M.stack,O.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),g=d[0],v=d[1];if(g&&v){var b=g.split(`
`),R=v.split(`
`);for(u=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;if(l===b.length||u===R.length)for(l=b.length-1,u=R.length-1;1<=l&&0<=u&&b[l]!==R[u];)u--;for(;1<=l&&0<=u;l--,u--)if(b[l]!==R[u]){if(l!==1||u!==1)do if(l--,u--,0>u||b[l]!==R[u]){var L=`
`+b[l].replace(" at new "," at ");return t.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",t.displayName)),L}while(1<=l&&0<=u);break}}}finally{Qc=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Qi(a):""}function yS(t,i){switch(t.tag){case 26:case 27:case 5:return Qi(t.type);case 16:return Qi("Lazy");case 13:return t.child!==i&&i!==null?Qi("Suspense Fallback"):Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 15:return Wc(t.type,!1);case 11:return Wc(t.type.render,!1);case 1:return Wc(t.type,!0);case 31:return Qi("Activity");default:return""}}function Em(t){try{var i="",a=null;do i+=yS(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Xc=Object.prototype.hasOwnProperty,Zc=n.unstable_scheduleCallback,$c=n.unstable_cancelCallback,ES=n.unstable_shouldYield,bS=n.unstable_requestPaint,Lt=n.unstable_now,SS=n.unstable_getCurrentPriorityLevel,bm=n.unstable_ImmediatePriority,Sm=n.unstable_UserBlockingPriority,wl=n.unstable_NormalPriority,CS=n.unstable_LowPriority,Cm=n.unstable_IdlePriority,TS=n.log,wS=n.unstable_setDisableYieldValue,Hr=null,Ut=null;function si(t){if(typeof TS=="function"&&wS(t),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Hr,t)}catch{}}var zt=Math.clz32?Math.clz32:NS,AS=Math.log,RS=Math.LN2;function NS(t){return t>>>=0,t===0?32:31-(AS(t)/RS|0)|0}var Al=256,Rl=262144,Nl=4194304;function Wi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ol(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var u=0,d=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var v=l&134217727;return v!==0?(l=v&~d,l!==0?u=Wi(l):(g&=v,g!==0?u=Wi(g):a||(a=v&~t,a!==0&&(u=Wi(a))))):(v=l&~d,v!==0?u=Wi(v):g!==0?u=Wi(g):a||(a=l&~t,a!==0&&(u=Wi(a)))),u===0?0:i!==0&&i!==u&&(i&d)===0&&(d=u&-u,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:u}function qr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function OS(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tm(){var t=Nl;return Nl<<=1,(Nl&62914560)===0&&(Nl=4194304),t}function Jc(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function jr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function IS(t,i,a,l,u,d){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var v=t.entanglements,b=t.expirationTimes,R=t.hiddenUpdates;for(a=g&~a;0<a;){var L=31-zt(a),z=1<<L;v[L]=0,b[L]=-1;var O=R[L];if(O!==null)for(R[L]=null,L=0;L<O.length;L++){var M=O[L];M!==null&&(M.lane&=-536870913)}a&=~z}l!==0&&wm(t,l,0),d!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=d&~(g&~i))}function wm(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-zt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Am(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-zt(a),u=1<<l;u&i|t[l]&i&&(t[l]|=i),a&=~u}}function Rm(t,i){var a=i&-i;return a=(a&42)!==0?1:eu(a),(a&(t.suspendedLanes|i))!==0?0:a}function eu(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function tu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Nm(){var t=F.p;return t!==0?t:(t=window.event,t===void 0?32:hv(t.type))}function Om(t,i){var a=F.p;try{return F.p=t,i()}finally{F.p=a}}var ri=Math.random().toString(36).slice(2),ut="__reactFiber$"+ri,Ct="__reactProps$"+ri,Ds="__reactContainer$"+ri,nu="__reactEvents$"+ri,DS="__reactListeners$"+ri,MS="__reactHandles$"+ri,Im="__reactResources$"+ri,Vr="__reactMarker$"+ri;function iu(t){delete t[ut],delete t[Ct],delete t[nu],delete t[DS],delete t[MS]}function Ms(t){var i=t[ut];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ds]||a[ut]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Z_(t);t!==null;){if(a=t[ut])return a;t=Z_(t)}return i}t=a,a=t.parentNode}return null}function xs(t){if(t=t[ut]||t[Ds]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Gr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function ks(t){var i=t[Im];return i||(i=t[Im]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function rt(t){t[Vr]=!0}var Dm=new Set,Mm={};function Xi(t,i){Ls(t,i),Ls(t+"Capture",i)}function Ls(t,i){for(Mm[t]=i,t=0;t<i.length;t++)Dm.add(i[t])}var xS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xm={},km={};function kS(t){return Xc.call(km,t)?!0:Xc.call(xm,t)?!1:xS.test(t)?km[t]=!0:(xm[t]=!0,!1)}function Il(t,i,a){if(kS(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Dl(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Rn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lm(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function LS(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return u.call(this)},set:function(g){a=""+g,d.call(this,g)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function su(t){if(!t._valueTracker){var i=Lm(t)?"checked":"value";t._valueTracker=LS(t,i,""+t[i])}}function Um(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Lm(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ml(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var US=/[\n"\\]/g;function Kt(t){return t.replace(US,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ru(t,i,a,l,u,d,g,v){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),i!=null?g==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ft(i)):t.value!==""+Ft(i)&&(t.value=""+Ft(i)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),i!=null?au(t,g,Ft(i)):a!=null?au(t,g,Ft(a)):l!=null&&t.removeAttribute("value"),u==null&&d!=null&&(t.defaultChecked=!!d),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+Ft(v):t.removeAttribute("name")}function zm(t,i,a,l,u,d,g,v){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){su(t);return}a=a!=null?""+Ft(a):"",i=i!=null?""+Ft(i):a,v||i===t.value||(t.value=i),t.defaultValue=i}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=v?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),su(t)}function au(t,i,a){i==="number"&&Ml(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Us(t,i,a,l){if(t=t.options,i){i={};for(var u=0;u<a.length;u++)i["$"+a[u]]=!0;for(a=0;a<t.length;a++)u=i.hasOwnProperty("$"+t[a].value),t[a].selected!==u&&(t[a].selected=u),u&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ft(a),i=null,u=0;u<t.length;u++){if(t[u].value===a){t[u].selected=!0,l&&(t[u].defaultSelected=!0);return}i!==null||t[u].disabled||(i=t[u])}i!==null&&(i.selected=!0)}}function Pm(t,i,a){if(i!=null&&(i=""+Ft(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ft(a):""}function Bm(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Te(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ft(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),su(t)}function zs(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var zS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hm(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||zS.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function qm(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var u in i)l=i[u],i.hasOwnProperty(u)&&a[u]!==l&&Hm(t,u,l)}else for(var d in i)i.hasOwnProperty(d)&&Hm(t,d,i[d])}function lu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),BS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xl(t){return BS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Nn(){}var ou=null;function cu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ps=null,Bs=null;function jm(t){var i=xs(t);if(i&&(t=i.stateNode)){var a=t[Ct]||null;e:switch(t=i.stateNode,i.type){case"input":if(ru(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Kt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var u=l[Ct]||null;if(!u)throw Error(r(90));ru(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Um(l)}break e;case"textarea":Pm(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Us(t,!!a.multiple,i,!1)}}}var uu=!1;function Vm(t,i,a){if(uu)return t(i,a);uu=!0;try{var l=t(i);return l}finally{if(uu=!1,(Ps!==null||Bs!==null)&&(bo(),Ps&&(i=Ps,t=Bs,Bs=Ps=null,jm(i),t)))for(i=0;i<t.length;i++)jm(t[i])}}function Yr(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ct]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fu=!1;if(On)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){fu=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{fu=!1}var ai=null,du=null,kl=null;function Gm(){if(kl)return kl;var t,i=du,a=i.length,l,u="value"in ai?ai.value:ai.textContent,d=u.length;for(t=0;t<a&&i[t]===u[t];t++);var g=a-t;for(l=1;l<=g&&i[a-l]===u[d-l];l++);return kl=u.slice(t,1<l?1-l:void 0)}function Ll(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ul(){return!0}function Ym(){return!1}function Tt(t){function i(a,l,u,d,g){this._reactName=a,this._targetInst=u,this.type=l,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(a=t[v],this[v]=a?a(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ul:Ym,this.isPropagationStopped=Ym,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),i}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zl=Tt(Zi),Kr=_({},Zi,{view:0,detail:0}),HS=Tt(Kr),hu,mu,Qr,Pl=_({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qr&&(Qr&&t.type==="mousemove"?(hu=t.screenX-Qr.screenX,mu=t.screenY-Qr.screenY):mu=hu=0,Qr=t),hu)},movementY:function(t){return"movementY"in t?t.movementY:mu}}),Fm=Tt(Pl),qS=_({},Pl,{dataTransfer:0}),jS=Tt(qS),VS=_({},Kr,{relatedTarget:0}),pu=Tt(VS),GS=_({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),YS=Tt(GS),FS=_({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KS=Tt(FS),QS=_({},Zi,{data:0}),Km=Tt(QS),WS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $S(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ZS[t])?!!i[t]:!1}function gu(){return $S}var JS=_({},Kr,{key:function(t){if(t.key){var i=WS[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ll(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?XS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gu,charCode:function(t){return t.type==="keypress"?Ll(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ll(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),e1=Tt(JS),t1=_({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qm=Tt(t1),n1=_({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gu}),i1=Tt(n1),s1=_({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),r1=Tt(s1),a1=_({},Pl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),l1=Tt(a1),o1=_({},Zi,{newState:0,oldState:0}),c1=Tt(o1),u1=[9,13,27,32],_u=On&&"CompositionEvent"in window,Wr=null;On&&"documentMode"in document&&(Wr=document.documentMode);var f1=On&&"TextEvent"in window&&!Wr,Wm=On&&(!_u||Wr&&8<Wr&&11>=Wr),Xm=" ",Zm=!1;function $m(t,i){switch(t){case"keyup":return u1.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hs=!1;function d1(t,i){switch(t){case"compositionend":return Jm(i);case"keypress":return i.which!==32?null:(Zm=!0,Xm);case"textInput":return t=i.data,t===Xm&&Zm?null:t;default:return null}}function h1(t,i){if(Hs)return t==="compositionend"||!_u&&$m(t,i)?(t=Gm(),kl=du=ai=null,Hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Wm&&i.locale!=="ko"?null:i.data;default:return null}}var m1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ep(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!m1[t.type]:i==="textarea"}function tp(t,i,a,l){Ps?Bs?Bs.push(l):Bs=[l]:Ps=l,i=No(i,"onChange"),0<i.length&&(a=new zl("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Xr=null,Zr=null;function p1(t){z_(t,0)}function Bl(t){var i=Gr(t);if(Um(i))return t}function np(t,i){if(t==="change")return i}var ip=!1;if(On){var vu;if(On){var yu="oninput"in document;if(!yu){var sp=document.createElement("div");sp.setAttribute("oninput","return;"),yu=typeof sp.oninput=="function"}vu=yu}else vu=!1;ip=vu&&(!document.documentMode||9<document.documentMode)}function rp(){Xr&&(Xr.detachEvent("onpropertychange",ap),Zr=Xr=null)}function ap(t){if(t.propertyName==="value"&&Bl(Zr)){var i=[];tp(i,Zr,t,cu(t)),Vm(p1,i)}}function g1(t,i,a){t==="focusin"?(rp(),Xr=i,Zr=a,Xr.attachEvent("onpropertychange",ap)):t==="focusout"&&rp()}function _1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bl(Zr)}function v1(t,i){if(t==="click")return Bl(i)}function y1(t,i){if(t==="input"||t==="change")return Bl(i)}function E1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Pt=typeof Object.is=="function"?Object.is:E1;function $r(t,i){if(Pt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var u=a[l];if(!Xc.call(i,u)||!Pt(t[u],i[u]))return!1}return!0}function lp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function op(t,i){var a=lp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=lp(a)}}function cp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?cp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function up(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ml(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ml(t.document)}return i}function Eu(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var b1=On&&"documentMode"in document&&11>=document.documentMode,qs=null,bu=null,Jr=null,Su=!1;function fp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Su||qs==null||qs!==Ml(l)||(l=qs,"selectionStart"in l&&Eu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jr&&$r(Jr,l)||(Jr=l,l=No(bu,"onSelect"),0<l.length&&(i=new zl("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=qs)))}function $i(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var js={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionrun:$i("Transition","TransitionRun"),transitionstart:$i("Transition","TransitionStart"),transitioncancel:$i("Transition","TransitionCancel"),transitionend:$i("Transition","TransitionEnd")},Cu={},dp={};On&&(dp=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function Ji(t){if(Cu[t])return Cu[t];if(!js[t])return t;var i=js[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in dp)return Cu[t]=i[a];return t}var hp=Ji("animationend"),mp=Ji("animationiteration"),pp=Ji("animationstart"),S1=Ji("transitionrun"),C1=Ji("transitionstart"),T1=Ji("transitioncancel"),gp=Ji("transitionend"),_p=new Map,Tu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tu.push("scrollEnd");function ln(t,i){_p.set(t,i),Xi(i,[t])}var Hl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Qt=[],Vs=0,wu=0;function ql(){for(var t=Vs,i=wu=Vs=0;i<t;){var a=Qt[i];Qt[i++]=null;var l=Qt[i];Qt[i++]=null;var u=Qt[i];Qt[i++]=null;var d=Qt[i];if(Qt[i++]=null,l!==null&&u!==null){var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}d!==0&&vp(a,u,d)}}function jl(t,i,a,l){Qt[Vs++]=t,Qt[Vs++]=i,Qt[Vs++]=a,Qt[Vs++]=l,wu|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Au(t,i,a,l){return jl(t,i,a,l),Vl(t)}function es(t,i){return jl(t,null,null,i),Vl(t)}function vp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var u=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(u=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,u&&i!==null&&(u=31-zt(a),t=d.hiddenUpdates,l=t[u],l===null?t[u]=[i]:l.push(i),i.lane=a|536870912),d):null}function Vl(t){if(50<ba)throw ba=0,Uf=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Gs={};function w1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(t,i,a,l){return new w1(t,i,a,l)}function Ru(t){return t=t.prototype,!(!t||!t.isReactComponent)}function In(t,i){var a=t.alternate;return a===null?(a=Bt(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function yp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Gl(t,i,a,l,u,d){var g=0;if(l=t,typeof t=="function")Ru(t)&&(g=1);else if(typeof t=="string")g=IC(t,a,Y.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ke:return t=Bt(31,a,i,u),t.elementType=ke,t.lanes=d,t;case k:return ts(a.children,u,d,i);case H:g=8,u|=24;break;case j:return t=Bt(12,a,i,u|2),t.elementType=j,t.lanes=d,t;case W:return t=Bt(13,a,i,u),t.elementType=W,t.lanes=d,t;case Ce:return t=Bt(19,a,i,u),t.elementType=Ce,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V:g=10;break e;case P:g=9;break e;case oe:g=11;break e;case Z:g=14;break e;case ee:g=16,l=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=Bt(g,a,i,u),i.elementType=t,i.type=l,i.lanes=d,i}function ts(t,i,a,l){return t=Bt(7,t,l,i),t.lanes=a,t}function Nu(t,i,a){return t=Bt(6,t,null,i),t.lanes=a,t}function Ep(t){var i=Bt(18,null,null,0);return i.stateNode=t,i}function Ou(t,i,a){return i=Bt(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var bp=new WeakMap;function Wt(t,i){if(typeof t=="object"&&t!==null){var a=bp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Em(i)},bp.set(t,i),i)}return{value:t,source:i,stack:Em(i)}}var Ys=[],Fs=0,Yl=null,ea=0,Xt=[],Zt=0,li=null,vn=1,yn="";function Dn(t,i){Ys[Fs++]=ea,Ys[Fs++]=Yl,Yl=t,ea=i}function Sp(t,i,a){Xt[Zt++]=vn,Xt[Zt++]=yn,Xt[Zt++]=li,li=t;var l=vn;t=yn;var u=32-zt(l)-1;l&=~(1<<u),a+=1;var d=32-zt(i)+u;if(30<d){var g=u-u%5;d=(l&(1<<g)-1).toString(32),l>>=g,u-=g,vn=1<<32-zt(i)+u|a<<u|l,yn=d+t}else vn=1<<d|a<<u|l,yn=t}function Iu(t){t.return!==null&&(Dn(t,1),Sp(t,1,0))}function Du(t){for(;t===Yl;)Yl=Ys[--Fs],Ys[Fs]=null,ea=Ys[--Fs],Ys[Fs]=null;for(;t===li;)li=Xt[--Zt],Xt[Zt]=null,yn=Xt[--Zt],Xt[Zt]=null,vn=Xt[--Zt],Xt[Zt]=null}function Cp(t,i){Xt[Zt++]=vn,Xt[Zt++]=yn,Xt[Zt++]=li,vn=i.id,yn=i.overflow,li=t}var ft=null,ze=null,_e=!1,oi=null,$t=!1,Mu=Error(r(519));function ci(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ta(Wt(i,t)),Mu}function Tp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[ut]=t,i[Ct]=l,a){case"dialog":fe("cancel",i),fe("close",i);break;case"iframe":case"object":case"embed":fe("load",i);break;case"video":case"audio":for(a=0;a<Ca.length;a++)fe(Ca[a],i);break;case"source":fe("error",i);break;case"img":case"image":case"link":fe("error",i),fe("load",i);break;case"details":fe("toggle",i);break;case"input":fe("invalid",i),zm(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":fe("invalid",i);break;case"textarea":fe("invalid",i),Bm(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||q_(i.textContent,a)?(l.popover!=null&&(fe("beforetoggle",i),fe("toggle",i)),l.onScroll!=null&&fe("scroll",i),l.onScrollEnd!=null&&fe("scrollend",i),l.onClick!=null&&(i.onclick=Nn),i=!0):i=!1,i||ci(t,!0)}function wp(t){for(ft=t.return;ft;)switch(ft.tag){case 5:case 31:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:ft=ft.return}}function Ks(t){if(t!==ft)return!1;if(!_e)return wp(t),_e=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Zf(t.type,t.memoizedProps)),a=!a),a&&ze&&ci(t),wp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ze=X_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ze=X_(t)}else i===27?(i=ze,Ci(t.type)?(t=nd,nd=null,ze=t):ze=i):ze=ft?en(t.stateNode.nextSibling):null;return!0}function ns(){ze=ft=null,_e=!1}function xu(){var t=oi;return t!==null&&(Nt===null?Nt=t:Nt.push.apply(Nt,t),oi=null),t}function ta(t){oi===null?oi=[t]:oi.push(t)}var ku=C(null),is=null,Mn=null;function ui(t,i,a){B(ku,i._currentValue),i._currentValue=a}function xn(t){t._currentValue=ku.current,x(ku)}function Lu(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Uu(t,i,a,l){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var d=u.dependencies;if(d!==null){var g=u.child;d=d.firstContext;e:for(;d!==null;){var v=d;d=u;for(var b=0;b<i.length;b++)if(v.context===i[b]){d.lanes|=a,v=d.alternate,v!==null&&(v.lanes|=a),Lu(d.return,a,t),l||(g=null);break e}d=v.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(r(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),Lu(g,a,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function Qs(t,i,a,l){t=null;for(var u=i,d=!1;u!==null;){if(!d){if((u.flags&524288)!==0)d=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var v=u.type;Pt(u.pendingProps.value,g.value)||(t!==null?t.push(v):t=[v])}}else if(u===he.current){if(g=u.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(Na):t=[Na])}u=u.return}t!==null&&Uu(i,t,a,l),i.flags|=262144}function Fl(t){for(t=t.firstContext;t!==null;){if(!Pt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ss(t){is=t,Mn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function dt(t){return Ap(is,t)}function Kl(t,i){return is===null&&ss(t),Ap(t,i)}function Ap(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Mn===null){if(t===null)throw Error(r(308));Mn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Mn=Mn.next=i;return a}var A1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},R1=n.unstable_scheduleCallback,N1=n.unstable_NormalPriority,Ze={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zu(){return{controller:new A1,data:new Map,refCount:0}}function na(t){t.refCount--,t.refCount===0&&R1(N1,function(){t.controller.abort()})}var ia=null,Pu=0,Ws=0,Xs=null;function O1(t,i){if(ia===null){var a=ia=[];Pu=0,Ws=jf(),Xs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Pu++,i.then(Rp,Rp),i}function Rp(){if(--Pu===0&&ia!==null){Xs!==null&&(Xs.status="fulfilled");var t=ia;ia=null,Ws=0,Xs=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function I1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var u=0;u<a.length;u++)(0,a[u])(i)},function(u){for(l.status="rejected",l.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),l}var Np=D.S;D.S=function(t,i){f_=Lt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&O1(t,i),Np!==null&&Np(t,i)};var rs=C(null);function Bu(){var t=rs.current;return t!==null?t:Me.pooledCache}function Ql(t,i){i===null?B(rs,rs.current):B(rs,i.pool)}function Op(){var t=Bu();return t===null?null:{parent:Ze._currentValue,pool:t}}var Zs=Error(r(460)),Hu=Error(r(474)),Wl=Error(r(542)),Xl={then:function(){}};function Ip(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Dp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Nn,Nn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,xp(t),t;default:if(typeof i.status=="string")i.then(Nn,Nn);else{if(t=Me,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var u=i;u.status="fulfilled",u.value=l}},function(l){if(i.status==="pending"){var u=i;u.status="rejected",u.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,xp(t),t}throw ls=i,Zs}}function as(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ls=a,Zs):a}}var ls=null;function Mp(){if(ls===null)throw Error(r(459));var t=ls;return ls=null,t}function xp(t){if(t===Zs||t===Wl)throw Error(r(483))}var $s=null,sa=0;function Zl(t){var i=sa;return sa+=1,$s===null&&($s=[]),Dp($s,t,i)}function ra(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function $l(t,i){throw i.$$typeof===E?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function kp(t){function i(T,S){if(t){var A=T.deletions;A===null?(T.deletions=[S],T.flags|=16):A.push(S)}}function a(T,S){if(!t)return null;for(;S!==null;)i(T,S),S=S.sibling;return null}function l(T){for(var S=new Map;T!==null;)T.key!==null?S.set(T.key,T):S.set(T.index,T),T=T.sibling;return S}function u(T,S){return T=In(T,S),T.index=0,T.sibling=null,T}function d(T,S,A){return T.index=A,t?(A=T.alternate,A!==null?(A=A.index,A<S?(T.flags|=67108866,S):A):(T.flags|=67108866,S)):(T.flags|=1048576,S)}function g(T){return t&&T.alternate===null&&(T.flags|=67108866),T}function v(T,S,A,U){return S===null||S.tag!==6?(S=Nu(A,T.mode,U),S.return=T,S):(S=u(S,A),S.return=T,S)}function b(T,S,A,U){var X=A.type;return X===k?L(T,S,A.props.children,U,A.key):S!==null&&(S.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===ee&&as(X)===S.type)?(S=u(S,A.props),ra(S,A),S.return=T,S):(S=Gl(A.type,A.key,A.props,null,T.mode,U),ra(S,A),S.return=T,S)}function R(T,S,A,U){return S===null||S.tag!==4||S.stateNode.containerInfo!==A.containerInfo||S.stateNode.implementation!==A.implementation?(S=Ou(A,T.mode,U),S.return=T,S):(S=u(S,A.children||[]),S.return=T,S)}function L(T,S,A,U,X){return S===null||S.tag!==7?(S=ts(A,T.mode,U,X),S.return=T,S):(S=u(S,A),S.return=T,S)}function z(T,S,A){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Nu(""+S,T.mode,A),S.return=T,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case w:return A=Gl(S.type,S.key,S.props,null,T.mode,A),ra(A,S),A.return=T,A;case N:return S=Ou(S,T.mode,A),S.return=T,S;case ee:return S=as(S),z(T,S,A)}if(Te(S)||Ke(S))return S=ts(S,T.mode,A,null),S.return=T,S;if(typeof S.then=="function")return z(T,Zl(S),A);if(S.$$typeof===V)return z(T,Kl(T,S),A);$l(T,S)}return null}function O(T,S,A,U){var X=S!==null?S.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return X!==null?null:v(T,S,""+A,U);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case w:return A.key===X?b(T,S,A,U):null;case N:return A.key===X?R(T,S,A,U):null;case ee:return A=as(A),O(T,S,A,U)}if(Te(A)||Ke(A))return X!==null?null:L(T,S,A,U,null);if(typeof A.then=="function")return O(T,S,Zl(A),U);if(A.$$typeof===V)return O(T,S,Kl(T,A),U);$l(T,A)}return null}function M(T,S,A,U,X){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return T=T.get(A)||null,v(S,T,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return T=T.get(U.key===null?A:U.key)||null,b(S,T,U,X);case N:return T=T.get(U.key===null?A:U.key)||null,R(S,T,U,X);case ee:return U=as(U),M(T,S,A,U,X)}if(Te(U)||Ke(U))return T=T.get(A)||null,L(S,T,U,X,null);if(typeof U.then=="function")return M(T,S,A,Zl(U),X);if(U.$$typeof===V)return M(T,S,A,Kl(S,U),X);$l(S,U)}return null}function K(T,S,A,U){for(var X=null,ve=null,Q=S,le=S=0,pe=null;Q!==null&&le<A.length;le++){Q.index>le?(pe=Q,Q=null):pe=Q.sibling;var ye=O(T,Q,A[le],U);if(ye===null){Q===null&&(Q=pe);break}t&&Q&&ye.alternate===null&&i(T,Q),S=d(ye,S,le),ve===null?X=ye:ve.sibling=ye,ve=ye,Q=pe}if(le===A.length)return a(T,Q),_e&&Dn(T,le),X;if(Q===null){for(;le<A.length;le++)Q=z(T,A[le],U),Q!==null&&(S=d(Q,S,le),ve===null?X=Q:ve.sibling=Q,ve=Q);return _e&&Dn(T,le),X}for(Q=l(Q);le<A.length;le++)pe=M(Q,T,le,A[le],U),pe!==null&&(t&&pe.alternate!==null&&Q.delete(pe.key===null?le:pe.key),S=d(pe,S,le),ve===null?X=pe:ve.sibling=pe,ve=pe);return t&&Q.forEach(function(Ni){return i(T,Ni)}),_e&&Dn(T,le),X}function J(T,S,A,U){if(A==null)throw Error(r(151));for(var X=null,ve=null,Q=S,le=S=0,pe=null,ye=A.next();Q!==null&&!ye.done;le++,ye=A.next()){Q.index>le?(pe=Q,Q=null):pe=Q.sibling;var Ni=O(T,Q,ye.value,U);if(Ni===null){Q===null&&(Q=pe);break}t&&Q&&Ni.alternate===null&&i(T,Q),S=d(Ni,S,le),ve===null?X=Ni:ve.sibling=Ni,ve=Ni,Q=pe}if(ye.done)return a(T,Q),_e&&Dn(T,le),X;if(Q===null){for(;!ye.done;le++,ye=A.next())ye=z(T,ye.value,U),ye!==null&&(S=d(ye,S,le),ve===null?X=ye:ve.sibling=ye,ve=ye);return _e&&Dn(T,le),X}for(Q=l(Q);!ye.done;le++,ye=A.next())ye=M(Q,T,le,ye.value,U),ye!==null&&(t&&ye.alternate!==null&&Q.delete(ye.key===null?le:ye.key),S=d(ye,S,le),ve===null?X=ye:ve.sibling=ye,ve=ye);return t&&Q.forEach(function(qC){return i(T,qC)}),_e&&Dn(T,le),X}function Ie(T,S,A,U){if(typeof A=="object"&&A!==null&&A.type===k&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case w:e:{for(var X=A.key;S!==null;){if(S.key===X){if(X=A.type,X===k){if(S.tag===7){a(T,S.sibling),U=u(S,A.props.children),U.return=T,T=U;break e}}else if(S.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===ee&&as(X)===S.type){a(T,S.sibling),U=u(S,A.props),ra(U,A),U.return=T,T=U;break e}a(T,S);break}else i(T,S);S=S.sibling}A.type===k?(U=ts(A.props.children,T.mode,U,A.key),U.return=T,T=U):(U=Gl(A.type,A.key,A.props,null,T.mode,U),ra(U,A),U.return=T,T=U)}return g(T);case N:e:{for(X=A.key;S!==null;){if(S.key===X)if(S.tag===4&&S.stateNode.containerInfo===A.containerInfo&&S.stateNode.implementation===A.implementation){a(T,S.sibling),U=u(S,A.children||[]),U.return=T,T=U;break e}else{a(T,S);break}else i(T,S);S=S.sibling}U=Ou(A,T.mode,U),U.return=T,T=U}return g(T);case ee:return A=as(A),Ie(T,S,A,U)}if(Te(A))return K(T,S,A,U);if(Ke(A)){if(X=Ke(A),typeof X!="function")throw Error(r(150));return A=X.call(A),J(T,S,A,U)}if(typeof A.then=="function")return Ie(T,S,Zl(A),U);if(A.$$typeof===V)return Ie(T,S,Kl(T,A),U);$l(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,S!==null&&S.tag===6?(a(T,S.sibling),U=u(S,A),U.return=T,T=U):(a(T,S),U=Nu(A,T.mode,U),U.return=T,T=U),g(T)):a(T,S)}return function(T,S,A,U){try{sa=0;var X=Ie(T,S,A,U);return $s=null,X}catch(Q){if(Q===Zs||Q===Wl)throw Q;var ve=Bt(29,Q,null,T.mode);return ve.lanes=U,ve.return=T,ve}}}var os=kp(!0),Lp=kp(!1),fi=!1;function qu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ju(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function di(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function hi(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(be&2)!==0){var u=l.pending;return u===null?i.next=i:(i.next=u.next,u.next=i),l.pending=i,i=Vl(t),vp(t,null,a),i}return jl(t,l,i,a),Vl(t)}function aa(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Am(t,a)}}function Vu(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var u=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?u=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?u=d=i:d=d.next=i}else u=d=i;a={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Gu=!1;function la(){if(Gu){var t=Xs;if(t!==null)throw t}}function oa(t,i,a,l){Gu=!1;var u=t.updateQueue;fi=!1;var d=u.firstBaseUpdate,g=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var b=v,R=b.next;b.next=null,g===null?d=R:g.next=R,g=b;var L=t.alternate;L!==null&&(L=L.updateQueue,v=L.lastBaseUpdate,v!==g&&(v===null?L.firstBaseUpdate=R:v.next=R,L.lastBaseUpdate=b))}if(d!==null){var z=u.baseState;g=0,L=R=b=null,v=d;do{var O=v.lane&-536870913,M=O!==v.lane;if(M?(me&O)===O:(l&O)===O){O!==0&&O===Ws&&(Gu=!0),L!==null&&(L=L.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var K=t,J=v;O=i;var Ie=a;switch(J.tag){case 1:if(K=J.payload,typeof K=="function"){z=K.call(Ie,z,O);break e}z=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=J.payload,O=typeof K=="function"?K.call(Ie,z,O):K,O==null)break e;z=_({},z,O);break e;case 2:fi=!0}}O=v.callback,O!==null&&(t.flags|=64,M&&(t.flags|=8192),M=u.callbacks,M===null?u.callbacks=[O]:M.push(O))}else M={lane:O,tag:v.tag,payload:v.payload,callback:v.callback,next:null},L===null?(R=L=M,b=z):L=L.next=M,g|=O;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;M=v,v=M.next,M.next=null,u.lastBaseUpdate=M,u.shared.pending=null}}while(!0);L===null&&(b=z),u.baseState=b,u.firstBaseUpdate=R,u.lastBaseUpdate=L,d===null&&(u.shared.lanes=0),vi|=g,t.lanes=g,t.memoizedState=z}}function Up(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function zp(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Up(a[t],i)}var Js=C(null),Jl=C(0);function Pp(t,i){t=jn,B(Jl,t),B(Js,i),jn=t|i.baseLanes}function Yu(){B(Jl,jn),B(Js,Js.current)}function Fu(){jn=Jl.current,x(Js),x(Jl)}var Ht=C(null),Jt=null;function mi(t){var i=t.alternate;B(We,We.current&1),B(Ht,t),Jt===null&&(i===null||Js.current!==null||i.memoizedState!==null)&&(Jt=t)}function Ku(t){B(We,We.current),B(Ht,t),Jt===null&&(Jt=t)}function Bp(t){t.tag===22?(B(We,We.current),B(Ht,t),Jt===null&&(Jt=t)):pi()}function pi(){B(We,We.current),B(Ht,Ht.current)}function qt(t){x(Ht),Jt===t&&(Jt=null),x(We)}var We=C(0);function eo(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ed(a)||td(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var kn=0,ae=null,Ne=null,$e=null,to=!1,er=!1,cs=!1,no=0,ca=0,tr=null,D1=0;function Ge(){throw Error(r(321))}function Qu(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Pt(t[a],i[a]))return!1;return!0}function Wu(t,i,a,l,u,d){return kn=d,ae=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,D.H=t===null||t.memoizedState===null?Sg:ff,cs=!1,d=a(l,u),cs=!1,er&&(d=qp(i,a,l,u)),Hp(t),d}function Hp(t){D.H=da;var i=Ne!==null&&Ne.next!==null;if(kn=0,$e=Ne=ae=null,to=!1,ca=0,tr=null,i)throw Error(r(300));t===null||Je||(t=t.dependencies,t!==null&&Fl(t)&&(Je=!0))}function qp(t,i,a,l){ae=t;var u=0;do{if(er&&(tr=null),ca=0,er=!1,25<=u)throw Error(r(301));if(u+=1,$e=Ne=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}D.H=Cg,d=i(a,l)}while(er);return d}function M1(){var t=D.H,i=t.useState()[0];return i=typeof i.then=="function"?ua(i):i,t=t.useState()[0],(Ne!==null?Ne.memoizedState:null)!==t&&(ae.flags|=1024),i}function Xu(){var t=no!==0;return no=0,t}function Zu(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function $u(t){if(to){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}to=!1}kn=0,$e=Ne=ae=null,er=!1,ca=no=0,tr=null}function vt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?ae.memoizedState=$e=t:$e=$e.next=t,$e}function Xe(){if(Ne===null){var t=ae.alternate;t=t!==null?t.memoizedState:null}else t=Ne.next;var i=$e===null?ae.memoizedState:$e.next;if(i!==null)$e=i,Ne=t;else{if(t===null)throw ae.alternate===null?Error(r(467)):Error(r(310));Ne=t,t={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},$e===null?ae.memoizedState=$e=t:$e=$e.next=t}return $e}function io(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ua(t){var i=ca;return ca+=1,tr===null&&(tr=[]),t=Dp(tr,t,i),i=ae,($e===null?i.memoizedState:$e.next)===null&&(i=i.alternate,D.H=i===null||i.memoizedState===null?Sg:ff),t}function so(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ua(t);if(t.$$typeof===V)return dt(t)}throw Error(r(438,String(t)))}function Ju(t){var i=null,a=ae.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(u){return u.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=io(),ae.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=Ue;return i.index++,a}function Ln(t,i){return typeof i=="function"?i(t):i}function ro(t){var i=Xe();return ef(i,Ne,t)}function ef(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var u=t.baseQueue,d=l.pending;if(d!==null){if(u!==null){var g=u.next;u.next=d.next,d.next=g}i.baseQueue=u=d,l.pending=null}if(d=t.baseState,u===null)t.memoizedState=d;else{i=u.next;var v=g=null,b=null,R=i,L=!1;do{var z=R.lane&-536870913;if(z!==R.lane?(me&z)===z:(kn&z)===z){var O=R.revertLane;if(O===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),z===Ws&&(L=!0);else if((kn&O)===O){R=R.next,O===Ws&&(L=!0);continue}else z={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(v=b=z,g=d):b=b.next=z,ae.lanes|=O,vi|=O;z=R.action,cs&&a(d,z),d=R.hasEagerState?R.eagerState:a(d,z)}else O={lane:z,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(v=b=O,g=d):b=b.next=O,ae.lanes|=z,vi|=z;R=R.next}while(R!==null&&R!==i);if(b===null?g=d:b.next=v,!Pt(d,t.memoizedState)&&(Je=!0,L&&(a=Xs,a!==null)))throw a;t.memoizedState=d,t.baseState=g,t.baseQueue=b,l.lastRenderedState=d}return u===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function tf(t){var i=Xe(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,u=a.pending,d=i.memoizedState;if(u!==null){a.pending=null;var g=u=u.next;do d=t(d,g.action),g=g.next;while(g!==u);Pt(d,i.memoizedState)||(Je=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function jp(t,i,a){var l=ae,u=Xe(),d=_e;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var g=!Pt((Ne||u).memoizedState,a);if(g&&(u.memoizedState=a,Je=!0),u=u.queue,rf(Yp.bind(null,l,u,t),[t]),u.getSnapshot!==i||g||$e!==null&&$e.memoizedState.tag&1){if(l.flags|=2048,nr(9,{destroy:void 0},Gp.bind(null,l,u,a,i),null),Me===null)throw Error(r(349));d||(kn&127)!==0||Vp(l,i,a)}return a}function Vp(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=ae.updateQueue,i===null?(i=io(),ae.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Gp(t,i,a,l){i.value=a,i.getSnapshot=l,Fp(i)&&Kp(t)}function Yp(t,i,a){return a(function(){Fp(i)&&Kp(t)})}function Fp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Pt(t,a)}catch{return!0}}function Kp(t){var i=es(t,2);i!==null&&Ot(i,t,2)}function nf(t){var i=vt();if(typeof t=="function"){var a=t;if(t=a(),cs){si(!0);try{a()}finally{si(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:t},i}function Qp(t,i,a,l){return t.baseState=a,ef(t,Ne,typeof l=="function"?l:Ln)}function x1(t,i,a,l,u){if(oo(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};D.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Wp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Wp(t,i){var a=i.action,l=i.payload,u=t.state;if(i.isTransition){var d=D.T,g={};D.T=g;try{var v=a(u,l),b=D.S;b!==null&&b(g,v),Xp(t,i,v)}catch(R){sf(t,i,R)}finally{d!==null&&g.types!==null&&(d.types=g.types),D.T=d}}else try{d=a(u,l),Xp(t,i,d)}catch(R){sf(t,i,R)}}function Xp(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Zp(t,i,l)},function(l){return sf(t,i,l)}):Zp(t,i,a)}function Zp(t,i,a){i.status="fulfilled",i.value=a,$p(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Wp(t,a)))}function sf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,$p(i),i=i.next;while(i!==l)}t.action=null}function $p(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Jp(t,i){return i}function eg(t,i){if(_e){var a=Me.formState;if(a!==null){e:{var l=ae;if(_e){if(ze){t:{for(var u=ze,d=$t;u.nodeType!==8;){if(!d){u=null;break t}if(u=en(u.nextSibling),u===null){u=null;break t}}d=u.data,u=d==="F!"||d==="F"?u:null}if(u){ze=en(u.nextSibling),l=u.data==="F!";break e}}ci(l)}l=!1}l&&(i=a[0])}}return a=vt(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jp,lastRenderedState:i},a.queue=l,a=yg.bind(null,ae,l),l.dispatch=a,l=nf(!1),d=uf.bind(null,ae,!1,l.queue),l=vt(),u={state:i,dispatch:null,action:t,pending:null},l.queue=u,a=x1.bind(null,ae,u,d,a),u.dispatch=a,l.memoizedState=t,[i,a,!1]}function tg(t){var i=Xe();return ng(i,Ne,t)}function ng(t,i,a){if(i=ef(t,i,Jp)[0],t=ro(Ln)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ua(i)}catch(g){throw g===Zs?Wl:g}else l=i;i=Xe();var u=i.queue,d=u.dispatch;return a!==i.memoizedState&&(ae.flags|=2048,nr(9,{destroy:void 0},k1.bind(null,u,a),null)),[l,d,t]}function k1(t,i){t.action=i}function ig(t){var i=Xe(),a=Ne;if(a!==null)return ng(i,a,t);Xe(),i=i.memoizedState,a=Xe();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function nr(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=ae.updateQueue,i===null&&(i=io(),ae.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function sg(){return Xe().memoizedState}function ao(t,i,a,l){var u=vt();ae.flags|=t,u.memoizedState=nr(1|i,{destroy:void 0},a,l===void 0?null:l)}function lo(t,i,a,l){var u=Xe();l=l===void 0?null:l;var d=u.memoizedState.inst;Ne!==null&&l!==null&&Qu(l,Ne.memoizedState.deps)?u.memoizedState=nr(i,d,a,l):(ae.flags|=t,u.memoizedState=nr(1|i,d,a,l))}function rg(t,i){ao(8390656,8,t,i)}function rf(t,i){lo(2048,8,t,i)}function L1(t){ae.flags|=4;var i=ae.updateQueue;if(i===null)i=io(),ae.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function ag(t){var i=Xe().memoizedState;return L1({ref:i,nextImpl:t}),function(){if((be&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function lg(t,i){return lo(4,2,t,i)}function og(t,i){return lo(4,4,t,i)}function cg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ug(t,i,a){a=a!=null?a.concat([t]):null,lo(4,4,cg.bind(null,i,t),a)}function af(){}function fg(t,i){var a=Xe();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Qu(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function dg(t,i){var a=Xe();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Qu(i,l[1]))return l[0];if(l=t(),cs){si(!0);try{t()}finally{si(!1)}}return a.memoizedState=[l,i],l}function lf(t,i,a){return a===void 0||(kn&1073741824)!==0&&(me&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=h_(),ae.lanes|=t,vi|=t,a)}function hg(t,i,a,l){return Pt(a,i)?a:Js.current!==null?(t=lf(t,a,l),Pt(t,i)||(Je=!0),t):(kn&42)===0||(kn&1073741824)!==0&&(me&261930)===0?(Je=!0,t.memoizedState=a):(t=h_(),ae.lanes|=t,vi|=t,i)}function mg(t,i,a,l,u){var d=F.p;F.p=d!==0&&8>d?d:8;var g=D.T,v={};D.T=v,uf(t,!1,i,a);try{var b=u(),R=D.S;if(R!==null&&R(v,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var L=I1(b,l);fa(t,i,L,Gt(t))}else fa(t,i,l,Gt(t))}catch(z){fa(t,i,{then:function(){},status:"rejected",reason:z},Gt())}finally{F.p=d,g!==null&&v.types!==null&&(g.types=v.types),D.T=g}}function U1(){}function of(t,i,a,l){if(t.tag!==5)throw Error(r(476));var u=pg(t).queue;mg(t,u,i,te,a===null?U1:function(){return gg(t),a(l)})}function pg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:te},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function gg(t){var i=pg(t);i.next===null&&(i=t.alternate.memoizedState),fa(t,i.next.queue,{},Gt())}function cf(){return dt(Na)}function _g(){return Xe().memoizedState}function vg(){return Xe().memoizedState}function z1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Gt();t=di(a);var l=hi(i,t,a);l!==null&&(Ot(l,i,a),aa(l,i,a)),i={cache:zu()},t.payload=i;return}i=i.return}}function P1(t,i,a){var l=Gt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oo(t)?Eg(i,a):(a=Au(t,i,a,l),a!==null&&(Ot(a,t,l),bg(a,i,l)))}function yg(t,i,a){var l=Gt();fa(t,i,a,l)}function fa(t,i,a,l){var u={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oo(t))Eg(i,u);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var g=i.lastRenderedState,v=d(g,a);if(u.hasEagerState=!0,u.eagerState=v,Pt(v,g))return jl(t,i,u,0),Me===null&&ql(),!1}catch{}if(a=Au(t,i,u,l),a!==null)return Ot(a,t,l),bg(a,i,l),!0}return!1}function uf(t,i,a,l){if(l={lane:2,revertLane:jf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},oo(t)){if(i)throw Error(r(479))}else i=Au(t,a,l,2),i!==null&&Ot(i,t,2)}function oo(t){var i=t.alternate;return t===ae||i!==null&&i===ae}function Eg(t,i){er=to=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function bg(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Am(t,a)}}var da={readContext:dt,use:so,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};da.useEffectEvent=Ge;var Sg={readContext:dt,use:so,useCallback:function(t,i){return vt().memoizedState=[t,i===void 0?null:i],t},useContext:dt,useEffect:rg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ao(4194308,4,cg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ao(4194308,4,t,i)},useInsertionEffect:function(t,i){ao(4,2,t,i)},useMemo:function(t,i){var a=vt();i=i===void 0?null:i;var l=t();if(cs){si(!0);try{t()}finally{si(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=vt();if(a!==void 0){var u=a(i);if(cs){si(!0);try{a(i)}finally{si(!1)}}}else u=i;return l.memoizedState=l.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},l.queue=t,t=t.dispatch=P1.bind(null,ae,t),[l.memoizedState,t]},useRef:function(t){var i=vt();return t={current:t},i.memoizedState=t},useState:function(t){t=nf(t);var i=t.queue,a=yg.bind(null,ae,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:af,useDeferredValue:function(t,i){var a=vt();return lf(a,t,i)},useTransition:function(){var t=nf(!1);return t=mg.bind(null,ae,t.queue,!0,!1),vt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=ae,u=vt();if(_e){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),Me===null)throw Error(r(349));(me&127)!==0||Vp(l,i,a)}u.memoizedState=a;var d={value:a,getSnapshot:i};return u.queue=d,rg(Yp.bind(null,l,d,t),[t]),l.flags|=2048,nr(9,{destroy:void 0},Gp.bind(null,l,d,a,i),null),a},useId:function(){var t=vt(),i=Me.identifierPrefix;if(_e){var a=yn,l=vn;a=(l&~(1<<32-zt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=no++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=D1++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:cf,useFormState:eg,useActionState:eg,useOptimistic:function(t){var i=vt();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=uf.bind(null,ae,!0,a),a.dispatch=i,[t,i]},useMemoCache:Ju,useCacheRefresh:function(){return vt().memoizedState=z1.bind(null,ae)},useEffectEvent:function(t){var i=vt(),a={impl:t};return i.memoizedState=a,function(){if((be&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},ff={readContext:dt,use:so,useCallback:fg,useContext:dt,useEffect:rf,useImperativeHandle:ug,useInsertionEffect:lg,useLayoutEffect:og,useMemo:dg,useReducer:ro,useRef:sg,useState:function(){return ro(Ln)},useDebugValue:af,useDeferredValue:function(t,i){var a=Xe();return hg(a,Ne.memoizedState,t,i)},useTransition:function(){var t=ro(Ln)[0],i=Xe().memoizedState;return[typeof t=="boolean"?t:ua(t),i]},useSyncExternalStore:jp,useId:_g,useHostTransitionStatus:cf,useFormState:tg,useActionState:tg,useOptimistic:function(t,i){var a=Xe();return Qp(a,Ne,t,i)},useMemoCache:Ju,useCacheRefresh:vg};ff.useEffectEvent=ag;var Cg={readContext:dt,use:so,useCallback:fg,useContext:dt,useEffect:rf,useImperativeHandle:ug,useInsertionEffect:lg,useLayoutEffect:og,useMemo:dg,useReducer:tf,useRef:sg,useState:function(){return tf(Ln)},useDebugValue:af,useDeferredValue:function(t,i){var a=Xe();return Ne===null?lf(a,t,i):hg(a,Ne.memoizedState,t,i)},useTransition:function(){var t=tf(Ln)[0],i=Xe().memoizedState;return[typeof t=="boolean"?t:ua(t),i]},useSyncExternalStore:jp,useId:_g,useHostTransitionStatus:cf,useFormState:ig,useActionState:ig,useOptimistic:function(t,i){var a=Xe();return Ne!==null?Qp(a,Ne,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ju,useCacheRefresh:vg};Cg.useEffectEvent=ag;function df(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:_({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var hf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Gt(),u=di(l);u.payload=i,a!=null&&(u.callback=a),i=hi(t,u,l),i!==null&&(Ot(i,t,l),aa(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Gt(),u=di(l);u.tag=1,u.payload=i,a!=null&&(u.callback=a),i=hi(t,u,l),i!==null&&(Ot(i,t,l),aa(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Gt(),l=di(a);l.tag=2,i!=null&&(l.callback=i),i=hi(t,l,a),i!==null&&(Ot(i,t,a),aa(i,t,a))}};function Tg(t,i,a,l,u,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,g):i.prototype&&i.prototype.isPureReactComponent?!$r(a,l)||!$r(u,d):!0}function wg(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&hf.enqueueReplaceState(i,i.state,null)}function us(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=_({},a));for(var u in t)a[u]===void 0&&(a[u]=t[u])}return a}function Ag(t){Hl(t)}function Rg(t){console.error(t)}function Ng(t){Hl(t)}function co(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Og(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function mf(t,i,a){return a=di(a),a.tag=3,a.payload={element:null},a.callback=function(){co(t,i)},a}function Ig(t){return t=di(t),t.tag=3,t}function Dg(t,i,a,l){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var d=l.value;t.payload=function(){return u(d)},t.callback=function(){Og(i,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Og(i,a,l),typeof u!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function B1(t,i,a,l,u){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Qs(i,a,u,!0),a=Ht.current,a!==null){switch(a.tag){case 31:case 13:return Jt===null?So():a.alternate===null&&Ye===0&&(Ye=3),a.flags&=-257,a.flags|=65536,a.lanes=u,l===Xl?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Bf(t,l,u)),!1;case 22:return a.flags|=65536,l===Xl?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Bf(t,l,u)),!1}throw Error(r(435,a.tag))}return Bf(t,l,u),So(),!1}if(_e)return i=Ht.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=u,l!==Mu&&(t=Error(r(422),{cause:l}),ta(Wt(t,a)))):(l!==Mu&&(i=Error(r(423),{cause:l}),ta(Wt(i,a))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,l=Wt(l,a),u=mf(t.stateNode,l,u),Vu(t,u),Ye!==4&&(Ye=2)),!1;var d=Error(r(520),{cause:l});if(d=Wt(d,a),Ea===null?Ea=[d]:Ea.push(d),Ye!==4&&(Ye=2),i===null)return!0;l=Wt(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=u&-u,a.lanes|=t,t=mf(a.stateNode,l,t),Vu(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(yi===null||!yi.has(d))))return a.flags|=65536,u&=-u,a.lanes|=u,u=Ig(u),Dg(u,t,a,l),Vu(a,u),!1}a=a.return}while(a!==null);return!1}var pf=Error(r(461)),Je=!1;function ht(t,i,a,l){i.child=t===null?Lp(i,null,a,l):os(i,t.child,a,l)}function Mg(t,i,a,l,u){a=a.render;var d=i.ref;if("ref"in l){var g={};for(var v in l)v!=="ref"&&(g[v]=l[v])}else g=l;return ss(i),l=Wu(t,i,a,g,d,u),v=Xu(),t!==null&&!Je?(Zu(t,i,u),Un(t,i,u)):(_e&&v&&Iu(i),i.flags|=1,ht(t,i,l,u),i.child)}function xg(t,i,a,l,u){if(t===null){var d=a.type;return typeof d=="function"&&!Ru(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,kg(t,i,d,l,u)):(t=Gl(a.type,null,l,i,i.mode,u),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Cf(t,u)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:$r,a(g,l)&&t.ref===i.ref)return Un(t,i,u)}return i.flags|=1,t=In(d,l),t.ref=i.ref,t.return=i,i.child=t}function kg(t,i,a,l,u){if(t!==null){var d=t.memoizedProps;if($r(d,l)&&t.ref===i.ref)if(Je=!1,i.pendingProps=l=d,Cf(t,u))(t.flags&131072)!==0&&(Je=!0);else return i.lanes=t.lanes,Un(t,i,u)}return gf(t,i,a,l,u)}function Lg(t,i,a,l){var u=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~d}else l=0,i.child=null;return Ug(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ql(i,d!==null?d.cachePool:null),d!==null?Pp(i,d):Yu(),Bp(i);else return l=i.lanes=536870912,Ug(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Ql(i,d.cachePool),Pp(i,d),pi(),i.memoizedState=null):(t!==null&&Ql(i,null),Yu(),pi());return ht(t,i,u,a),i.child}function ha(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ug(t,i,a,l,u){var d=Bu();return d=d===null?null:{parent:Ze._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Ql(i,null),Yu(),Bp(i),t!==null&&Qs(t,i,l,!0),i.childLanes=u,null}function uo(t,i){return i=ho({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function zg(t,i,a){return os(i,t.child,null,a),t=uo(i,i.pendingProps),t.flags|=2,qt(i),i.memoizedState=null,t}function H1(t,i,a){var l=i.pendingProps,u=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(_e){if(l.mode==="hidden")return t=uo(i,l),i.lanes=536870912,ha(null,t);if(Ku(i),(t=ze)?(t=W_(t,$t),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:li!==null?{id:vn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},a=Ep(t),a.return=i,i.child=a,ft=i,ze=null)):t=null,t===null)throw ci(i);return i.lanes=536870912,null}return uo(i,l)}var d=t.memoizedState;if(d!==null){var g=d.dehydrated;if(Ku(i),u)if(i.flags&256)i.flags&=-257,i=zg(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Je||Qs(t,i,a,!1),u=(a&t.childLanes)!==0,Je||u){if(l=Me,l!==null&&(g=Rm(l,a),g!==0&&g!==d.retryLane))throw d.retryLane=g,es(t,g),Ot(l,t,g),pf;So(),i=zg(t,i,a)}else t=d.treeContext,ze=en(g.nextSibling),ft=i,_e=!0,oi=null,$t=!1,t!==null&&Cp(i,t),i=uo(i,l),i.flags|=4096;return i}return t=In(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function fo(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function gf(t,i,a,l,u){return ss(i),a=Wu(t,i,a,l,void 0,u),l=Xu(),t!==null&&!Je?(Zu(t,i,u),Un(t,i,u)):(_e&&l&&Iu(i),i.flags|=1,ht(t,i,a,u),i.child)}function Pg(t,i,a,l,u,d){return ss(i),i.updateQueue=null,a=qp(i,l,a,u),Hp(t),l=Xu(),t!==null&&!Je?(Zu(t,i,d),Un(t,i,d)):(_e&&l&&Iu(i),i.flags|=1,ht(t,i,a,d),i.child)}function Bg(t,i,a,l,u){if(ss(i),i.stateNode===null){var d=Gs,g=a.contextType;typeof g=="object"&&g!==null&&(d=dt(g)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},qu(i),g=a.contextType,d.context=typeof g=="object"&&g!==null?dt(g):Gs,d.state=i.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(df(i,a,g,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&hf.enqueueReplaceState(d,d.state,null),oa(i,l,d,u),la(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var v=i.memoizedProps,b=us(a,v);d.props=b;var R=d.context,L=a.contextType;g=Gs,typeof L=="object"&&L!==null&&(g=dt(L));var z=a.getDerivedStateFromProps;L=typeof z=="function"||typeof d.getSnapshotBeforeUpdate=="function",v=i.pendingProps!==v,L||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v||R!==g)&&wg(i,d,l,g),fi=!1;var O=i.memoizedState;d.state=O,oa(i,l,d,u),la(),R=i.memoizedState,v||O!==R||fi?(typeof z=="function"&&(df(i,a,z,l),R=i.memoizedState),(b=fi||Tg(i,a,b,l,O,R,g))?(L||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=R),d.props=l,d.state=R,d.context=g,l=b):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ju(t,i),g=i.memoizedProps,L=us(a,g),d.props=L,z=i.pendingProps,O=d.context,R=a.contextType,b=Gs,typeof R=="object"&&R!==null&&(b=dt(R)),v=a.getDerivedStateFromProps,(R=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==z||O!==b)&&wg(i,d,l,b),fi=!1,O=i.memoizedState,d.state=O,oa(i,l,d,u),la();var M=i.memoizedState;g!==z||O!==M||fi||t!==null&&t.dependencies!==null&&Fl(t.dependencies)?(typeof v=="function"&&(df(i,a,v,l),M=i.memoizedState),(L=fi||Tg(i,a,L,l,O,M,b)||t!==null&&t.dependencies!==null&&Fl(t.dependencies))?(R||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,M,b),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,M,b)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=M),d.props=l,d.state=M,d.context=b,l=L):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,fo(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=os(i,t.child,null,u),i.child=os(i,null,a,u)):ht(t,i,a,u),i.memoizedState=d.state,t=i.child):t=Un(t,i,u),t}function Hg(t,i,a,l){return ns(),i.flags|=256,ht(t,i,a,l),i.child}var _f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vf(t){return{baseLanes:t,cachePool:Op()}}function yf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Vt),t}function qg(t,i,a){var l=i.pendingProps,u=!1,d=(i.flags&128)!==0,g;if((g=d)||(g=t!==null&&t.memoizedState===null?!1:(We.current&2)!==0),g&&(u=!0,i.flags&=-129),g=(i.flags&32)!==0,i.flags&=-33,t===null){if(_e){if(u?mi(i):pi(),(t=ze)?(t=W_(t,$t),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:li!==null?{id:vn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},a=Ep(t),a.return=i,i.child=a,ft=i,ze=null)):t=null,t===null)throw ci(i);return td(t)?i.lanes=32:i.lanes=536870912,null}var v=l.children;return l=l.fallback,u?(pi(),u=i.mode,v=ho({mode:"hidden",children:v},u),l=ts(l,u,a,null),v.return=i,l.return=i,v.sibling=l,i.child=v,l=i.child,l.memoizedState=vf(a),l.childLanes=yf(t,g,a),i.memoizedState=_f,ha(null,l)):(mi(i),Ef(i,v))}var b=t.memoizedState;if(b!==null&&(v=b.dehydrated,v!==null)){if(d)i.flags&256?(mi(i),i.flags&=-257,i=bf(t,i,a)):i.memoizedState!==null?(pi(),i.child=t.child,i.flags|=128,i=null):(pi(),v=l.fallback,u=i.mode,l=ho({mode:"visible",children:l.children},u),v=ts(v,u,a,null),v.flags|=2,l.return=i,v.return=i,l.sibling=v,i.child=l,os(i,t.child,null,a),l=i.child,l.memoizedState=vf(a),l.childLanes=yf(t,g,a),i.memoizedState=_f,i=ha(null,l));else if(mi(i),td(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var R=g.dgst;g=R,l=Error(r(419)),l.stack="",l.digest=g,ta({value:l,source:null,stack:null}),i=bf(t,i,a)}else if(Je||Qs(t,i,a,!1),g=(a&t.childLanes)!==0,Je||g){if(g=Me,g!==null&&(l=Rm(g,a),l!==0&&l!==b.retryLane))throw b.retryLane=l,es(t,l),Ot(g,t,l),pf;ed(v)||So(),i=bf(t,i,a)}else ed(v)?(i.flags|=192,i.child=t.child,i=null):(t=b.treeContext,ze=en(v.nextSibling),ft=i,_e=!0,oi=null,$t=!1,t!==null&&Cp(i,t),i=Ef(i,l.children),i.flags|=4096);return i}return u?(pi(),v=l.fallback,u=i.mode,b=t.child,R=b.sibling,l=In(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,R!==null?v=In(R,v):(v=ts(v,u,a,null),v.flags|=2),v.return=i,l.return=i,l.sibling=v,i.child=l,ha(null,l),l=i.child,v=t.child.memoizedState,v===null?v=vf(a):(u=v.cachePool,u!==null?(b=Ze._currentValue,u=u.parent!==b?{parent:b,pool:b}:u):u=Op(),v={baseLanes:v.baseLanes|a,cachePool:u}),l.memoizedState=v,l.childLanes=yf(t,g,a),i.memoizedState=_f,ha(t.child,l)):(mi(i),a=t.child,t=a.sibling,a=In(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(g=i.deletions,g===null?(i.deletions=[t],i.flags|=16):g.push(t)),i.child=a,i.memoizedState=null,a)}function Ef(t,i){return i=ho({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function ho(t,i){return t=Bt(22,t,null,i),t.lanes=0,t}function bf(t,i,a){return os(i,t.child,null,a),t=Ef(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function jg(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Lu(t.return,i,a)}function Sf(t,i,a,l,u,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:u,treeForkCount:d}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=u,g.treeForkCount=d)}function Vg(t,i,a){var l=i.pendingProps,u=l.revealOrder,d=l.tail;l=l.children;var g=We.current,v=(g&2)!==0;if(v?(g=g&1|2,i.flags|=128):g&=1,B(We,g),ht(t,i,l,a),l=_e?ea:0,!v&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jg(t,a,i);else if(t.tag===19)jg(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(a=i.child,u=null;a!==null;)t=a.alternate,t!==null&&eo(t)===null&&(u=a),a=a.sibling;a=u,a===null?(u=i.child,i.child=null):(u=a.sibling,a.sibling=null),Sf(i,!1,u,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=i.child,i.child=null;u!==null;){if(t=u.alternate,t!==null&&eo(t)===null){i.child=u;break}t=u.sibling,u.sibling=a,a=u,u=t}Sf(i,!0,a,null,d,l);break;case"together":Sf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Un(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),vi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Qs(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=In(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=In(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Cf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Fl(t)))}function q1(t,i,a){switch(i.tag){case 3:_t(i,i.stateNode.containerInfo),ui(i,Ze,t.memoizedState.cache),ns();break;case 27:case 5:Br(i);break;case 4:_t(i,i.stateNode.containerInfo);break;case 10:ui(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ku(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(mi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?qg(t,i,a):(mi(i),t=Un(t,i,a),t!==null?t.sibling:null);mi(i);break;case 19:var u=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Qs(t,i,a,!1),l=(a&i.childLanes)!==0),u){if(l)return Vg(t,i,a);i.flags|=128}if(u=i.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),B(We,We.current),l)break;return null;case 22:return i.lanes=0,Lg(t,i,a,i.pendingProps);case 24:ui(i,Ze,t.memoizedState.cache)}return Un(t,i,a)}function Gg(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Je=!0;else{if(!Cf(t,a)&&(i.flags&128)===0)return Je=!1,q1(t,i,a);Je=(t.flags&131072)!==0}else Je=!1,_e&&(i.flags&1048576)!==0&&Sp(i,ea,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=as(i.elementType),i.type=t,typeof t=="function")Ru(t)?(l=us(t,l),i.tag=1,i=Bg(null,i,t,l,a)):(i.tag=0,i=gf(null,i,t,l,a));else{if(t!=null){var u=t.$$typeof;if(u===oe){i.tag=11,i=Mg(null,i,t,l,a);break e}else if(u===Z){i.tag=14,i=xg(null,i,t,l,a);break e}}throw i=Yt(t)||t,Error(r(306,i,""))}}return i;case 0:return gf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,u=us(l,i.pendingProps),Bg(t,i,l,u,a);case 3:e:{if(_t(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;u=d.element,ju(t,i),oa(i,l,null,a);var g=i.memoizedState;if(l=g.cache,ui(i,Ze,l),l!==d.cache&&Uu(i,[Ze],a,!0),la(),l=g.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:g.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Hg(t,i,l,a);break e}else if(l!==u){u=Wt(Error(r(424)),i),ta(u),i=Hg(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ze=en(t.firstChild),ft=i,_e=!0,oi=null,$t=!0,a=Lp(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ns(),l===u){i=Un(t,i,a);break e}ht(t,i,l,a)}i=i.child}return i;case 26:return fo(t,i),t===null?(a=tv(i.type,null,i.pendingProps,null))?i.memoizedState=a:_e||(a=i.type,t=i.pendingProps,l=Oo(re.current).createElement(a),l[ut]=i,l[Ct]=t,mt(l,a,t),rt(l),i.stateNode=l):i.memoizedState=tv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Br(i),t===null&&_e&&(l=i.stateNode=$_(i.type,i.pendingProps,re.current),ft=i,$t=!0,u=ze,Ci(i.type)?(nd=u,ze=en(l.firstChild)):ze=u),ht(t,i,i.pendingProps.children,a),fo(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&_e&&((u=l=ze)&&(l=_C(l,i.type,i.pendingProps,$t),l!==null?(i.stateNode=l,ft=i,ze=en(l.firstChild),$t=!1,u=!0):u=!1),u||ci(i)),Br(i),u=i.type,d=i.pendingProps,g=t!==null?t.memoizedProps:null,l=d.children,Zf(u,d)?l=null:g!==null&&Zf(u,g)&&(i.flags|=32),i.memoizedState!==null&&(u=Wu(t,i,M1,null,null,a),Na._currentValue=u),fo(t,i),ht(t,i,l,a),i.child;case 6:return t===null&&_e&&((t=a=ze)&&(a=vC(a,i.pendingProps,$t),a!==null?(i.stateNode=a,ft=i,ze=null,t=!0):t=!1),t||ci(i)),null;case 13:return qg(t,i,a);case 4:return _t(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=os(i,null,l,a):ht(t,i,l,a),i.child;case 11:return Mg(t,i,i.type,i.pendingProps,a);case 7:return ht(t,i,i.pendingProps,a),i.child;case 8:return ht(t,i,i.pendingProps.children,a),i.child;case 12:return ht(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ui(i,i.type,l.value),ht(t,i,l.children,a),i.child;case 9:return u=i.type._context,l=i.pendingProps.children,ss(i),u=dt(u),l=l(u),i.flags|=1,ht(t,i,l,a),i.child;case 14:return xg(t,i,i.type,i.pendingProps,a);case 15:return kg(t,i,i.type,i.pendingProps,a);case 19:return Vg(t,i,a);case 31:return H1(t,i,a);case 22:return Lg(t,i,a,i.pendingProps);case 24:return ss(i),l=dt(Ze),t===null?(u=Bu(),u===null&&(u=Me,d=zu(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=a),u=d),i.memoizedState={parent:l,cache:u},qu(i),ui(i,Ze,u)):((t.lanes&a)!==0&&(ju(t,i),oa(i,null,null,a),la()),u=t.memoizedState,d=i.memoizedState,u.parent!==l?(u={parent:l,cache:l},i.memoizedState=u,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=u),ui(i,Ze,l)):(l=d.cache,ui(i,Ze,l),l!==u.cache&&Uu(i,[Ze],a,!0))),ht(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function zn(t){t.flags|=4}function Tf(t,i,a,l,u){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(__())t.flags|=8192;else throw ls=Xl,Hu}else t.flags&=-16777217}function Yg(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!av(i))if(__())t.flags|=8192;else throw ls=Xl,Hu}function mo(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Tm():536870912,t.lanes|=i,ar|=i)}function ma(t,i){if(!_e)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Pe(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var u=t.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function j1(t,i,a){var l=i.pendingProps;switch(Du(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(i),null;case 1:return Pe(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),xn(Ze),Qe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ks(i)?zn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xu())),Pe(i),null;case 26:var u=i.type,d=i.memoizedState;return t===null?(zn(i),d!==null?(Pe(i),Yg(i,d)):(Pe(i),Tf(i,u,null,l,a))):d?d!==t.memoizedState?(zn(i),Pe(i),Yg(i,d)):(Pe(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&zn(i),Pe(i),Tf(i,u,t,l,a)),null;case 27:if(Tl(i),a=re.current,u=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&zn(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return Pe(i),null}t=Y.current,Ks(i)?Tp(i):(t=$_(u,l,a),i.stateNode=t,zn(i))}return Pe(i),null;case 5:if(Tl(i),u=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&zn(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return Pe(i),null}if(d=Y.current,Ks(i))Tp(i);else{var g=Oo(re.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?g.createElement(u,{is:l.is}):g.createElement(u)}}d[ut]=i,d[Ct]=l;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=d;e:switch(mt(d,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&zn(i)}}return Pe(i),Tf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&zn(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=re.current,Ks(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,u=ft,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}t[ut]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||q_(t.nodeValue,a)),t||ci(i,!0)}else t=Oo(t).createTextNode(l),t[ut]=i,i.stateNode=t}return Pe(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ks(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[ut]=i}else ns(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Pe(i),t=!1}else a=xu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(qt(i),i):(qt(i),null);if((i.flags&128)!==0)throw Error(r(558))}return Pe(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Ks(i),l!==null&&l.dehydrated!==null){if(t===null){if(!u)throw Error(r(318));if(u=i.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[ut]=i}else ns(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Pe(i),u=!1}else u=xu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return i.flags&256?(qt(i),i):(qt(i),null)}return qt(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==u&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),mo(i,i.updateQueue),Pe(i),null);case 4:return Qe(),t===null&&Ff(i.stateNode.containerInfo),Pe(i),null;case 10:return xn(i.type),Pe(i),null;case 19:if(x(We),l=i.memoizedState,l===null)return Pe(i),null;if(u=(i.flags&128)!==0,d=l.rendering,d===null)if(u)ma(l,!1);else{if(Ye!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=eo(t),d!==null){for(i.flags|=128,ma(l,!1),t=d.updateQueue,i.updateQueue=t,mo(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)yp(a,t),a=a.sibling;return B(We,We.current&1|2),_e&&Dn(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Lt()>yo&&(i.flags|=128,u=!0,ma(l,!1),i.lanes=4194304)}else{if(!u)if(t=eo(d),t!==null){if(i.flags|=128,u=!0,t=t.updateQueue,i.updateQueue=t,mo(i,t),ma(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!_e)return Pe(i),null}else 2*Lt()-l.renderingStartTime>yo&&a!==536870912&&(i.flags|=128,u=!0,ma(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Lt(),t.sibling=null,a=We.current,B(We,u?a&1|2:a&1),_e&&Dn(i,l.treeForkCount),t):(Pe(i),null);case 22:case 23:return qt(i),Fu(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Pe(i),i.subtreeFlags&6&&(i.flags|=8192)):Pe(i),a=i.updateQueue,a!==null&&mo(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&x(rs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),xn(Ze),Pe(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function V1(t,i){switch(Du(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return xn(Ze),Qe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Tl(i),null;case 31:if(i.memoizedState!==null){if(qt(i),i.alternate===null)throw Error(r(340));ns()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(qt(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ns()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return x(We),null;case 4:return Qe(),null;case 10:return xn(i.type),null;case 22:case 23:return qt(i),Fu(),t!==null&&x(rs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return xn(Ze),null;case 25:return null;default:return null}}function Fg(t,i){switch(Du(i),i.tag){case 3:xn(Ze),Qe();break;case 26:case 27:case 5:Tl(i);break;case 4:Qe();break;case 31:i.memoizedState!==null&&qt(i);break;case 13:qt(i);break;case 19:x(We);break;case 10:xn(i.type);break;case 22:case 23:qt(i),Fu(),t!==null&&x(rs);break;case 24:xn(Ze)}}function pa(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var u=l.next;a=u;do{if((a.tag&t)===t){l=void 0;var d=a.create,g=a.inst;l=d(),g.destroy=l}a=a.next}while(a!==u)}}catch(v){Re(i,i.return,v)}}function gi(t,i,a){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var d=u.next;l=d;do{if((l.tag&t)===t){var g=l.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,u=i;var b=a,R=v;try{R()}catch(L){Re(u,b,L)}}}l=l.next}while(l!==d)}}catch(L){Re(i,i.return,L)}}function Kg(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{zp(i,a)}catch(l){Re(t,t.return,l)}}}function Qg(t,i,a){a.props=us(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Re(t,i,l)}}function ga(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(u){Re(t,i,u)}}function En(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(u){Re(t,i,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Re(t,i,u)}else a.current=null}function Wg(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(u){Re(t,t.return,u)}}function wf(t,i,a){try{var l=t.stateNode;fC(l,t.type,a,i),l[Ct]=i}catch(u){Re(t,t.return,u)}}function Xg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ci(t.type)||t.tag===4}function Af(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ci(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Nn));else if(l!==4&&(l===27&&Ci(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Rf(t,i,a),t=t.sibling;t!==null;)Rf(t,i,a),t=t.sibling}function po(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Ci(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(po(t,i,a),t=t.sibling;t!==null;)po(t,i,a),t=t.sibling}function Zg(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,u=i.attributes;u.length;)i.removeAttributeNode(u[0]);mt(i,l,a),i[ut]=t,i[Ct]=a}catch(d){Re(t,t.return,d)}}var Pn=!1,et=!1,Nf=!1,$g=typeof WeakSet=="function"?WeakSet:Set,at=null;function G1(t,i){if(t=t.containerInfo,Wf=Uo,t=up(t),Eu(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var g=0,v=-1,b=-1,R=0,L=0,z=t,O=null;t:for(;;){for(var M;z!==a||u!==0&&z.nodeType!==3||(v=g+u),z!==d||l!==0&&z.nodeType!==3||(b=g+l),z.nodeType===3&&(g+=z.nodeValue.length),(M=z.firstChild)!==null;)O=z,z=M;for(;;){if(z===t)break t;if(O===a&&++R===u&&(v=g),O===d&&++L===l&&(b=g),(M=z.nextSibling)!==null)break;z=O,O=z.parentNode}z=M}a=v===-1||b===-1?null:{start:v,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xf={focusedElem:t,selectionRange:a},Uo=!1,at=i;at!==null;)if(i=at,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,at=t;else for(;at!==null;){switch(i=at,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)u=t[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,u=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var K=us(a.type,u);t=l.getSnapshotBeforeUpdate(K,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(J){Re(a,a.return,J)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Jf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,at=t;break}at=i.return}}function Jg(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Hn(t,a),l&4&&pa(5,a);break;case 1:if(Hn(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(g){Re(a,a.return,g)}else{var u=us(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(u,i,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Re(a,a.return,g)}}l&64&&Kg(a),l&512&&ga(a,a.return);break;case 3:if(Hn(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{zp(t,i)}catch(g){Re(a,a.return,g)}}break;case 27:i===null&&l&4&&Zg(a);case 26:case 5:Hn(t,a),i===null&&l&4&&Wg(a),l&512&&ga(a,a.return);break;case 12:Hn(t,a);break;case 31:Hn(t,a),l&4&&n_(t,a);break;case 13:Hn(t,a),l&4&&i_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=J1.bind(null,a),yC(t,a))));break;case 22:if(l=a.memoizedState!==null||Pn,!l){i=i!==null&&i.memoizedState!==null||et,u=Pn;var d=et;Pn=l,(et=i)&&!d?qn(t,a,(a.subtreeFlags&8772)!==0):Hn(t,a),Pn=u,et=d}break;case 30:break;default:Hn(t,a)}}function e_(t){var i=t.alternate;i!==null&&(t.alternate=null,e_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&iu(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var qe=null,wt=!1;function Bn(t,i,a){for(a=a.child;a!==null;)t_(t,i,a),a=a.sibling}function t_(t,i,a){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Hr,a)}catch{}switch(a.tag){case 26:et||En(a,i),Bn(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:et||En(a,i);var l=qe,u=wt;Ci(a.type)&&(qe=a.stateNode,wt=!1),Bn(t,i,a),wa(a.stateNode),qe=l,wt=u;break;case 5:et||En(a,i);case 6:if(l=qe,u=wt,qe=null,Bn(t,i,a),qe=l,wt=u,qe!==null)if(wt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(a.stateNode)}catch(d){Re(a,i,d)}else try{qe.removeChild(a.stateNode)}catch(d){Re(a,i,d)}break;case 18:qe!==null&&(wt?(t=qe,K_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),mr(t)):K_(qe,a.stateNode));break;case 4:l=qe,u=wt,qe=a.stateNode.containerInfo,wt=!0,Bn(t,i,a),qe=l,wt=u;break;case 0:case 11:case 14:case 15:gi(2,a,i),et||gi(4,a,i),Bn(t,i,a);break;case 1:et||(En(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Qg(a,i,l)),Bn(t,i,a);break;case 21:Bn(t,i,a);break;case 22:et=(l=et)||a.memoizedState!==null,Bn(t,i,a),et=l;break;default:Bn(t,i,a)}}function n_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{mr(t)}catch(a){Re(i,i.return,a)}}}function i_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{mr(t)}catch(a){Re(i,i.return,a)}}function Y1(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new $g),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new $g),i;default:throw Error(r(435,t.tag))}}function go(t,i){var a=Y1(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var u=eC.bind(null,t,l);l.then(u,u)}})}function At(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var u=a[l],d=t,g=i,v=g;e:for(;v!==null;){switch(v.tag){case 27:if(Ci(v.type)){qe=v.stateNode,wt=!1;break e}break;case 5:qe=v.stateNode,wt=!1;break e;case 3:case 4:qe=v.stateNode.containerInfo,wt=!0;break e}v=v.return}if(qe===null)throw Error(r(160));t_(d,g,u),qe=null,wt=!1,d=u.alternate,d!==null&&(d.return=null),u.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)s_(i,t),i=i.sibling}var on=null;function s_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:At(i,t),Rt(t),l&4&&(gi(3,t,t.return),pa(3,t),gi(5,t,t.return));break;case 1:At(i,t),Rt(t),l&512&&(et||a===null||En(a,a.return)),l&64&&Pn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var u=on;if(At(i,t),Rt(t),l&512&&(et||a===null||En(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":d=u.getElementsByTagName("title")[0],(!d||d[Vr]||d[ut]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=u.createElement(l),u.head.insertBefore(d,u.querySelector("head > title"))),mt(d,l,a),d[ut]=t,rt(d),l=d;break e;case"link":var g=sv("link","href",u).get(l+(a.href||""));if(g){for(var v=0;v<g.length;v++)if(d=g[v],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(v,1);break t}}d=u.createElement(l),mt(d,l,a),u.head.appendChild(d);break;case"meta":if(g=sv("meta","content",u).get(l+(a.content||""))){for(v=0;v<g.length;v++)if(d=g[v],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(v,1);break t}}d=u.createElement(l),mt(d,l,a),u.head.appendChild(d);break;default:throw Error(r(468,l))}d[ut]=t,rt(d),l=d}t.stateNode=l}else rv(u,t.type,t.stateNode);else t.stateNode=iv(u,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?rv(u,t.type,t.stateNode):iv(u,l,t.memoizedProps)):l===null&&t.stateNode!==null&&wf(t,t.memoizedProps,a.memoizedProps)}break;case 27:At(i,t),Rt(t),l&512&&(et||a===null||En(a,a.return)),a!==null&&l&4&&wf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(At(i,t),Rt(t),l&512&&(et||a===null||En(a,a.return)),t.flags&32){u=t.stateNode;try{zs(u,"")}catch(K){Re(t,t.return,K)}}l&4&&t.stateNode!=null&&(u=t.memoizedProps,wf(t,u,a!==null?a.memoizedProps:u)),l&1024&&(Nf=!0);break;case 6:if(At(i,t),Rt(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(K){Re(t,t.return,K)}}break;case 3:if(Mo=null,u=on,on=Io(i.containerInfo),At(i,t),on=u,Rt(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{mr(i.containerInfo)}catch(K){Re(t,t.return,K)}Nf&&(Nf=!1,r_(t));break;case 4:l=on,on=Io(t.stateNode.containerInfo),At(i,t),Rt(t),on=l;break;case 12:At(i,t),Rt(t);break;case 31:At(i,t),Rt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,go(t,l)));break;case 13:At(i,t),Rt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vo=Lt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,go(t,l)));break;case 22:u=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,R=Pn,L=et;if(Pn=R||u,et=L||b,At(i,t),et=L,Pn=R,Rt(t),l&8192)e:for(i=t.stateNode,i._visibility=u?i._visibility&-2:i._visibility|1,u&&(a===null||b||Pn||et||fs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(d=b.stateNode,u)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=b.stateNode;var z=b.memoizedProps.style,O=z!=null&&z.hasOwnProperty("display")?z.display:null;v.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(K){Re(b,b.return,K)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=u?"":b.memoizedProps}catch(K){Re(b,b.return,K)}}}else if(i.tag===18){if(a===null){b=i;try{var M=b.stateNode;u?Q_(M,!0):Q_(b.stateNode,!1)}catch(K){Re(b,b.return,K)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,go(t,a))));break;case 19:At(i,t),Rt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,go(t,l)));break;case 30:break;case 21:break;default:At(i,t),Rt(t)}}function Rt(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Xg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var u=a.stateNode,d=Af(t);po(t,d,u);break;case 5:var g=a.stateNode;a.flags&32&&(zs(g,""),a.flags&=-33);var v=Af(t);po(t,v,g);break;case 3:case 4:var b=a.stateNode.containerInfo,R=Af(t);Rf(t,R,b);break;default:throw Error(r(161))}}catch(L){Re(t,t.return,L)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function r_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;r_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Hn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Jg(t,i.alternate,i),i=i.sibling}function fs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:gi(4,i,i.return),fs(i);break;case 1:En(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Qg(i,i.return,a),fs(i);break;case 27:wa(i.stateNode);case 26:case 5:En(i,i.return),fs(i);break;case 22:i.memoizedState===null&&fs(i);break;case 30:fs(i);break;default:fs(i)}t=t.sibling}}function qn(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,u=t,d=i,g=d.flags;switch(d.tag){case 0:case 11:case 15:qn(u,d,a),pa(4,d);break;case 1:if(qn(u,d,a),l=d,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(R){Re(l,l.return,R)}if(l=d,u=l.updateQueue,u!==null){var v=l.stateNode;try{var b=u.shared.hiddenCallbacks;if(b!==null)for(u.shared.hiddenCallbacks=null,u=0;u<b.length;u++)Up(b[u],v)}catch(R){Re(l,l.return,R)}}a&&g&64&&Kg(d),ga(d,d.return);break;case 27:Zg(d);case 26:case 5:qn(u,d,a),a&&l===null&&g&4&&Wg(d),ga(d,d.return);break;case 12:qn(u,d,a);break;case 31:qn(u,d,a),a&&g&4&&n_(u,d);break;case 13:qn(u,d,a),a&&g&4&&i_(u,d);break;case 22:d.memoizedState===null&&qn(u,d,a),ga(d,d.return);break;case 30:break;default:qn(u,d,a)}i=i.sibling}}function Of(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&na(a))}function If(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&na(t))}function cn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)a_(t,i,a,l),i=i.sibling}function a_(t,i,a,l){var u=i.flags;switch(i.tag){case 0:case 11:case 15:cn(t,i,a,l),u&2048&&pa(9,i);break;case 1:cn(t,i,a,l);break;case 3:cn(t,i,a,l),u&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&na(t)));break;case 12:if(u&2048){cn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,g=d.id,v=d.onPostCommit;typeof v=="function"&&v(g,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Re(i,i.return,b)}}else cn(t,i,a,l);break;case 31:cn(t,i,a,l);break;case 13:cn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,g=i.alternate,i.memoizedState!==null?d._visibility&2?cn(t,i,a,l):_a(t,i):d._visibility&2?cn(t,i,a,l):(d._visibility|=2,ir(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),u&2048&&Of(g,i);break;case 24:cn(t,i,a,l),u&2048&&If(i.alternate,i);break;default:cn(t,i,a,l)}}function ir(t,i,a,l,u){for(u=u&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,g=i,v=a,b=l,R=g.flags;switch(g.tag){case 0:case 11:case 15:ir(d,g,v,b,u),pa(8,g);break;case 23:break;case 22:var L=g.stateNode;g.memoizedState!==null?L._visibility&2?ir(d,g,v,b,u):_a(d,g):(L._visibility|=2,ir(d,g,v,b,u)),u&&R&2048&&Of(g.alternate,g);break;case 24:ir(d,g,v,b,u),u&&R&2048&&If(g.alternate,g);break;default:ir(d,g,v,b,u)}i=i.sibling}}function _a(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,u=l.flags;switch(l.tag){case 22:_a(a,l),u&2048&&Of(l.alternate,l);break;case 24:_a(a,l),u&2048&&If(l.alternate,l);break;default:_a(a,l)}i=i.sibling}}var va=8192;function sr(t,i,a){if(t.subtreeFlags&va)for(t=t.child;t!==null;)l_(t,i,a),t=t.sibling}function l_(t,i,a){switch(t.tag){case 26:sr(t,i,a),t.flags&va&&t.memoizedState!==null&&DC(a,on,t.memoizedState,t.memoizedProps);break;case 5:sr(t,i,a);break;case 3:case 4:var l=on;on=Io(t.stateNode.containerInfo),sr(t,i,a),on=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=va,va=16777216,sr(t,i,a),va=l):sr(t,i,a));break;default:sr(t,i,a)}}function o_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ya(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];at=l,u_(l,t)}o_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)c_(t),t=t.sibling}function c_(t){switch(t.tag){case 0:case 11:case 15:ya(t),t.flags&2048&&gi(9,t,t.return);break;case 3:ya(t);break;case 12:ya(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,_o(t)):ya(t);break;default:ya(t)}}function _o(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];at=l,u_(l,t)}o_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:gi(8,i,i.return),_o(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,_o(i));break;default:_o(i)}t=t.sibling}}function u_(t,i){for(;at!==null;){var a=at;switch(a.tag){case 0:case 11:case 15:gi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:na(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,at=l;else e:for(a=t;at!==null;){l=at;var u=l.sibling,d=l.return;if(e_(l),l===a){at=null;break e}if(u!==null){u.return=d,at=u;break e}at=d}}}var F1={getCacheForType:function(t){var i=dt(Ze),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return dt(Ze).controller.signal}},K1=typeof WeakMap=="function"?WeakMap:Map,be=0,Me=null,ue=null,me=0,Ae=0,jt=null,_i=!1,rr=!1,Df=!1,jn=0,Ye=0,vi=0,ds=0,Mf=0,Vt=0,ar=0,Ea=null,Nt=null,xf=!1,vo=0,f_=0,yo=1/0,Eo=null,yi=null,tt=0,Ei=null,lr=null,Vn=0,kf=0,Lf=null,d_=null,ba=0,Uf=null;function Gt(){return(be&2)!==0&&me!==0?me&-me:D.T!==null?jf():Nm()}function h_(){if(Vt===0)if((me&536870912)===0||_e){var t=Rl;Rl<<=1,(Rl&3932160)===0&&(Rl=262144),Vt=t}else Vt=536870912;return t=Ht.current,t!==null&&(t.flags|=32),Vt}function Ot(t,i,a){(t===Me&&(Ae===2||Ae===9)||t.cancelPendingCommit!==null)&&(or(t,0),bi(t,me,Vt,!1)),jr(t,a),((be&2)===0||t!==Me)&&(t===Me&&((be&2)===0&&(ds|=a),Ye===4&&bi(t,me,Vt,!1)),bn(t))}function m_(t,i,a){if((be&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||qr(t,i),u=l?X1(t,i):Pf(t,i,!0),d=l;do{if(u===0){rr&&!l&&bi(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Q1(a)){u=Pf(t,i,!1),d=!1;continue}if(u===2){if(d=i,t.errorRecoveryDisabledLanes&d)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){i=g;e:{var v=t;u=Ea;var b=v.current.memoizedState.isDehydrated;if(b&&(or(v,g).flags|=256),g=Pf(v,g,!1),g!==2){if(Df&&!b){v.errorRecoveryDisabledLanes|=d,ds|=d,u=4;break e}d=Nt,Nt=u,d!==null&&(Nt===null?Nt=d:Nt.push.apply(Nt,d))}u=g}if(d=!1,u!==2)continue}}if(u===1){or(t,0),bi(t,i,0,!0);break}e:{switch(l=t,d=u,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:bi(l,i,Vt,!_i);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(u=vo+300-Lt(),10<u)){if(bi(l,i,Vt,!_i),Ol(l,0,!0)!==0)break e;Vn=i,l.timeoutHandle=Y_(p_.bind(null,l,a,Nt,Eo,xf,i,Vt,ds,ar,_i,d,"Throttled",-0,0),u);break e}p_(l,a,Nt,Eo,xf,i,Vt,ds,ar,_i,d,null,-0,0)}}break}while(!0);bn(t)}function p_(t,i,a,l,u,d,g,v,b,R,L,z,O,M){if(t.timeoutHandle=-1,z=i.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nn},l_(i,d,z);var K=(d&62914560)===d?vo-Lt():(d&4194048)===d?f_-Lt():0;if(K=MC(z,K),K!==null){Vn=d,t.cancelPendingCommit=K(C_.bind(null,t,i,d,a,l,u,g,v,b,L,z,null,O,M)),bi(t,d,g,!R);return}}C_(t,i,d,a,l,u,g,v,b)}function Q1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var u=a[l],d=u.getSnapshot;u=u.value;try{if(!Pt(d(),u))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function bi(t,i,a,l){i&=~Mf,i&=~ds,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var u=i;0<u;){var d=31-zt(u),g=1<<d;l[d]=-1,u&=~g}a!==0&&wm(t,a,i)}function bo(){return(be&6)===0?(Sa(0),!1):!0}function zf(){if(ue!==null){if(Ae===0)var t=ue.return;else t=ue,Mn=is=null,$u(t),$s=null,sa=0,t=ue;for(;t!==null;)Fg(t.alternate,t),t=t.return;ue=null}}function or(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,mC(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Vn=0,zf(),Me=t,ue=a=In(t.current,null),me=i,Ae=0,jt=null,_i=!1,rr=qr(t,i),Df=!1,ar=Vt=Mf=ds=vi=Ye=0,Nt=Ea=null,xf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var u=31-zt(l),d=1<<u;i|=t[u],l&=~d}return jn=i,ql(),a}function g_(t,i){ae=null,D.H=da,i===Zs||i===Wl?(i=Mp(),Ae=3):i===Hu?(i=Mp(),Ae=4):Ae=i===pf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,jt=i,ue===null&&(Ye=1,co(t,Wt(i,t.current)))}function __(){var t=Ht.current;return t===null?!0:(me&4194048)===me?Jt===null:(me&62914560)===me||(me&536870912)!==0?t===Jt:!1}function v_(){var t=D.H;return D.H=da,t===null?da:t}function y_(){var t=D.A;return D.A=F1,t}function So(){Ye=4,_i||(me&4194048)!==me&&Ht.current!==null||(rr=!0),(vi&134217727)===0&&(ds&134217727)===0||Me===null||bi(Me,me,Vt,!1)}function Pf(t,i,a){var l=be;be|=2;var u=v_(),d=y_();(Me!==t||me!==i)&&(Eo=null,or(t,i)),i=!1;var g=Ye;e:do try{if(Ae!==0&&ue!==null){var v=ue,b=jt;switch(Ae){case 8:zf(),g=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(i=!0);var R=Ae;if(Ae=0,jt=null,cr(t,v,b,R),a&&rr){g=0;break e}break;default:R=Ae,Ae=0,jt=null,cr(t,v,b,R)}}W1(),g=Ye;break}catch(L){g_(t,L)}while(!0);return i&&t.shellSuspendCounter++,Mn=is=null,be=l,D.H=u,D.A=d,ue===null&&(Me=null,me=0,ql()),g}function W1(){for(;ue!==null;)E_(ue)}function X1(t,i){var a=be;be|=2;var l=v_(),u=y_();Me!==t||me!==i?(Eo=null,yo=Lt()+500,or(t,i)):rr=qr(t,i);e:do try{if(Ae!==0&&ue!==null){i=ue;var d=jt;t:switch(Ae){case 1:Ae=0,jt=null,cr(t,i,d,1);break;case 2:case 9:if(Ip(d)){Ae=0,jt=null,b_(i);break}i=function(){Ae!==2&&Ae!==9||Me!==t||(Ae=7),bn(t)},d.then(i,i);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Ip(d)?(Ae=0,jt=null,b_(i)):(Ae=0,jt=null,cr(t,i,d,7));break;case 5:var g=null;switch(ue.tag){case 26:g=ue.memoizedState;case 5:case 27:var v=ue;if(g?av(g):v.stateNode.complete){Ae=0,jt=null;var b=v.sibling;if(b!==null)ue=b;else{var R=v.return;R!==null?(ue=R,Co(R)):ue=null}break t}}Ae=0,jt=null,cr(t,i,d,5);break;case 6:Ae=0,jt=null,cr(t,i,d,6);break;case 8:zf(),Ye=6;break e;default:throw Error(r(462))}}Z1();break}catch(L){g_(t,L)}while(!0);return Mn=is=null,D.H=l,D.A=u,be=a,ue!==null?0:(Me=null,me=0,ql(),Ye)}function Z1(){for(;ue!==null&&!ES();)E_(ue)}function E_(t){var i=Gg(t.alternate,t,jn);t.memoizedProps=t.pendingProps,i===null?Co(t):ue=i}function b_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Pg(a,i,i.pendingProps,i.type,void 0,me);break;case 11:i=Pg(a,i,i.pendingProps,i.type.render,i.ref,me);break;case 5:$u(i);default:Fg(a,i),i=ue=yp(i,jn),i=Gg(a,i,jn)}t.memoizedProps=t.pendingProps,i===null?Co(t):ue=i}function cr(t,i,a,l){Mn=is=null,$u(i),$s=null,sa=0;var u=i.return;try{if(B1(t,u,i,a,me)){Ye=1,co(t,Wt(a,t.current)),ue=null;return}}catch(d){if(u!==null)throw ue=u,d;Ye=1,co(t,Wt(a,t.current)),ue=null;return}i.flags&32768?(_e||l===1?t=!0:rr||(me&536870912)!==0?t=!1:(_i=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ht.current,l!==null&&l.tag===13&&(l.flags|=16384))),S_(i,t)):Co(i)}function Co(t){var i=t;do{if((i.flags&32768)!==0){S_(i,_i);return}t=i.return;var a=j1(i.alternate,i,jn);if(a!==null){ue=a;return}if(i=i.sibling,i!==null){ue=i;return}ue=i=t}while(i!==null);Ye===0&&(Ye=5)}function S_(t,i){do{var a=V1(t.alternate,t);if(a!==null){a.flags&=32767,ue=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ue=t;return}ue=t=a}while(t!==null);Ye=6,ue=null}function C_(t,i,a,l,u,d,g,v,b){t.cancelPendingCommit=null;do To();while(tt!==0);if((be&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=wu,IS(t,a,d,g,v,b),t===Me&&(ue=Me=null,me=0),lr=i,Ei=t,Vn=a,kf=d,Lf=u,d_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tC(wl,function(){return N_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=D.T,D.T=null,u=F.p,F.p=2,g=be,be|=4;try{G1(t,i,a)}finally{be=g,F.p=u,D.T=l}}tt=1,T_(),w_(),A_()}}function T_(){if(tt===1){tt=0;var t=Ei,i=lr,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=D.T,D.T=null;var l=F.p;F.p=2;var u=be;be|=4;try{s_(i,t);var d=Xf,g=up(t.containerInfo),v=d.focusedElem,b=d.selectionRange;if(g!==v&&v&&v.ownerDocument&&cp(v.ownerDocument.documentElement,v)){if(b!==null&&Eu(v)){var R=b.start,L=b.end;if(L===void 0&&(L=R),"selectionStart"in v)v.selectionStart=R,v.selectionEnd=Math.min(L,v.value.length);else{var z=v.ownerDocument||document,O=z&&z.defaultView||window;if(O.getSelection){var M=O.getSelection(),K=v.textContent.length,J=Math.min(b.start,K),Ie=b.end===void 0?J:Math.min(b.end,K);!M.extend&&J>Ie&&(g=Ie,Ie=J,J=g);var T=op(v,J),S=op(v,Ie);if(T&&S&&(M.rangeCount!==1||M.anchorNode!==T.node||M.anchorOffset!==T.offset||M.focusNode!==S.node||M.focusOffset!==S.offset)){var A=z.createRange();A.setStart(T.node,T.offset),M.removeAllRanges(),J>Ie?(M.addRange(A),M.extend(S.node,S.offset)):(A.setEnd(S.node,S.offset),M.addRange(A))}}}}for(z=[],M=v;M=M.parentNode;)M.nodeType===1&&z.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<z.length;v++){var U=z[v];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}Uo=!!Wf,Xf=Wf=null}finally{be=u,F.p=l,D.T=a}}t.current=i,tt=2}}function w_(){if(tt===2){tt=0;var t=Ei,i=lr,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=D.T,D.T=null;var l=F.p;F.p=2;var u=be;be|=4;try{Jg(t,i.alternate,i)}finally{be=u,F.p=l,D.T=a}}tt=3}}function A_(){if(tt===4||tt===3){tt=0,bS();var t=Ei,i=lr,a=Vn,l=d_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?tt=5:(tt=0,lr=Ei=null,R_(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(yi=null),tu(a),i=i.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Hr,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=D.T,u=F.p,F.p=2,D.T=null;try{for(var d=t.onRecoverableError,g=0;g<l.length;g++){var v=l[g];d(v.value,{componentStack:v.stack})}}finally{D.T=i,F.p=u}}(Vn&3)!==0&&To(),bn(t),u=t.pendingLanes,(a&261930)!==0&&(u&42)!==0?t===Uf?ba++:(ba=0,Uf=t):ba=0,Sa(0)}}function R_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,na(i)))}function To(){return T_(),w_(),A_(),N_()}function N_(){if(tt!==5)return!1;var t=Ei,i=kf;kf=0;var a=tu(Vn),l=D.T,u=F.p;try{F.p=32>a?32:a,D.T=null,a=Lf,Lf=null;var d=Ei,g=Vn;if(tt=0,lr=Ei=null,Vn=0,(be&6)!==0)throw Error(r(331));var v=be;if(be|=4,c_(d.current),a_(d,d.current,g,a),be=v,Sa(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Hr,d)}catch{}return!0}finally{F.p=u,D.T=l,R_(t,i)}}function O_(t,i,a){i=Wt(a,i),i=mf(t.stateNode,i,2),t=hi(t,i,2),t!==null&&(jr(t,2),bn(t))}function Re(t,i,a){if(t.tag===3)O_(t,t,a);else for(;i!==null;){if(i.tag===3){O_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(yi===null||!yi.has(l))){t=Wt(a,t),a=Ig(2),l=hi(i,a,2),l!==null&&(Dg(a,l,i,t),jr(l,2),bn(l));break}}i=i.return}}function Bf(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new K1;var u=new Set;l.set(i,u)}else u=l.get(i),u===void 0&&(u=new Set,l.set(i,u));u.has(a)||(Df=!0,u.add(a),t=$1.bind(null,t,i,a),i.then(t,t))}function $1(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Me===t&&(me&a)===a&&(Ye===4||Ye===3&&(me&62914560)===me&&300>Lt()-vo?(be&2)===0&&or(t,0):Mf|=a,ar===me&&(ar=0)),bn(t)}function I_(t,i){i===0&&(i=Tm()),t=es(t,i),t!==null&&(jr(t,i),bn(t))}function J1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),I_(t,a)}function eC(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,u=t.memoizedState;u!==null&&(a=u.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),I_(t,a)}function tC(t,i){return Zc(t,i)}var wo=null,ur=null,Hf=!1,Ao=!1,qf=!1,Si=0;function bn(t){t!==ur&&t.next===null&&(ur===null?wo=ur=t:ur=ur.next=t),Ao=!0,Hf||(Hf=!0,iC())}function Sa(t,i){if(!qf&&Ao){qf=!0;do for(var a=!1,l=wo;l!==null;){if(t!==0){var u=l.pendingLanes;if(u===0)var d=0;else{var g=l.suspendedLanes,v=l.pingedLanes;d=(1<<31-zt(42|t)+1)-1,d&=u&~(g&~v),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,k_(l,d))}else d=me,d=Ol(l,l===Me?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||qr(l,d)||(a=!0,k_(l,d));l=l.next}while(a);qf=!1}}function nC(){D_()}function D_(){Ao=Hf=!1;var t=0;Si!==0&&hC()&&(t=Si);for(var i=Lt(),a=null,l=wo;l!==null;){var u=l.next,d=M_(l,i);d===0?(l.next=null,a===null?wo=u:a.next=u,u===null&&(ur=a)):(a=l,(t!==0||(d&3)!==0)&&(Ao=!0)),l=u}tt!==0&&tt!==5||Sa(t),Si!==0&&(Si=0)}function M_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,u=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var g=31-zt(d),v=1<<g,b=u[g];b===-1?((v&a)===0||(v&l)!==0)&&(u[g]=OS(v,i)):b<=i&&(t.expiredLanes|=v),d&=~v}if(i=Me,a=me,a=Ol(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ae===2||Ae===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&$c(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&$c(l),tu(a)){case 2:case 8:a=Sm;break;case 32:a=wl;break;case 268435456:a=Cm;break;default:a=wl}return l=x_.bind(null,t),a=Zc(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&$c(l),t.callbackPriority=2,t.callbackNode=null,2}function x_(t,i){if(tt!==0&&tt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(To()&&t.callbackNode!==a)return null;var l=me;return l=Ol(t,t===Me?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(m_(t,l,i),M_(t,Lt()),t.callbackNode!=null&&t.callbackNode===a?x_.bind(null,t):null)}function k_(t,i){if(To())return null;m_(t,i,!0)}function iC(){pC(function(){(be&6)!==0?Zc(bm,nC):D_()})}function jf(){if(Si===0){var t=Ws;t===0&&(t=Al,Al<<=1,(Al&261888)===0&&(Al=256)),Si=t}return Si}function L_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xl(""+t)}function U_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function sC(t,i,a,l,u){if(i==="submit"&&a&&a.stateNode===u){var d=L_((u[Ct]||null).action),g=l.submitter;g&&(i=(i=g[Ct]||null)?L_(i.formAction):g.getAttribute("formAction"),i!==null&&(d=i,g=null));var v=new zl("action","action",null,l,u);t.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Si!==0){var b=g?U_(u,g):new FormData(u);of(a,{pending:!0,data:b,method:u.method,action:d},null,b)}}else typeof d=="function"&&(v.preventDefault(),b=g?U_(u,g):new FormData(u),of(a,{pending:!0,data:b,method:u.method,action:d},d,b))},currentTarget:u}]})}}for(var Vf=0;Vf<Tu.length;Vf++){var Gf=Tu[Vf],rC=Gf.toLowerCase(),aC=Gf[0].toUpperCase()+Gf.slice(1);ln(rC,"on"+aC)}ln(hp,"onAnimationEnd"),ln(mp,"onAnimationIteration"),ln(pp,"onAnimationStart"),ln("dblclick","onDoubleClick"),ln("focusin","onFocus"),ln("focusout","onBlur"),ln(S1,"onTransitionRun"),ln(C1,"onTransitionStart"),ln(T1,"onTransitionCancel"),ln(gp,"onTransitionEnd"),Ls("onMouseEnter",["mouseout","mouseover"]),Ls("onMouseLeave",["mouseout","mouseover"]),Ls("onPointerEnter",["pointerout","pointerover"]),Ls("onPointerLeave",["pointerout","pointerover"]),Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ca));function z_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],u=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var g=l.length-1;0<=g;g--){var v=l[g],b=v.instance,R=v.currentTarget;if(v=v.listener,b!==d&&u.isPropagationStopped())break e;d=v,u.currentTarget=R;try{d(u)}catch(L){Hl(L)}u.currentTarget=null,d=b}else for(g=0;g<l.length;g++){if(v=l[g],b=v.instance,R=v.currentTarget,v=v.listener,b!==d&&u.isPropagationStopped())break e;d=v,u.currentTarget=R;try{d(u)}catch(L){Hl(L)}u.currentTarget=null,d=b}}}}function fe(t,i){var a=i[nu];a===void 0&&(a=i[nu]=new Set);var l=t+"__bubble";a.has(l)||(P_(i,t,2,!1),a.add(l))}function Yf(t,i,a){var l=0;i&&(l|=4),P_(a,t,l,i)}var Ro="_reactListening"+Math.random().toString(36).slice(2);function Ff(t){if(!t[Ro]){t[Ro]=!0,Dm.forEach(function(a){a!=="selectionchange"&&(lC.has(a)||Yf(a,!1,t),Yf(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ro]||(i[Ro]=!0,Yf("selectionchange",!1,i))}}function P_(t,i,a,l){switch(hv(i)){case 2:var u=LC;break;case 8:u=UC;break;default:u=ld}a=u.bind(null,i,a,t),u=void 0,!fu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(u=!0),l?u!==void 0?t.addEventListener(i,a,{capture:!0,passive:u}):t.addEventListener(i,a,!0):u!==void 0?t.addEventListener(i,a,{passive:u}):t.addEventListener(i,a,!1)}function Kf(t,i,a,l,u){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var v=l.stateNode.containerInfo;if(v===u)break;if(g===4)for(g=l.return;g!==null;){var b=g.tag;if((b===3||b===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;v!==null;){if(g=Ms(v),g===null)return;if(b=g.tag,b===5||b===6||b===26||b===27){l=d=g;continue e}v=v.parentNode}}l=l.return}Vm(function(){var R=d,L=cu(a),z=[];e:{var O=_p.get(t);if(O!==void 0){var M=zl,K=t;switch(t){case"keypress":if(Ll(a)===0)break e;case"keydown":case"keyup":M=e1;break;case"focusin":K="focus",M=pu;break;case"focusout":K="blur",M=pu;break;case"beforeblur":case"afterblur":M=pu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Fm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=jS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=i1;break;case hp:case mp:case pp:M=YS;break;case gp:M=r1;break;case"scroll":case"scrollend":M=HS;break;case"wheel":M=l1;break;case"copy":case"cut":case"paste":M=KS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Qm;break;case"toggle":case"beforetoggle":M=c1}var J=(i&4)!==0,Ie=!J&&(t==="scroll"||t==="scrollend"),T=J?O!==null?O+"Capture":null:O;J=[];for(var S=R,A;S!==null;){var U=S;if(A=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||A===null||T===null||(U=Yr(S,T),U!=null&&J.push(Ta(S,U,A))),Ie)break;S=S.return}0<J.length&&(O=new M(O,K,null,a,L),z.push({event:O,listeners:J}))}}if((i&7)===0){e:{if(O=t==="mouseover"||t==="pointerover",M=t==="mouseout"||t==="pointerout",O&&a!==ou&&(K=a.relatedTarget||a.fromElement)&&(Ms(K)||K[Ds]))break e;if((M||O)&&(O=L.window===L?L:(O=L.ownerDocument)?O.defaultView||O.parentWindow:window,M?(K=a.relatedTarget||a.toElement,M=R,K=K?Ms(K):null,K!==null&&(Ie=c(K),J=K.tag,K!==Ie||J!==5&&J!==27&&J!==6)&&(K=null)):(M=null,K=R),M!==K)){if(J=Fm,U="onMouseLeave",T="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(J=Qm,U="onPointerLeave",T="onPointerEnter",S="pointer"),Ie=M==null?O:Gr(M),A=K==null?O:Gr(K),O=new J(U,S+"leave",M,a,L),O.target=Ie,O.relatedTarget=A,U=null,Ms(L)===R&&(J=new J(T,S+"enter",K,a,L),J.target=A,J.relatedTarget=Ie,U=J),Ie=U,M&&K)t:{for(J=oC,T=M,S=K,A=0,U=T;U;U=J(U))A++;U=0;for(var X=S;X;X=J(X))U++;for(;0<A-U;)T=J(T),A--;for(;0<U-A;)S=J(S),U--;for(;A--;){if(T===S||S!==null&&T===S.alternate){J=T;break t}T=J(T),S=J(S)}J=null}else J=null;M!==null&&B_(z,O,M,J,!1),K!==null&&Ie!==null&&B_(z,Ie,K,J,!0)}}e:{if(O=R?Gr(R):window,M=O.nodeName&&O.nodeName.toLowerCase(),M==="select"||M==="input"&&O.type==="file")var ve=np;else if(ep(O))if(ip)ve=y1;else{ve=_1;var Q=g1}else M=O.nodeName,!M||M.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?R&&lu(R.elementType)&&(ve=np):ve=v1;if(ve&&(ve=ve(t,R))){tp(z,ve,a,L);break e}Q&&Q(t,O,R),t==="focusout"&&R&&O.type==="number"&&R.memoizedProps.value!=null&&au(O,"number",O.value)}switch(Q=R?Gr(R):window,t){case"focusin":(ep(Q)||Q.contentEditable==="true")&&(qs=Q,bu=R,Jr=null);break;case"focusout":Jr=bu=qs=null;break;case"mousedown":Su=!0;break;case"contextmenu":case"mouseup":case"dragend":Su=!1,fp(z,a,L);break;case"selectionchange":if(b1)break;case"keydown":case"keyup":fp(z,a,L)}var le;if(_u)e:{switch(t){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Hs?$m(t,a)&&(pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(pe="onCompositionStart");pe&&(Wm&&a.locale!=="ko"&&(Hs||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Hs&&(le=Gm()):(ai=L,du="value"in ai?ai.value:ai.textContent,Hs=!0)),Q=No(R,pe),0<Q.length&&(pe=new Km(pe,t,null,a,L),z.push({event:pe,listeners:Q}),le?pe.data=le:(le=Jm(a),le!==null&&(pe.data=le)))),(le=f1?d1(t,a):h1(t,a))&&(pe=No(R,"onBeforeInput"),0<pe.length&&(Q=new Km("onBeforeInput","beforeinput",null,a,L),z.push({event:Q,listeners:pe}),Q.data=le)),sC(z,t,R,a,L)}z_(z,i)})}function Ta(t,i,a){return{instance:t,listener:i,currentTarget:a}}function No(t,i){for(var a=i+"Capture",l=[];t!==null;){var u=t,d=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||d===null||(u=Yr(t,a),u!=null&&l.unshift(Ta(t,u,d)),u=Yr(t,i),u!=null&&l.push(Ta(t,u,d))),t.tag===3)return l;t=t.return}return[]}function oC(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function B_(t,i,a,l,u){for(var d=i._reactName,g=[];a!==null&&a!==l;){var v=a,b=v.alternate,R=v.stateNode;if(v=v.tag,b!==null&&b===l)break;v!==5&&v!==26&&v!==27||R===null||(b=R,u?(R=Yr(a,d),R!=null&&g.unshift(Ta(a,R,b))):u||(R=Yr(a,d),R!=null&&g.push(Ta(a,R,b)))),a=a.return}g.length!==0&&t.push({event:i,listeners:g})}var cC=/\r\n?/g,uC=/\u0000|\uFFFD/g;function H_(t){return(typeof t=="string"?t:""+t).replace(cC,`
`).replace(uC,"")}function q_(t,i){return i=H_(i),H_(t)===i}function Oe(t,i,a,l,u,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||zs(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&zs(t,""+l);break;case"className":Dl(t,"class",l);break;case"tabIndex":Dl(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Dl(t,a,l);break;case"style":qm(t,l,d);break;case"data":if(i!=="object"){Dl(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=xl(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Oe(t,i,"name",u.name,u,null),Oe(t,i,"formEncType",u.formEncType,u,null),Oe(t,i,"formMethod",u.formMethod,u,null),Oe(t,i,"formTarget",u.formTarget,u,null)):(Oe(t,i,"encType",u.encType,u,null),Oe(t,i,"method",u.method,u,null),Oe(t,i,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=xl(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Nn);break;case"onScroll":l!=null&&fe("scroll",t);break;case"onScrollEnd":l!=null&&fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=xl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":fe("beforetoggle",t),fe("toggle",t),Il(t,"popover",l);break;case"xlinkActuate":Rn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Il(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=PS.get(a)||a,Il(t,a,l))}}function Qf(t,i,a,l,u,d){switch(a){case"style":qm(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?zs(t,l):(typeof l=="number"||typeof l=="bigint")&&zs(t,""+l);break;case"onScroll":l!=null&&fe("scroll",t);break;case"onScrollEnd":l!=null&&fe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mm.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),i=a.slice(2,u?a.length-7:void 0),d=t[Ct]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,u),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,u);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Il(t,a,l)}}}function mt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",t),fe("load",t);var l=!1,u=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Oe(t,i,d,g,a,null)}}u&&Oe(t,i,"srcSet",a.srcSet,a,null),l&&Oe(t,i,"src",a.src,a,null);return;case"input":fe("invalid",t);var v=d=g=u=null,b=null,R=null;for(l in a)if(a.hasOwnProperty(l)){var L=a[l];if(L!=null)switch(l){case"name":u=L;break;case"type":g=L;break;case"checked":b=L;break;case"defaultChecked":R=L;break;case"value":d=L;break;case"defaultValue":v=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,i));break;default:Oe(t,i,l,L,a,null)}}zm(t,d,v,b,R,g,u,!1);return;case"select":fe("invalid",t),l=g=d=null;for(u in a)if(a.hasOwnProperty(u)&&(v=a[u],v!=null))switch(u){case"value":d=v;break;case"defaultValue":g=v;break;case"multiple":l=v;default:Oe(t,i,u,v,a,null)}i=d,a=g,t.multiple=!!l,i!=null?Us(t,!!l,i,!1):a!=null&&Us(t,!!l,a,!0);return;case"textarea":fe("invalid",t),d=u=l=null;for(g in a)if(a.hasOwnProperty(g)&&(v=a[g],v!=null))switch(g){case"value":l=v;break;case"defaultValue":u=v;break;case"children":d=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Oe(t,i,g,v,a,null)}Bm(t,l,u,d);return;case"option":for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null)&&(b==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Oe(t,i,b,l,a,null));return;case"dialog":fe("beforetoggle",t),fe("toggle",t),fe("cancel",t),fe("close",t);break;case"iframe":case"object":fe("load",t);break;case"video":case"audio":for(l=0;l<Ca.length;l++)fe(Ca[l],t);break;case"image":fe("error",t),fe("load",t);break;case"details":fe("toggle",t);break;case"embed":case"source":case"link":fe("error",t),fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Oe(t,i,R,l,a,null)}return;default:if(lu(i)){for(L in a)a.hasOwnProperty(L)&&(l=a[L],l!==void 0&&Qf(t,i,L,l,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(l=a[v],l!=null&&Oe(t,i,v,l,a,null))}function fC(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,d=null,g=null,v=null,b=null,R=null,L=null;for(M in a){var z=a[M];if(a.hasOwnProperty(M)&&z!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":b=z;default:l.hasOwnProperty(M)||Oe(t,i,M,null,l,z)}}for(var O in l){var M=l[O];if(z=a[O],l.hasOwnProperty(O)&&(M!=null||z!=null))switch(O){case"type":d=M;break;case"name":u=M;break;case"checked":R=M;break;case"defaultChecked":L=M;break;case"value":g=M;break;case"defaultValue":v=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,i));break;default:M!==z&&Oe(t,i,O,M,l,z)}}ru(t,g,v,b,R,L,d,u);return;case"select":M=g=v=O=null;for(d in a)if(b=a[d],a.hasOwnProperty(d)&&b!=null)switch(d){case"value":break;case"multiple":M=b;default:l.hasOwnProperty(d)||Oe(t,i,d,null,l,b)}for(u in l)if(d=l[u],b=a[u],l.hasOwnProperty(u)&&(d!=null||b!=null))switch(u){case"value":O=d;break;case"defaultValue":v=d;break;case"multiple":g=d;default:d!==b&&Oe(t,i,u,d,l,b)}i=v,a=g,l=M,O!=null?Us(t,!!a,O,!1):!!l!=!!a&&(i!=null?Us(t,!!a,i,!0):Us(t,!!a,a?[]:"",!1));return;case"textarea":M=O=null;for(v in a)if(u=a[v],a.hasOwnProperty(v)&&u!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Oe(t,i,v,null,l,u)}for(g in l)if(u=l[g],d=a[g],l.hasOwnProperty(g)&&(u!=null||d!=null))switch(g){case"value":O=u;break;case"defaultValue":M=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==d&&Oe(t,i,g,u,l,d)}Pm(t,O,M);return;case"option":for(var K in a)O=a[K],a.hasOwnProperty(K)&&O!=null&&!l.hasOwnProperty(K)&&(K==="selected"?t.selected=!1:Oe(t,i,K,null,l,O));for(b in l)O=l[b],M=a[b],l.hasOwnProperty(b)&&O!==M&&(O!=null||M!=null)&&(b==="selected"?t.selected=O&&typeof O!="function"&&typeof O!="symbol":Oe(t,i,b,O,l,M));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var J in a)O=a[J],a.hasOwnProperty(J)&&O!=null&&!l.hasOwnProperty(J)&&Oe(t,i,J,null,l,O);for(R in l)if(O=l[R],M=a[R],l.hasOwnProperty(R)&&O!==M&&(O!=null||M!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,i));break;default:Oe(t,i,R,O,l,M)}return;default:if(lu(i)){for(var Ie in a)O=a[Ie],a.hasOwnProperty(Ie)&&O!==void 0&&!l.hasOwnProperty(Ie)&&Qf(t,i,Ie,void 0,l,O);for(L in l)O=l[L],M=a[L],!l.hasOwnProperty(L)||O===M||O===void 0&&M===void 0||Qf(t,i,L,O,l,M);return}}for(var T in a)O=a[T],a.hasOwnProperty(T)&&O!=null&&!l.hasOwnProperty(T)&&Oe(t,i,T,null,l,O);for(z in l)O=l[z],M=a[z],!l.hasOwnProperty(z)||O===M||O==null&&M==null||Oe(t,i,z,O,l,M)}function j_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dC(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var u=a[l],d=u.transferSize,g=u.initiatorType,v=u.duration;if(d&&v&&j_(g)){for(g=0,v=u.responseEnd,l+=1;l<a.length;l++){var b=a[l],R=b.startTime;if(R>v)break;var L=b.transferSize,z=b.initiatorType;L&&j_(z)&&(b=b.responseEnd,g+=L*(b<v?1:(v-R)/(b-R)))}if(--l,i+=8*(d+g)/(u.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Wf=null,Xf=null;function Oo(t){return t.nodeType===9?t:t.ownerDocument}function V_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Zf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $f=null;function hC(){var t=window.event;return t&&t.type==="popstate"?t===$f?!1:($f=t,!0):($f=null,!1)}var Y_=typeof setTimeout=="function"?setTimeout:void 0,mC=typeof clearTimeout=="function"?clearTimeout:void 0,F_=typeof Promise=="function"?Promise:void 0,pC=typeof queueMicrotask=="function"?queueMicrotask:typeof F_<"u"?function(t){return F_.resolve(null).then(t).catch(gC)}:Y_;function gC(t){setTimeout(function(){throw t})}function Ci(t){return t==="head"}function K_(t,i){var a=i,l=0;do{var u=a.nextSibling;if(t.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(u),mr(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")wa(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,wa(a);for(var d=a.firstChild;d;){var g=d.nextSibling,v=d.nodeName;d[Vr]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=g}}else a==="body"&&wa(t.ownerDocument.body);a=u}while(a);mr(i)}function Q_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Jf(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jf(a),iu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function _C(t,i,a,l){for(;t.nodeType===1;){var u=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Vr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=en(t.nextSibling),t===null)break}return null}function vC(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=en(t.nextSibling),t===null))return null;return t}function W_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=en(t.nextSibling),t===null))return null;return t}function ed(t){return t.data==="$?"||t.data==="$~"}function td(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function yC(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function en(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var nd=null;function X_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return en(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Z_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function $_(t,i,a){switch(i=Oo(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function wa(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);iu(t)}var tn=new Map,J_=new Set;function Io(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Gn=F.d;F.d={f:EC,r:bC,D:SC,C:CC,L:TC,m:wC,X:RC,S:AC,M:NC};function EC(){var t=Gn.f(),i=bo();return t||i}function bC(t){var i=xs(t);i!==null&&i.tag===5&&i.type==="form"?gg(i):Gn.r(t)}var fr=typeof document>"u"?null:document;function ev(t,i,a){var l=fr;if(l&&typeof i=="string"&&i){var u=Kt(i);u='link[rel="'+t+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),J_.has(u)||(J_.add(u),t={rel:t,crossOrigin:a,href:i},l.querySelector(u)===null&&(i=l.createElement("link"),mt(i,"link",t),rt(i),l.head.appendChild(i)))}}function SC(t){Gn.D(t),ev("dns-prefetch",t,null)}function CC(t,i){Gn.C(t,i),ev("preconnect",t,i)}function TC(t,i,a){Gn.L(t,i,a);var l=fr;if(l&&t&&i){var u='link[rel="preload"][as="'+Kt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Kt(a.imageSizes)+'"]')):u+='[href="'+Kt(t)+'"]';var d=u;switch(i){case"style":d=dr(t);break;case"script":d=hr(t)}tn.has(d)||(t=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),tn.set(d,t),l.querySelector(u)!==null||i==="style"&&l.querySelector(Aa(d))||i==="script"&&l.querySelector(Ra(d))||(i=l.createElement("link"),mt(i,"link",t),rt(i),l.head.appendChild(i)))}}function wC(t,i){Gn.m(t,i);var a=fr;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",u='link[rel="modulepreload"][as="'+Kt(l)+'"][href="'+Kt(t)+'"]',d=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=hr(t)}if(!tn.has(d)&&(t=_({rel:"modulepreload",href:t},i),tn.set(d,t),a.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ra(d)))return}l=a.createElement("link"),mt(l,"link",t),rt(l),a.head.appendChild(l)}}}function AC(t,i,a){Gn.S(t,i,a);var l=fr;if(l&&t){var u=ks(l).hoistableStyles,d=dr(t);i=i||"default";var g=u.get(d);if(!g){var v={loading:0,preload:null};if(g=l.querySelector(Aa(d)))v.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":i},a),(a=tn.get(d))&&id(t,a);var b=g=l.createElement("link");rt(b),mt(b,"link",t),b._p=new Promise(function(R,L){b.onload=R,b.onerror=L}),b.addEventListener("load",function(){v.loading|=1}),b.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Do(g,i,l)}g={type:"stylesheet",instance:g,count:1,state:v},u.set(d,g)}}}function RC(t,i){Gn.X(t,i);var a=fr;if(a&&t){var l=ks(a).hoistableScripts,u=hr(t),d=l.get(u);d||(d=a.querySelector(Ra(u)),d||(t=_({src:t,async:!0},i),(i=tn.get(u))&&sd(t,i),d=a.createElement("script"),rt(d),mt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(u,d))}}function NC(t,i){Gn.M(t,i);var a=fr;if(a&&t){var l=ks(a).hoistableScripts,u=hr(t),d=l.get(u);d||(d=a.querySelector(Ra(u)),d||(t=_({src:t,async:!0,type:"module"},i),(i=tn.get(u))&&sd(t,i),d=a.createElement("script"),rt(d),mt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(u,d))}}function tv(t,i,a,l){var u=(u=re.current)?Io(u):null;if(!u)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=dr(a.href),a=ks(u).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=dr(a.href);var d=ks(u).hoistableStyles,g=d.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,g),(d=u.querySelector(Aa(t)))&&!d._p&&(g.instance=d,g.state.loading=5),tn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},tn.set(t,a),d||OC(u,t,a,g.state))),i&&l===null)throw Error(r(528,""));return g}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=hr(a),a=ks(u).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function dr(t){return'href="'+Kt(t)+'"'}function Aa(t){return'link[rel="stylesheet"]['+t+"]"}function nv(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function OC(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),mt(i,"link",a),rt(i),t.head.appendChild(i))}function hr(t){return'[src="'+Kt(t)+'"]'}function Ra(t){return"script[async]"+t}function iv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Kt(a.href)+'"]');if(l)return i.instance=l,rt(l),l;var u=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),rt(l),mt(l,"style",u),Do(l,a.precedence,t),i.instance=l;case"stylesheet":u=dr(a.href);var d=t.querySelector(Aa(u));if(d)return i.state.loading|=4,i.instance=d,rt(d),d;l=nv(a),(u=tn.get(u))&&id(l,u),d=(t.ownerDocument||t).createElement("link"),rt(d);var g=d;return g._p=new Promise(function(v,b){g.onload=v,g.onerror=b}),mt(d,"link",l),i.state.loading|=4,Do(d,a.precedence,t),i.instance=d;case"script":return d=hr(a.src),(u=t.querySelector(Ra(d)))?(i.instance=u,rt(u),u):(l=a,(u=tn.get(d))&&(l=_({},a),sd(l,u)),t=t.ownerDocument||t,u=t.createElement("script"),rt(u),mt(u,"link",l),t.head.appendChild(u),i.instance=u);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Do(l,a.precedence,t));return i.instance}function Do(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,d=u,g=0;g<l.length;g++){var v=l[g];if(v.dataset.precedence===i)d=v;else if(d!==u)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function id(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function sd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Mo=null;function sv(t,i,a){if(Mo===null){var l=new Map,u=Mo=new Map;u.set(a,l)}else u=Mo,l=u.get(a),l||(l=new Map,u.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),u=0;u<a.length;u++){var d=a[u];if(!(d[Vr]||d[ut]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(i)||"";g=t+g;var v=l.get(g);v?v.push(d):l.set(g,[d])}}return l}function rv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function IC(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function av(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function DC(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=dr(l.href),d=i.querySelector(Aa(u));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=xo.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,rt(d);return}d=i.ownerDocument||i,l=nv(l),(u=tn.get(u))&&id(l,u),d=d.createElement("link"),rt(d);var g=d;g._p=new Promise(function(v,b){g.onload=v,g.onerror=b}),mt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=xo.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var rd=0;function MC(t,i){return t.stylesheets&&t.count===0&&Lo(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Lo(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&rd===0&&(rd=62500*dC());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Lo(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>rd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function xo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ko=null;function Lo(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ko=new Map,i.forEach(xC,t),ko=null,xo.call(t))}function xC(t,i){if(!(i.state.loading&4)){var a=ko.get(t);if(a)var l=a.get(null);else{a=new Map,ko.set(t,a);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<u.length;d++){var g=u[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}u=i.instance,g=u.getAttribute("data-precedence"),d=a.get(g)||l,d===l&&a.set(null,u),a.set(g,u),this.count++,l=xo.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),d?d.parentNode.insertBefore(u,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),i.state.loading|=4}}var Na={$$typeof:V,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function kC(t,i,a,l,u,d,g,v,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jc(0),this.hiddenUpdates=Jc(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function lv(t,i,a,l,u,d,g,v,b,R,L,z){return t=new kC(t,i,a,g,b,R,L,z,v),i=1,d===!0&&(i|=24),d=Bt(3,null,null,i),t.current=d,d.stateNode=t,i=zu(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},qu(d),t}function ov(t){return t?(t=Gs,t):Gs}function cv(t,i,a,l,u,d){u=ov(u),l.context===null?l.context=u:l.pendingContext=u,l=di(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=hi(t,l,i),a!==null&&(Ot(a,t,i),aa(a,t,i))}function uv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function ad(t,i){uv(t,i),(t=t.alternate)&&uv(t,i)}function fv(t){if(t.tag===13||t.tag===31){var i=es(t,67108864);i!==null&&Ot(i,t,67108864),ad(t,67108864)}}function dv(t){if(t.tag===13||t.tag===31){var i=Gt();i=eu(i);var a=es(t,i);a!==null&&Ot(a,t,i),ad(t,i)}}var Uo=!0;function LC(t,i,a,l){var u=D.T;D.T=null;var d=F.p;try{F.p=2,ld(t,i,a,l)}finally{F.p=d,D.T=u}}function UC(t,i,a,l){var u=D.T;D.T=null;var d=F.p;try{F.p=8,ld(t,i,a,l)}finally{F.p=d,D.T=u}}function ld(t,i,a,l){if(Uo){var u=od(l);if(u===null)Kf(t,i,l,zo,a),mv(t,l);else if(PC(u,t,i,a,l))l.stopPropagation();else if(mv(t,l),i&4&&-1<zC.indexOf(t)){for(;u!==null;){var d=xs(u);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=Wi(d.pendingLanes);if(g!==0){var v=d;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var b=1<<31-zt(g);v.entanglements[1]|=b,g&=~b}bn(d),(be&6)===0&&(yo=Lt()+500,Sa(0))}}break;case 31:case 13:v=es(d,2),v!==null&&Ot(v,d,2),bo(),ad(d,2)}if(d=od(l),d===null&&Kf(t,i,l,zo,a),d===u)break;u=d}u!==null&&l.stopPropagation()}else Kf(t,i,l,null,a)}}function od(t){return t=cu(t),cd(t)}var zo=null;function cd(t){if(zo=null,t=Ms(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=h(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return zo=t,null}function hv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(SS()){case bm:return 2;case Sm:return 8;case wl:case CS:return 32;case Cm:return 268435456;default:return 32}default:return 32}}var ud=!1,Ti=null,wi=null,Ai=null,Oa=new Map,Ia=new Map,Ri=[],zC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mv(t,i){switch(t){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":Oa.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(i.pointerId)}}function Da(t,i,a,l,u,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[u]},i!==null&&(i=xs(i),i!==null&&fv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,u!==null&&i.indexOf(u)===-1&&i.push(u),t)}function PC(t,i,a,l,u){switch(i){case"focusin":return Ti=Da(Ti,t,i,a,l,u),!0;case"dragenter":return wi=Da(wi,t,i,a,l,u),!0;case"mouseover":return Ai=Da(Ai,t,i,a,l,u),!0;case"pointerover":var d=u.pointerId;return Oa.set(d,Da(Oa.get(d)||null,t,i,a,l,u)),!0;case"gotpointercapture":return d=u.pointerId,Ia.set(d,Da(Ia.get(d)||null,t,i,a,l,u)),!0}return!1}function pv(t){var i=Ms(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Om(t.priority,function(){dv(a)});return}}else if(i===31){if(i=h(a),i!==null){t.blockedOn=i,Om(t.priority,function(){dv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Po(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=od(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ou=l,a.target.dispatchEvent(l),ou=null}else return i=xs(a),i!==null&&fv(i),t.blockedOn=a,!1;i.shift()}return!0}function gv(t,i,a){Po(t)&&a.delete(i)}function BC(){ud=!1,Ti!==null&&Po(Ti)&&(Ti=null),wi!==null&&Po(wi)&&(wi=null),Ai!==null&&Po(Ai)&&(Ai=null),Oa.forEach(gv),Ia.forEach(gv)}function Bo(t,i){t.blockedOn===i&&(t.blockedOn=null,ud||(ud=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,BC)))}var Ho=null;function _v(t){Ho!==t&&(Ho=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ho===t&&(Ho=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],u=t[i+2];if(typeof l!="function"){if(cd(l||a)===null)continue;break}var d=xs(a);d!==null&&(t.splice(i,3),i-=3,of(d,{pending:!0,data:u,method:a.method,action:l},l,u))}}))}function mr(t){function i(b){return Bo(b,t)}Ti!==null&&Bo(Ti,t),wi!==null&&Bo(wi,t),Ai!==null&&Bo(Ai,t),Oa.forEach(i),Ia.forEach(i);for(var a=0;a<Ri.length;a++){var l=Ri[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ri.length&&(a=Ri[0],a.blockedOn===null);)pv(a),a.blockedOn===null&&Ri.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var u=a[l],d=a[l+1],g=u[Ct]||null;if(typeof d=="function")g||_v(a);else if(g){var v=null;if(d&&d.hasAttribute("formAction")){if(u=d,g=d[Ct]||null)v=g.formAction;else if(cd(u)!==null)continue}else v=g.action;typeof v=="function"?a[l+1]=v:(a.splice(l,3),l-=3),_v(a)}}}function vv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return u=g})},focusReset:"manual",scroll:"manual"})}function i(){u!==null&&(u(),u=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),u!==null&&(u(),u=null)}}}function fd(t){this._internalRoot=t}qo.prototype.render=fd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Gt();cv(a,l,t,i,null,null)},qo.prototype.unmount=fd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;cv(t.current,2,null,t,null,null),bo(),i[Ds]=null}};function qo(t){this._internalRoot=t}qo.prototype.unstable_scheduleHydration=function(t){if(t){var i=Nm();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Ri.length&&i!==0&&i<Ri[a].priority;a++);Ri.splice(a,0,t),a===0&&pv(t)}};var yv=e.version;if(yv!=="19.2.3")throw Error(r(527,yv,"19.2.3"));F.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=m(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var HC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jo.isDisabled&&jo.supportsFiber)try{Hr=jo.inject(HC),Ut=jo}catch{}}return xa.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",u=Ag,d=Rg,g=Ng;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=lv(t,1,!1,null,null,a,l,null,u,d,g,vv),t[Ds]=i.current,Ff(t),new fd(i)},xa.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,u="",d=Ag,g=Rg,v=Ng,b=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(b=a.formState)),i=lv(t,1,!0,i,a??null,l,u,b,d,g,v,vv),i.context=ov(null),a=i.current,l=Gt(),l=eu(l),u=di(l),u.callback=null,hi(a,u,l),a=l,i.current.lanes=a,jr(i,a),bn(i),t[Ds]=i.current,Ff(t),new qo(i)},xa.version="19.2.3",xa}var Ov;function ZC(){if(Ov)return md.exports;Ov=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),md.exports=XC(),md.exports}var $C=ZC();const JC=nE($C);var Iv="popstate";function eT(n={}){function e(o,c){let{pathname:f="/",search:h="",hash:p=""}=ws(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Bd("",{pathname:f,search:h,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(o,c){let f=o.document.querySelector("base"),h="";if(f&&f.getAttribute("href")){let p=o.location.href,m=p.indexOf("#");h=m===-1?p:p.slice(0,m)}return h+"#"+(typeof c=="string"?c:Xa(c))}function r(o,c){rn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return nT(e,s,r,n)}function Ve(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tT(){return Math.random().toString(36).substring(2,10)}function Dv(n,e){return{usr:n.state,key:n.key,idx:e}}function Bd(n,e,s=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ws(e):e,state:s,key:e&&e.key||r||tT()}}function Xa({pathname:n="/",search:e="",hash:s=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function ws(n){let e={};if(n){let s=n.indexOf("#");s>=0&&(e.hash=n.substring(s),n=n.substring(0,s));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function nT(n,e,s,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,f=o.history,h="POP",p=null,m=y();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function y(){return(f.state||{idx:null}).idx}function _(){h="POP";let H=y(),j=H==null?null:H-m;m=H,p&&p({action:h,location:k.location,delta:j})}function E(H,j){h="PUSH";let P=Bd(k.location,H,j);s&&s(P,H),m=y()+1;let V=Dv(P,m),oe=k.createHref(P);try{f.pushState(V,"",oe)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;o.location.assign(oe)}c&&p&&p({action:h,location:k.location,delta:1})}function w(H,j){h="REPLACE";let P=Bd(k.location,H,j);s&&s(P,H),m=y();let V=Dv(P,m),oe=k.createHref(P);f.replaceState(V,"",oe),c&&p&&p({action:h,location:k.location,delta:0})}function N(H){return iT(H)}let k={get action(){return h},get location(){return n(o,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Iv,_),p=H,()=>{o.removeEventListener(Iv,_),p=null}},createHref(H){return e(o,H)},createURL:N,encodeLocation(H){let j=N(H);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:w,go(H){return f.go(H)}};return k}function iT(n,e=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(s,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Xa(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function iE(n,e,s="/"){return sT(n,e,s,!1)}function sT(n,e,s,r){let o=typeof e=="string"?ws(e):e,c=$n(o.pathname||"/",s);if(c==null)return null;let f=sE(n);rT(f);let h=null;for(let p=0;h==null&&p<f.length;++p){let m=gT(c);h=mT(f[p],m,r)}return h}function sE(n,e=[],s=[],r="",o=!1){let c=(f,h,p=o,m)=>{let y={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&p)return;Ve(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let _=Xn([r,y.relativePath]),E=s.concat(y);f.children&&f.children.length>0&&(Ve(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),sE(f.children,e,E,_,p)),!(f.path==null&&!f.index)&&e.push({path:_,score:dT(_,f.index),routesMeta:E})};return n.forEach((f,h)=>{if(f.path===""||!f.path?.includes("?"))c(f,h);else for(let p of rE(f.path))c(f,h,!0,p)}),e}function rE(n){let e=n.split("/");if(e.length===0)return[];let[s,...r]=e,o=s.endsWith("?"),c=s.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let f=rE(r.join("/")),h=[];return h.push(...f.map(p=>p===""?c:[c,p].join("/"))),o&&h.push(...f),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function rT(n){n.sort((e,s)=>e.score!==s.score?s.score-e.score:hT(e.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var aT=/^:[\w-]+$/,lT=3,oT=2,cT=1,uT=10,fT=-2,Mv=n=>n==="*";function dT(n,e){let s=n.split("/"),r=s.length;return s.some(Mv)&&(r+=fT),e&&(r+=oT),s.filter(o=>!Mv(o)).reduce((o,c)=>o+(aT.test(c)?lT:c===""?cT:uT),r)}function hT(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function mT(n,e,s=!1){let{routesMeta:r}=n,o={},c="/",f=[];for(let h=0;h<r.length;++h){let p=r[h],m=h===r.length-1,y=c==="/"?e:e.slice(c.length)||"/",_=tc({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),E=p.route;if(!_&&m&&s&&!r[r.length-1].route.index&&(_=tc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!_)return null;Object.assign(o,_.params),f.push({params:o,pathname:Xn([c,_.pathname]),pathnameBase:ET(Xn([c,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(c=Xn([c,_.pathnameBase]))}return f}function tc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,r]=pT(n.path,n.caseSensitive,n.end),o=e.match(s);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:_},E)=>{if(y==="*"){let N=h[E]||"";f=c.slice(0,c.length-N.length).replace(/(.)\/+$/,"$1")}const w=h[E];return _&&!w?m[y]=void 0:m[y]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:f,pattern:n}}function pT(n,e=!1,s=!0){rn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function gT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function $n(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=n.charAt(s);return r&&r!=="/"?null:n.slice(s)||"/"}var aE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_T=n=>aE.test(n);function vT(n,e="/"){let{pathname:s,search:r="",hash:o=""}=typeof n=="string"?ws(n):n,c;if(s)if(_T(s))c=s;else{if(s.includes("//")){let f=s;s=s.replace(/\/\/+/g,"/"),rn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${s}`)}s.startsWith("/")?c=xv(s.substring(1),"/"):c=xv(s,e)}else c=e;return{pathname:c,search:bT(r),hash:ST(o)}}function xv(n,e){let s=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function vd(n,e,s,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yT(n){return n.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function lE(n){let e=yT(n);return e.map((s,r)=>r===e.length-1?s.pathname:s.pathnameBase)}function oE(n,e,s,r=!1){let o;typeof n=="string"?o=ws(n):(o={...n},Ve(!o.pathname||!o.pathname.includes("?"),vd("?","pathname","search",o)),Ve(!o.pathname||!o.pathname.includes("#"),vd("#","pathname","hash",o)),Ve(!o.search||!o.search.includes("#"),vd("#","search","hash",o)));let c=n===""||o.pathname==="",f=c?"/":o.pathname,h;if(f==null)h=s;else{let _=e.length-1;if(!r&&f.startsWith("..")){let E=f.split("/");for(;E[0]==="..";)E.shift(),_-=1;o.pathname=E.join("/")}h=_>=0?e[_]:"/"}let p=vT(o,h),m=f&&f!=="/"&&f.endsWith("/"),y=(c||f===".")&&s.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var Xn=n=>n.join("/").replace(/\/\/+/g,"/"),ET=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),bT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ST=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,CT=class{constructor(n,e,s,r=!1){this.status=n,this.statusText=e||"",this.internal=r,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function TT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function wT(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var cE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function uE(n,e){let s=n;if(typeof s!="string"||!aE.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let r=s,o=!1;if(cE)try{let c=new URL(window.location.href),f=s.startsWith("//")?new URL(c.protocol+s):new URL(s),h=$n(f.pathname,e);f.origin===c.origin&&h!=null?s=h+f.search+f.hash:o=!0}catch{rn(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fE=["POST","PUT","PATCH","DELETE"];new Set(fE);var AT=["GET",...fE];new Set(AT);var Or=I.createContext(null);Or.displayName="DataRouter";var Ic=I.createContext(null);Ic.displayName="DataRouterState";var RT=I.createContext(!1),dE=I.createContext({isTransitioning:!1});dE.displayName="ViewTransition";var NT=I.createContext(new Map);NT.displayName="Fetchers";var OT=I.createContext(null);OT.displayName="Await";var an=I.createContext(null);an.displayName="Navigation";var ul=I.createContext(null);ul.displayName="Location";var An=I.createContext({outlet:null,matches:[],isDataRoute:!1});An.displayName="Route";var dh=I.createContext(null);dh.displayName="RouteError";var hE="REACT_ROUTER_ERROR",IT="REDIRECT",DT="ROUTE_ERROR_RESPONSE";function MT(n){if(n.startsWith(`${hE}:${IT}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function xT(n){if(n.startsWith(`${hE}:${DT}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new CT(e.status,e.statusText,e.data)}catch{}}function kT(n,{relative:e}={}){Ve(fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=I.useContext(an),{hash:o,pathname:c,search:f}=dl(n,{relative:e}),h=c;return s!=="/"&&(h=c==="/"?s:Xn([s,c])),r.createHref({pathname:h,search:f,hash:o})}function fl(){return I.useContext(ul)!=null}function As(){return Ve(fl(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(ul).location}var mE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pE(n){I.useContext(an).static||I.useLayoutEffect(n)}function hh(){let{isDataRoute:n}=I.useContext(An);return n?KT():LT()}function LT(){Ve(fl(),"useNavigate() may be used only in the context of a <Router> component.");let n=I.useContext(Or),{basename:e,navigator:s}=I.useContext(an),{matches:r}=I.useContext(An),{pathname:o}=As(),c=JSON.stringify(lE(r)),f=I.useRef(!1);return pE(()=>{f.current=!0}),I.useCallback((p,m={})=>{if(rn(f.current,mE),!f.current)return;if(typeof p=="number"){s.go(p);return}let y=oE(p,JSON.parse(c),o,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Xn([e,y.pathname])),(m.replace?s.replace:s.push)(y,m.state,m)},[e,s,c,o,n])}I.createContext(null);function gE(){let{matches:n}=I.useContext(An),e=n[n.length-1];return e?e.params:{}}function dl(n,{relative:e}={}){let{matches:s}=I.useContext(An),{pathname:r}=As(),o=JSON.stringify(lE(s));return I.useMemo(()=>oE(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function UT(n,e){return _E(n,e)}function _E(n,e,s,r,o){Ve(fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=I.useContext(an),{matches:f}=I.useContext(An),h=f[f.length-1],p=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let P=_&&_.path||"";yE(m,!_||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let E=As(),w;if(e){let P=typeof e=="string"?ws(e):e;Ve(y==="/"||P.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${P.pathname}" was given in the \`location\` prop.`),w=P}else w=E;let N=w.pathname||"/",k=N;if(y!=="/"){let P=y.replace(/^\//,"").split("/");k="/"+N.replace(/^\//,"").split("/").slice(P.length).join("/")}let H=iE(n,{pathname:k});rn(_||H!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),rn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=qT(H&&H.map(P=>Object.assign({},P,{params:Object.assign({},p,P.params),pathname:Xn([y,c.encodeLocation?c.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?y:Xn([y,c.encodeLocation?c.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),f,s,r,o);return e&&j?I.createElement(ul.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},j):j}function zT(){let n=FT(),e=TT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:c},"ErrorBoundary")," or"," ",I.createElement("code",{style:c},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),s?I.createElement("pre",{style:o},s):null,f)}var PT=I.createElement(zT,null),vE=class extends I.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const s=xT(n.digest);s&&(n=s)}let e=n!==void 0?I.createElement(An.Provider,{value:this.props.routeContext},I.createElement(dh.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?I.createElement(BT,{error:n},e):e}};vE.contextType=RT;var yd=new WeakMap;function BT({children:n,error:e}){let{basename:s}=I.useContext(an);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=MT(e.digest);if(r){let o=yd.get(e);if(o)throw o;let c=uE(r.location,s);if(cE&&!yd.get(e))if(c.isExternal||r.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:r.replace}));throw yd.set(e,f),f}return I.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return n}function HT({routeContext:n,match:e,children:s}){let r=I.useContext(Or);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(An.Provider,{value:n},s)}function qT(n,e=[],s=null,r=null,o=null){if(n==null){if(!s)return null;if(s.errors)n=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let c=n,f=s?.errors;if(f!=null){let y=c.findIndex(_=>_.route.id&&f?.[_.route.id]!==void 0);Ve(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let h=!1,p=-1;if(s)for(let y=0;y<c.length;y++){let _=c[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=y),_.route.id){let{loaderData:E,errors:w}=s,N=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||N){h=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let m=s&&r?(y,_)=>{r(y,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:wT(s.matches),errorInfo:_})}:void 0;return c.reduceRight((y,_,E)=>{let w,N=!1,k=null,H=null;s&&(w=f&&_.route.id?f[_.route.id]:void 0,k=_.route.errorElement||PT,h&&(p<0&&E===0?(yE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,H=null):p===E&&(N=!0,H=_.route.hydrateFallbackElement||null)));let j=e.concat(c.slice(0,E+1)),P=()=>{let V;return w?V=k:N?V=H:_.route.Component?V=I.createElement(_.route.Component,null):_.route.element?V=_.route.element:V=y,I.createElement(HT,{match:_,routeContext:{outlet:y,matches:j,isDataRoute:s!=null},children:V})};return s&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?I.createElement(vE,{location:s.location,revalidation:s.revalidation,component:k,error:w,children:P(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:m}):P()},null)}function mh(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jT(n){let e=I.useContext(Or);return Ve(e,mh(n)),e}function VT(n){let e=I.useContext(Ic);return Ve(e,mh(n)),e}function GT(n){let e=I.useContext(An);return Ve(e,mh(n)),e}function ph(n){let e=GT(n),s=e.matches[e.matches.length-1];return Ve(s.route.id,`${n} can only be used on routes that contain a unique "id"`),s.route.id}function YT(){return ph("useRouteId")}function FT(){let n=I.useContext(dh),e=VT("useRouteError"),s=ph("useRouteError");return n!==void 0?n:e.errors?.[s]}function KT(){let{router:n}=jT("useNavigate"),e=ph("useNavigate"),s=I.useRef(!1);return pE(()=>{s.current=!0}),I.useCallback(async(o,c={})=>{rn(s.current,mE),s.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...c}))},[n,e])}var kv={};function yE(n,e,s){!e&&!kv[n]&&(kv[n]=!0,rn(!1,s))}I.memo(QT);function QT({routes:n,future:e,state:s,onError:r}){return _E(n,void 0,s,r,e)}function Ko(n){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WT({basename:n="/",children:e=null,location:s,navigationType:r="POP",navigator:o,static:c=!1,unstable_useTransitions:f}){Ve(!fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),p=I.useMemo(()=>({basename:h,navigator:o,static:c,unstable_useTransitions:f,future:{}}),[h,o,c,f]);typeof s=="string"&&(s=ws(s));let{pathname:m="/",search:y="",hash:_="",state:E=null,key:w="default"}=s,N=I.useMemo(()=>{let k=$n(m,h);return k==null?null:{location:{pathname:k,search:y,hash:_,state:E,key:w},navigationType:r}},[h,m,y,_,E,w,r]);return rn(N!=null,`<Router basename="${h}"> is not able to match the URL "${m}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:I.createElement(an.Provider,{value:p},I.createElement(ul.Provider,{children:e,value:N}))}function XT({children:n,location:e}){return UT(Hd(n),e)}function Hd(n,e=[]){let s=[];return I.Children.forEach(n,(r,o)=>{if(!I.isValidElement(r))return;let c=[...e,o];if(r.type===I.Fragment){s.push.apply(s,Hd(r.props.children,c));return}Ve(r.type===Ko,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=Hd(r.props.children,c)),s.push(f)}),s}var Qo="get",Wo="application/x-www-form-urlencoded";function Dc(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function ZT(n){return Dc(n)&&n.tagName.toLowerCase()==="button"}function $T(n){return Dc(n)&&n.tagName.toLowerCase()==="form"}function JT(n){return Dc(n)&&n.tagName.toLowerCase()==="input"}function ew(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function tw(n,e){return n.button===0&&(!e||e==="_self")&&!ew(n)}var Vo=null;function nw(){if(Vo===null)try{new FormData(document.createElement("form"),0),Vo=!1}catch{Vo=!0}return Vo}var iw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ed(n){return n!=null&&!iw.has(n)?(rn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wo}"`),null):n}function sw(n,e){let s,r,o,c,f;if($T(n)){let h=n.getAttribute("action");r=h?$n(h,e):null,s=n.getAttribute("method")||Qo,o=Ed(n.getAttribute("enctype"))||Wo,c=new FormData(n)}else if(ZT(n)||JT(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(r=p?$n(p,e):null,s=n.getAttribute("formmethod")||h.getAttribute("method")||Qo,o=Ed(n.getAttribute("formenctype"))||Ed(h.getAttribute("enctype"))||Wo,c=new FormData(h,n),!nw()){let{name:m,type:y,value:_}=n;if(y==="image"){let E=m?`${m}.`:"";c.append(`${E}x`,"0"),c.append(`${E}y`,"0")}else m&&c.append(m,_)}}else{if(Dc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Qo,r=null,o=Wo,f=n}return c&&o==="text/plain"&&(f=c,c=void 0),{action:r,method:s.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gh(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rw(n,e,s){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${s}`:e&&$n(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function aw(n,e){if(n.id in e)return e[n.id];try{let s=await import(n.module);return e[n.id]=s,s}catch(s){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lw(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ow(n,e,s){let r=await Promise.all(n.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await aw(c,s);return f.links?f.links():[]}return[]}));return dw(r.flat(1).filter(lw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Lv(n,e,s,r,o,c){let f=(p,m)=>s[m]?p.route.id!==s[m].route.id:!0,h=(p,m)=>s[m].pathname!==p.pathname||s[m].route.path?.endsWith("*")&&s[m].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,m)=>f(p,m)||h(p,m)):c==="data"?e.filter((p,m)=>{let y=r.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(f(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function cw(n,e,{includeHydrateFallback:s}={}){return uw(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function uw(n){return[...new Set(n)]}function fw(n){let e={},s=Object.keys(n).sort();for(let r of s)e[r]=n[r];return e}function dw(n,e){let s=new Set;return new Set(e),n.reduce((r,o)=>{let c=JSON.stringify(fw(o));return s.has(c)||(s.add(c),r.push({key:c,link:o})),r},[])}function EE(){let n=I.useContext(Or);return gh(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function hw(){let n=I.useContext(Ic);return gh(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var _h=I.createContext(void 0);_h.displayName="FrameworkContext";function bE(){let n=I.useContext(_h);return gh(n,"You must render this element inside a <HydratedRouter> element"),n}function mw(n,e){let s=I.useContext(_h),[r,o]=I.useState(!1),[c,f]=I.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,E=I.useRef(null);I.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let k=j=>{j.forEach(P=>{f(P.isIntersecting)})},H=new IntersectionObserver(k,{threshold:.5});return E.current&&H.observe(E.current),()=>{H.disconnect()}}},[n]),I.useEffect(()=>{if(r){let k=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(k)}}},[r]);let w=()=>{o(!0)},N=()=>{o(!1),f(!1)};return s?n!=="intent"?[c,E,{}]:[c,E,{onFocus:ka(h,w),onBlur:ka(p,N),onMouseEnter:ka(m,w),onMouseLeave:ka(y,N),onTouchStart:ka(_,w)}]:[!1,E,{}]}function ka(n,e){return s=>{n&&n(s),s.defaultPrevented||e(s)}}function pw({page:n,...e}){let{router:s}=EE(),r=I.useMemo(()=>iE(s.routes,n,s.basename),[s.routes,n,s.basename]);return r?I.createElement(_w,{page:n,matches:r,...e}):null}function gw(n){let{manifest:e,routeModules:s}=bE(),[r,o]=I.useState([]);return I.useEffect(()=>{let c=!1;return ow(n,e,s).then(f=>{c||o(f)}),()=>{c=!0}},[n,e,s]),r}function _w({page:n,matches:e,...s}){let r=As(),{manifest:o,routeModules:c}=bE(),{basename:f}=EE(),{loaderData:h,matches:p}=hw(),m=I.useMemo(()=>Lv(n,e,p,o,r,"data"),[n,e,p,o,r]),y=I.useMemo(()=>Lv(n,e,p,o,r,"assets"),[n,e,p,o,r]),_=I.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let N=new Set,k=!1;if(e.forEach(j=>{let P=o.routes[j.route.id];!P||!P.hasLoader||(!m.some(V=>V.route.id===j.route.id)&&j.route.id in h&&c[j.route.id]?.shouldRevalidate||P.hasClientLoader?k=!0:N.add(j.route.id))}),N.size===0)return[];let H=rw(n,f,"data");return k&&N.size>0&&H.searchParams.set("_routes",e.filter(j=>N.has(j.route.id)).map(j=>j.route.id).join(",")),[H.pathname+H.search]},[f,h,r,o,m,e,n,c]),E=I.useMemo(()=>cw(y,o),[y,o]),w=gw(y);return I.createElement(I.Fragment,null,_.map(N=>I.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...s})),E.map(N=>I.createElement("link",{key:N,rel:"modulepreload",href:N,...s})),w.map(({key:N,link:k})=>I.createElement("link",{key:N,nonce:s.nonce,...k})))}function vw(...n){return e=>{n.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var yw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yw&&(window.__reactRouterVersion="7.11.0")}catch{}function Ew({basename:n,children:e,unstable_useTransitions:s,window:r}){let o=I.useRef();o.current==null&&(o.current=eT({window:r,v5Compat:!0}));let c=o.current,[f,h]=I.useState({action:c.action,location:c.location}),p=I.useCallback(m=>{s===!1?h(m):I.startTransition(()=>h(m))},[s]);return I.useLayoutEffect(()=>c.listen(p),[c,p]),I.createElement(WT,{basename:n,children:e,location:f.location,navigationType:f.action,navigator:c,unstable_useTransitions:s})}var SE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CE=I.forwardRef(function({onClick:e,discover:s="render",prefetch:r="none",relative:o,reloadDocument:c,replace:f,state:h,target:p,to:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E,...w},N){let{basename:k,unstable_useTransitions:H}=I.useContext(an),j=typeof m=="string"&&SE.test(m),P=uE(m,k);m=P.to;let V=kT(m,{relative:o}),[oe,W,Ce]=mw(r,w),Z=Tw(m,{replace:f,state:h,target:p,preventScrollReset:y,relative:o,viewTransition:_,unstable_defaultShouldRevalidate:E,unstable_useTransitions:H});function ee(Ue){e&&e(Ue),Ue.defaultPrevented||Z(Ue)}let ke=I.createElement("a",{...w,...Ce,href:P.absoluteURL||V,onClick:P.isExternal||c?e:ee,ref:vw(N,W),target:p,"data-discover":!j&&s==="render"?"true":void 0});return oe&&!j?I.createElement(I.Fragment,null,ke,I.createElement(pw,{page:V})):ke});CE.displayName="Link";var bw=I.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:r="",end:o=!1,style:c,to:f,viewTransition:h,children:p,...m},y){let _=dl(f,{relative:m.relative}),E=As(),w=I.useContext(Ic),{navigator:N,basename:k}=I.useContext(an),H=w!=null&&Ow(_)&&h===!0,j=N.encodeLocation?N.encodeLocation(_).pathname:_.pathname,P=E.pathname,V=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(P=P.toLowerCase(),V=V?V.toLowerCase():null,j=j.toLowerCase()),V&&k&&(V=$n(V,k)||V);const oe=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let W=P===j||!o&&P.startsWith(j)&&P.charAt(oe)==="/",Ce=V!=null&&(V===j||!o&&V.startsWith(j)&&V.charAt(j.length)==="/"),Z={isActive:W,isPending:Ce,isTransitioning:H},ee=W?e:void 0,ke;typeof r=="function"?ke=r(Z):ke=[r,W?"active":null,Ce?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let Ue=typeof c=="function"?c(Z):c;return I.createElement(CE,{...m,"aria-current":ee,className:ke,ref:y,style:Ue,to:f,viewTransition:h},typeof p=="function"?p(Z):p)});bw.displayName="NavLink";var Sw=I.forwardRef(({discover:n="render",fetcherKey:e,navigate:s,reloadDocument:r,replace:o,state:c,method:f=Qo,action:h,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E,...w},N)=>{let{unstable_useTransitions:k}=I.useContext(an),H=Rw(),j=Nw(h,{relative:m}),P=f.toLowerCase()==="get"?"get":"post",V=typeof h=="string"&&SE.test(h),oe=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let Ce=W.nativeEvent.submitter,Z=Ce?.getAttribute("formmethod")||f,ee=()=>H(Ce||W.currentTarget,{fetcherKey:e,method:Z,navigate:s,replace:o,state:c,relative:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E});k&&s!==!1?I.startTransition(()=>ee()):ee()};return I.createElement("form",{ref:N,method:P,action:j,onSubmit:r?p:oe,...w,"data-discover":!V&&n==="render"?"true":void 0})});Sw.displayName="Form";function Cw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TE(n){let e=I.useContext(Or);return Ve(e,Cw(n)),e}function Tw(n,{target:e,replace:s,state:r,preventScrollReset:o,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:h,unstable_useTransitions:p}={}){let m=hh(),y=As(),_=dl(n,{relative:c});return I.useCallback(E=>{if(tw(E,e)){E.preventDefault();let w=s!==void 0?s:Xa(y)===Xa(_),N=()=>m(n,{replace:w,state:r,preventScrollReset:o,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:h});p?I.startTransition(()=>N()):N()}},[y,m,_,s,r,e,n,o,c,f,h,p])}var ww=0,Aw=()=>`__${String(++ww)}__`;function Rw(){let{router:n}=TE("useSubmit"),{basename:e}=I.useContext(an),s=YT(),r=n.fetch,o=n.navigate;return I.useCallback(async(c,f={})=>{let{action:h,method:p,encType:m,formData:y,body:_}=sw(c,e);if(f.navigate===!1){let E=f.fetcherKey||Aw();await r(E,s,f.action||h,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:y,body:_,formMethod:f.method||p,formEncType:f.encType||m,flushSync:f.flushSync})}else await o(f.action||h,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:y,body:_,formMethod:f.method||p,formEncType:f.encType||m,replace:f.replace,state:f.state,fromRouteId:s,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,o,e,s])}function Nw(n,{relative:e}={}){let{basename:s}=I.useContext(an),r=I.useContext(An);Ve(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...dl(n||".",{relative:e})},f=As();if(n==null){c.search=f.search;let h=new URLSearchParams(c.search),p=h.getAll("index");if(p.some(y=>y==="")){h.delete("index"),p.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();c.search=y?`?${y}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:Xn([s,c.pathname])),Xa(c)}function Ow(n,{relative:e}={}){let s=I.useContext(dE);Ve(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=TE("useViewTransitionState"),o=dl(n,{relative:e});if(!s.isTransitioning)return!1;let c=$n(s.currentLocation.pathname,r)||s.currentLocation.pathname,f=$n(s.nextLocation.pathname,r)||s.nextLocation.pathname;return tc(o.pathname,f)!=null||tc(o.pathname,c)!=null}const Iw=()=>{};var Uv={};const wE={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const G=function(n,e){if(!n)throw Ir(e)},Ir=function(n){return new Error("Firebase Database ("+wE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};const AE=function(n){const e=[];let s=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},Dw=function(n){const e=[];let s=0,r=0;for(;s<n.length;){const o=n[s++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=n[s++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=n[s++],f=n[s++],h=n[s++],p=((o&7)<<18|(c&63)<<12|(f&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const c=n[s++],f=n[s++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},vh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const c=n[o],f=o+1<n.length,h=f?n[o+1]:0,p=o+2<n.length,m=p?n[o+2]:0,y=c>>2,_=(c&3)<<4|h>>4;let E=(h&15)<<2|m>>6,w=m&63;p||(w=64,f||(E=64)),r.push(s[y],s[_],s[E],s[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(AE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Dw(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const c=s[n.charAt(o++)],h=o<n.length?s[n.charAt(o)]:0;++o;const m=o<n.length?s[n.charAt(o)]:64;++o;const _=o<n.length?s[n.charAt(o)]:64;if(++o,c==null||h==null||m==null||_==null)throw new Mw;const E=c<<2|h>>4;if(r.push(E),m!==64){const w=h<<4&240|m>>2;if(r.push(w),_!==64){const N=m<<6&192|_;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Mw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RE=function(n){const e=AE(n);return vh.encodeByteArray(e,!0)},nc=function(n){return RE(n).replace(/\./g,"")},ic=function(n){try{return vh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xw(n){return NE(void 0,n)}function NE(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const s=e;return new Date(s.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const s in e)!e.hasOwnProperty(s)||!kw(s)||(n[s]=NE(n[s],e[s]));return n}function kw(n){return n!=="__proto__"}function Lw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Uw=()=>Lw().__FIREBASE_DEFAULTS__,zw=()=>{if(typeof process>"u"||typeof Uv>"u")return;const n=Uv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Pw=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ic(n[1]);return e&&JSON.parse(e)},yh=()=>{try{return Iw()||Uw()||zw()||Pw()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},OE=n=>yh()?.emulatorHosts?.[n],Bw=n=>{const e=OE(n);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},IE=()=>yh()?.config,DE=n=>yh()?.[`_${n}`];class Mc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}function Dr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ME(n){return(await fetch(n,{credentials:"include"})).ok}function Hw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...n};return[nc(JSON.stringify(s)),nc(JSON.stringify(f)),""].join(".")}const Va={};function qw(){const n={prod:[],emulator:[]};for(const e of Object.keys(Va))Va[e]?n.emulator.push(e):n.prod.push(e);return n}function jw(n){let e=document.getElementById(n),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),s=!0),{created:s,element:e}}let zv=!1;function xE(n,e){if(typeof window>"u"||typeof document>"u"||!Dr(window.location.host)||Va[n]===e||Va[n]||zv)return;Va[n]=e;function s(E){return`__firebase__banner__${E}`}const r="__firebase__banner",c=qw().prod.length>0;function f(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{zv=!0,f()},E}function y(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=jw(r),w=s("text"),N=document.getElementById(w)||document.createElement("span"),k=s("learnmore"),H=document.getElementById(k)||document.createElement("a"),j=s("preprendIcon"),P=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const V=E.element;h(V),y(H,k);const oe=m();p(P,j),V.append(P,N,H,oe),document.body.appendChild(V)}c?(N.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Eh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function Vw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gw(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function kE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yw(){const n=bt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Fw(){return wE.NODE_ADMIN===!0}function Kw(){try{return typeof indexedDB=="object"}catch{return!1}}function Qw(){return new Promise((n,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(s){e(s)}})}const Ww="FirebaseError";class Gi extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=Ww,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hl.prototype.create)}}class hl{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?Xw(c,r):"Error",h=`${this.serviceName}: ${f} (${o}).`;return new Gi(o,h,r)}}function Xw(n,e){return n.replace(Zw,(s,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Zw=/\{\$([^}]+)}/g;function Za(n){return JSON.parse(n)}function nt(n){return JSON.stringify(n)}const LE=function(n){let e={},s={},r={},o="";try{const c=n.split(".");e=Za(ic(c[0])||""),s=Za(ic(c[1])||""),o=c[2],r=s.d||{},delete s.d}catch{}return{header:e,claims:s,data:r,signature:o}},$w=function(n){const e=LE(n),s=e.claims;return!!s&&typeof s=="object"&&s.hasOwnProperty("iat")},Jw=function(n){const e=LE(n).claims;return typeof e=="object"&&e.admin===!0};function ni(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Cr(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function qd(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function sc(n,e,s){const r={};for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=e.call(s,n[o],o,n));return r}function vs(n,e){if(n===e)return!0;const s=Object.keys(n),r=Object.keys(e);for(const o of s){if(!r.includes(o))return!1;const c=n[o],f=e[o];if(Pv(c)&&Pv(f)){if(!vs(c,f))return!1}else if(c!==f)return!1}for(const o of r)if(!s.includes(o))return!1;return!0}function Pv(n){return n!==null&&typeof n=="object"}function Mr(n){const e=[];for(const[s,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qa(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function ja(n){const e=n.indexOf("?");if(!e)return"";const s=n.indexOf("#",e);return n.substring(e,s>0?s:void 0)}class eA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,s){s||(s=0);const r=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)r[_]=e.charCodeAt(s)<<24|e.charCodeAt(s+1)<<16|e.charCodeAt(s+2)<<8|e.charCodeAt(s+3),s+=4;else for(let _=0;_<16;_++)r[_]=e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3],s+=4;for(let _=16;_<80;_++){const E=r[_-3]^r[_-8]^r[_-14]^r[_-16];r[_]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],f=this.chain_[2],h=this.chain_[3],p=this.chain_[4],m,y;for(let _=0;_<80;_++){_<40?_<20?(m=h^c&(f^h),y=1518500249):(m=c^f^h,y=1859775393):_<60?(m=c&f|h&(c|f),y=2400959708):(m=c^f^h,y=3395469782);const E=(o<<5|o>>>27)+m+p+y+r[_]&4294967295;p=h,h=f,f=(c<<30|c>>>2)&4294967295,c=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,s){if(e==null)return;s===void 0&&(s=e.length);const r=s-this.blockSize;let o=0;const c=this.buf_;let f=this.inbuf_;for(;o<s;){if(f===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<s;)if(c[f]=e.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(c),f=0;break}}else for(;o<s;)if(c[f]=e[o],++f,++o,f===this.blockSize){this.compress_(c),f=0;break}}this.inbuf_=f,this.total_+=s}digest(){const e=[];let s=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=s&255,s/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)e[r]=this.chain_[o]>>c&255,++r;return e}}function tA(n,e){const s=new nA(n,e);return s.subscribe.bind(s)}class nA{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,r){let o;if(e===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");iA(e,["next","error","complete"])?o=e:o={next:e,error:s,complete:r},o.next===void 0&&(o.next=bd),o.error===void 0&&(o.error=bd),o.complete===void 0&&(o.complete=bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iA(n,e){if(typeof n!="object"||n===null)return!1;for(const s of e)if(s in n&&typeof n[s]=="function")return!0;return!1}function bd(){}function bh(n,e){return`${n} failed: ${e} argument `}const sA=function(n){const e=[];let s=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);if(o>=55296&&o<=56319){const c=o-55296;r++,G(r<n.length,"Surrogate pair missing trail surrogate.");const f=n.charCodeAt(r)-56320;o=65536+(c<<10)+f}o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):o<65536?(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},xc=function(n){let e=0;for(let s=0;s<n.length;s++){const r=n.charCodeAt(s);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,s++):e+=3}return e};function St(n){return n&&n._delegate?n._delegate:n}class ys{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const hs="[DEFAULT]";class rA{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new Mc;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lA(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[c,f]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(c);r===h&&f.resolve(o)}return o}onInit(e,s){const r=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const o of r)try{o(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aA(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aA(n){return n===hs?void 0:n}function lA(n){return n.instantiationMode==="EAGER"}class oA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new rA(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}var De;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(De||(De={}));const cA={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},uA=De.INFO,fA={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},dA=(n,e,...s)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=fA[e];if(o)console[o](`[${r}]  ${n.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sh{constructor(e){this.name=e,this._logLevel=uA,this._logHandler=dA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const hA=(n,e)=>e.some(s=>n instanceof s);let Bv,Hv;function mA(){return Bv||(Bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pA(){return Hv||(Hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UE=new WeakMap,jd=new WeakMap,zE=new WeakMap,Sd=new WeakMap,Ch=new WeakMap;function gA(n){const e=new Promise((s,r)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",f)},c=()=>{s(Li(n.result)),o()},f=()=>{r(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",f)});return e.then(s=>{s instanceof IDBCursor&&UE.set(s,n)}).catch(()=>{}),Ch.set(e,n),e}function _A(n){if(jd.has(n))return;const e=new Promise((s,r)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",f),n.removeEventListener("abort",f)},c=()=>{s(),o()},f=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",f),n.addEventListener("abort",f)});jd.set(n,e)}let Vd={get(n,e,s){if(n instanceof IDBTransaction){if(e==="done")return jd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||zE.get(n);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Li(n[e])},set(n,e,s){return n[e]=s,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function vA(n){Vd=n(Vd)}function yA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=n.call(Cd(this),e,...s);return zE.set(r,e.sort?e.sort():[e]),Li(r)}:pA().includes(n)?function(...e){return n.apply(Cd(this),e),Li(UE.get(this))}:function(...e){return Li(n.apply(Cd(this),e))}}function EA(n){return typeof n=="function"?yA(n):(n instanceof IDBTransaction&&_A(n),hA(n,mA())?new Proxy(n,Vd):n)}function Li(n){if(n instanceof IDBRequest)return gA(n);if(Sd.has(n))return Sd.get(n);const e=EA(n);return e!==n&&(Sd.set(n,e),Ch.set(e,n)),e}const Cd=n=>Ch.get(n);function bA(n,e,{blocked:s,upgrade:r,blocking:o,terminated:c}={}){const f=indexedDB.open(n,e),h=Li(f);return r&&f.addEventListener("upgradeneeded",p=>{r(Li(f.result),p.oldVersion,p.newVersion,Li(f.transaction),p)}),s&&f.addEventListener("blocked",p=>s(p.oldVersion,p.newVersion,p)),h.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const SA=["get","getKey","getAll","getAllKeys","count"],CA=["put","add","delete","clear"],Td=new Map;function qv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Td.get(e))return Td.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,o=CA.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(o||SA.includes(s)))return;const c=async function(f,...h){const p=this.transaction(f,o?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[s](...h),o&&p.done]))[0]};return Td.set(e,c),c}vA(n=>({...n,get:(e,s,r)=>qv(e,s)||n.get(e,s,r),has:(e,s)=>!!qv(e,s)||n.has(e,s)}));class TA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(wA(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function wA(n){return n.getComponent()?.type==="VERSION"}const Gd="@firebase/app",jv="0.14.6";const Jn=new Sh("@firebase/app"),AA="@firebase/app-compat",RA="@firebase/analytics-compat",NA="@firebase/analytics",OA="@firebase/app-check-compat",IA="@firebase/app-check",DA="@firebase/auth",MA="@firebase/auth-compat",xA="@firebase/database",kA="@firebase/data-connect",LA="@firebase/database-compat",UA="@firebase/functions",zA="@firebase/functions-compat",PA="@firebase/installations",BA="@firebase/installations-compat",HA="@firebase/messaging",qA="@firebase/messaging-compat",jA="@firebase/performance",VA="@firebase/performance-compat",GA="@firebase/remote-config",YA="@firebase/remote-config-compat",FA="@firebase/storage",KA="@firebase/storage-compat",QA="@firebase/firestore",WA="@firebase/ai",XA="@firebase/firestore-compat",ZA="firebase",$A="12.6.0";const Yd="[DEFAULT]",JA={[Gd]:"fire-core",[AA]:"fire-core-compat",[NA]:"fire-analytics",[RA]:"fire-analytics-compat",[IA]:"fire-app-check",[OA]:"fire-app-check-compat",[DA]:"fire-auth",[MA]:"fire-auth-compat",[xA]:"fire-rtdb",[kA]:"fire-data-connect",[LA]:"fire-rtdb-compat",[UA]:"fire-fn",[zA]:"fire-fn-compat",[PA]:"fire-iid",[BA]:"fire-iid-compat",[HA]:"fire-fcm",[qA]:"fire-fcm-compat",[jA]:"fire-perf",[VA]:"fire-perf-compat",[GA]:"fire-rc",[YA]:"fire-rc-compat",[FA]:"fire-gcs",[KA]:"fire-gcs-compat",[QA]:"fire-fst",[XA]:"fire-fst-compat",[WA]:"fire-vertex","fire-js":"fire-js",[ZA]:"fire-js-all"};const rc=new Map,eR=new Map,Fd=new Map;function Vv(n,e){try{n.container.addComponent(e)}catch(s){Jn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,s)}}function Tr(n){const e=n.name;if(Fd.has(e))return Jn.debug(`There were multiple attempts to register component ${e}.`),!1;Fd.set(e,n);for(const s of rc.values())Vv(s,n);for(const s of eR.values())Vv(s,n);return!0}function Th(n,e){const s=n.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),n.container.getProvider(e)}function un(n){return n==null?!1:n.settings!==void 0}const tR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ui=new hl("app","Firebase",tR);class nR{constructor(e,s,r){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}}const xr=$A;function PE(n,e={}){let s=n;typeof e!="object"&&(e={name:e});const r={name:Yd,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ui.create("bad-app-name",{appName:String(o)});if(s||(s=IE()),!s)throw Ui.create("no-options");const c=rc.get(o);if(c){if(vs(s,c.options)&&vs(r,c.config))return c;throw Ui.create("duplicate-app",{appName:o})}const f=new oA(o);for(const p of Fd.values())f.addComponent(p);const h=new nR(s,r,f);return rc.set(o,h),h}function BE(n=Yd){const e=rc.get(n);if(!e&&n===Yd&&IE())return PE();if(!e)throw Ui.create("no-app",{appName:n});return e}function zi(n,e,s){let r=JA[n]??n;s&&(r+=`-${s}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jn.warn(f.join(" "));return}Tr(new ys(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const iR="firebase-heartbeat-database",sR=1,$a="firebase-heartbeat-store";let wd=null;function HE(){return wd||(wd=bA(iR,sR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($a)}catch(s){console.warn(s)}}}}).catch(n=>{throw Ui.create("idb-open",{originalErrorMessage:n.message})})),wd}async function rR(n){try{const s=(await HE()).transaction($a),r=await s.objectStore($a).get(qE(n));return await s.done,r}catch(e){if(e instanceof Gi)Jn.warn(e.message);else{const s=Ui.create("idb-get",{originalErrorMessage:e?.message});Jn.warn(s.message)}}}async function Gv(n,e){try{const r=(await HE()).transaction($a,"readwrite");await r.objectStore($a).put(e,qE(n)),await r.done}catch(s){if(s instanceof Gi)Jn.warn(s.message);else{const r=Ui.create("idb-set",{originalErrorMessage:s?.message});Jn.warn(r.message)}}}function qE(n){return`${n.name}!${n.options.appId}`}const aR=1024,lR=30;class oR{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new uR(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Yv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>lR){const o=fR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Jn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Yv(),{heartbeatsToSend:s,unsentEntries:r}=cR(this._heartbeatsCache.heartbeats),o=nc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Jn.warn(e),""}}}function Yv(){return new Date().toISOString().substring(0,10)}function cR(n,e=aR){const s=[];let r=n.slice();for(const o of n){const c=s.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),Fv(s)>e){c.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),Fv(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class uR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kw()?Qw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await rR(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Fv(n){return nc(JSON.stringify({version:2,heartbeats:n})).length}function fR(n){if(n.length===0)return-1;let e=0,s=n[0].date;for(let r=1;r<n.length;r++)n[r].date<s&&(s=n[r].date,e=r);return e}function dR(n){Tr(new ys("platform-logger",e=>new TA(e),"PRIVATE")),Tr(new ys("heartbeat",e=>new oR(e),"PRIVATE")),zi(Gd,jv,n),zi(Gd,jv,"esm2020"),zi("fire-js","")}dR("");var hR="firebase",mR="12.7.0";zi(hR,mR,"app");function jE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pR=jE,VE=new hl("auth","Firebase",jE());const ac=new Sh("@firebase/auth");function gR(n,...e){ac.logLevel<=De.WARN&&ac.warn(`Auth (${xr}): ${n}`,...e)}function Xo(n,...e){ac.logLevel<=De.ERROR&&ac.error(`Auth (${xr}): ${n}`,...e)}function gn(n,...e){throw wh(n,...e)}function Cn(n,...e){return wh(n,...e)}function GE(n,e,s){const r={...pR(),[e]:s};return new hl("auth","Firebase",r).create(e,{appName:n.name})}function Pi(n){return GE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wh(n,...e){if(typeof n!="string"){const s=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(s,...r)}return VE.create(n,...e)}function ne(n,e,...s){if(!n)throw wh(e,...s)}function Fn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Xo(e),new Error(e)}function ei(n,e){n||Fn(e)}function Kd(){return typeof self<"u"&&self.location?.href||""}function _R(){return Kv()==="http:"||Kv()==="https:"}function Kv(){return typeof self<"u"&&self.location?.protocol||null}function vR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_R()||Gw()||"connection"in navigator)?navigator.onLine:!0}function yR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class ml{constructor(e,s){this.shortDelay=e,this.longDelay=s,ei(s>e,"Short delay should be less than long delay!"),this.isMobile=Eh()||kE()}get(){return vR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ah(n,e){ei(n.emulator,"Emulator should always be set here");const{url:s}=n.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}class YE{static initialize(e,s,r){this.fetchImpl=e,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ER={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SR=new ml(3e4,6e4);function Rs(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Yi(n,e,s,r,o={}){return FE(n,o,async()=>{let c={},f={};r&&(e==="GET"?f=r:c={body:JSON.stringify(r)});const h=Mr({key:n.config.apiKey,...f}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:p,...c};return Vw()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Dr(n.emulatorConfig.host)&&(m.credentials="include"),YE.fetch()(await KE(n,n.config.apiHost,s,h),m)})}async function FE(n,e,s){n._canInitEmulator=!1;const r={...ER,...e};try{const o=new TR(n),c=await Promise.race([s(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Go(n,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const h=c.ok?f.errorMessage:f.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Go(n,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Go(n,"email-already-in-use",f);if(p==="USER_DISABLED")throw Go(n,"user-disabled",f);const y=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw GE(n,y,m);gn(n,y)}}catch(o){if(o instanceof Gi)throw o;gn(n,"network-request-failed",{message:String(o)})}}async function kc(n,e,s,r,o={}){const c=await Yi(n,e,s,r,o);return"mfaPendingCredential"in c&&gn(n,"multi-factor-auth-required",{_serverResponse:c}),c}async function KE(n,e,s,r){const o=`${e}${s}?${r}`,c=n,f=c.config.emulator?Ah(n.config,o):`${n.config.apiScheme}://${o}`;return bR.includes(s)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function CR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(Cn(this.auth,"network-request-failed")),SR.get())})}}function Go(n,e,s){const r={appName:n.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const o=Cn(n,e,r);return o.customData._tokenResponse=s,o}function Qv(n){return n!==void 0&&n.enterprise!==void 0}class wR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===e)return CR(s.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AR(n,e){return Yi(n,"GET","/v2/recaptchaConfig",Rs(n,e))}async function RR(n,e){return Yi(n,"POST","/v1/accounts:delete",e)}async function lc(n,e){return Yi(n,"POST","/v1/accounts:lookup",e)}function Ga(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NR(n,e=!1){const s=St(n),r=await s.getIdToken(e),o=Rh(r);ne(o&&o.exp&&o.auth_time&&o.iat,s.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:r,authTime:Ga(Ad(o.auth_time)),issuedAtTime:Ga(Ad(o.iat)),expirationTime:Ga(Ad(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ad(n){return Number(n)*1e3}function Rh(n){const[e,s,r]=n.split(".");if(e===void 0||s===void 0||r===void 0)return Xo("JWT malformed, contained fewer than 3 sections"),null;try{const o=ic(s);return o?JSON.parse(o):(Xo("Failed to decode base64 JWT payload"),null)}catch(o){return Xo("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Wv(n){const e=Rh(n);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ja(n,e,s=!1){if(s)return e;try{return await e}catch(r){throw r instanceof Gi&&OR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function OR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class IR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Qd{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ga(this.lastLoginAt),this.creationTime=Ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function oc(n){const e=n.auth,s=await n.getIdToken(),r=await Ja(n,lc(e,{idToken:s}));ne(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const c=o.providerUserInfo?.length?QE(o.providerUserInfo):[],f=MR(n.providerData,c),h=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!f?.length,m=h?p:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Qd(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function DR(n){const e=St(n);await oc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MR(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function QE(n){return n.map(({providerId:e,...s})=>({providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}))}async function xR(n,e){const s=await FE(n,{},async()=>{const r=Mr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=n.config,f=await KE(n,o,"/v1/token",`key=${c}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:r};return n.emulatorConfig&&Dr(n.emulatorConfig.host)&&(p.credentials="include"),YE.fetch()(f,p)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function kR(n,e){return Yi(n,"POST","/v2/accounts:revokeToken",Rs(n,e))}class vr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Wv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const s=Wv(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:r,refreshToken:o,expiresIn:c}=await xR(e,s);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,s,r){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,s){const{refreshToken:r,accessToken:o,expirationTime:c}=s,f=new vr;return r&&(ne(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(ne(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(ne(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vr,this.toJSON())}_performRefresh(){return Fn("not implemented")}}function Oi(n,e){ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class dn{constructor({uid:e,auth:s,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new IR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const s=await Ja(this,this.stsTokenManager.getToken(this.auth,e));return ne(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return NR(this,e)}reload(){return DR(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>({...s})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new dn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return s.metadata._copy(this.metadata),s}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),s&&await oc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(un(this.auth.app))return Promise.reject(Pi(this.auth));const e=await this.getIdToken();return await Ja(this,RR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){const r=s.displayName??void 0,o=s.email??void 0,c=s.phoneNumber??void 0,f=s.photoURL??void 0,h=s.tenantId??void 0,p=s._redirectEventId??void 0,m=s.createdAt??void 0,y=s.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:w,providerData:N,stsTokenManager:k}=s;ne(_&&k,e,"internal-error");const H=vr.fromJSON(this.name,k);ne(typeof _=="string",e,"internal-error"),Oi(r,e.name),Oi(o,e.name),ne(typeof E=="boolean",e,"internal-error"),ne(typeof w=="boolean",e,"internal-error"),Oi(c,e.name),Oi(f,e.name),Oi(h,e.name),Oi(p,e.name),Oi(m,e.name),Oi(y,e.name);const j=new dn({uid:_,auth:e,email:o,emailVerified:E,displayName:r,isAnonymous:w,photoURL:f,phoneNumber:c,tenantId:h,stsTokenManager:H,createdAt:m,lastLoginAt:y});return N&&Array.isArray(N)&&(j.providerData=N.map(P=>({...P}))),p&&(j._redirectEventId=p),j}static async _fromIdTokenResponse(e,s,r=!1){const o=new vr;o.updateFromServerResponse(s);const c=new dn({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await oc(c),c}static async _fromGetAccountInfoResponse(e,s,r){const o=s.users[0];ne(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?QE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,h=new vr;h.updateFromIdToken(r);const p=new dn({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:f}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Qd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,m),p}}const Xv=new Map;function Kn(n){ei(n instanceof Function,"Expected a class definition");let e=Xv.get(n);return e?(ei(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Xv.set(n,e),e)}class WE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}WE.type="NONE";const Zv=WE;function Zo(n,e,s){return`firebase:${n}:${e}:${s}`}class yr{constructor(e,s,r){this.persistence=e,this.auth=s,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Zo(this.userKey,o.apiKey,c),this.fullPersistenceKey=Zo("persistence",o.apiKey,c),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await lc(this.auth,{idToken:e}).catch(()=>{});return s?dn._fromGetAccountInfoResponse(this.auth,s,e):null}return dn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,r="authUser"){if(!s.length)return new yr(Kn(Zv),e,r);const o=(await Promise.all(s.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let c=o[0]||Kn(Zv);const f=Zo(r,e.config.apiKey,e.name);let h=null;for(const m of s)try{const y=await m._get(f);if(y){let _;if(typeof y=="string"){const E=await lc(e,{idToken:y}).catch(()=>{});if(!E)break;_=await dn._fromGetAccountInfoResponse(e,E,y)}else _=dn._fromJSON(e,y);m!==c&&(h=_),c=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new yr(c,e,r):(c=p[0],h&&await c._set(f,h.toJSON()),await Promise.all(s.map(async m=>{if(m!==c)try{await m._remove(f)}catch{}})),new yr(c,e,r))}}function $v(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tb(e))return"Blackberry";if(nb(e))return"Webos";if(ZE(e))return"Safari";if((e.includes("chrome/")||$E(e))&&!e.includes("edge/"))return"Chrome";if(eb(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(s);if(r?.length===2)return r[1]}return"Other"}function XE(n=bt()){return/firefox\//i.test(n)}function ZE(n=bt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $E(n=bt()){return/crios\//i.test(n)}function JE(n=bt()){return/iemobile/i.test(n)}function eb(n=bt()){return/android/i.test(n)}function tb(n=bt()){return/blackberry/i.test(n)}function nb(n=bt()){return/webos/i.test(n)}function Nh(n=bt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function LR(n=bt()){return Nh(n)&&!!window.navigator?.standalone}function UR(){return Yw()&&document.documentMode===10}function ib(n=bt()){return Nh(n)||eb(n)||nb(n)||tb(n)||/windows phone/i.test(n)||JE(n)}function sb(n,e=[]){let s;switch(n){case"Browser":s=$v(bt());break;case"Worker":s=`${$v(bt())}-${n}`;break;default:s=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${xr}/${r}`}class zR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const r=c=>new Promise((f,h)=>{try{const p=e(c);f(p)}catch(p){h(p)}});r.onAbort=s,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const o of s)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function PR(n,e={}){return Yi(n,"GET","/v2/passwordPolicy",Rs(n,e))}const BR=6;class HR{constructor(e){const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??BR,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=s.meetsMinPasswordLength??!0),s.isValid&&(s.isValid=s.meetsMaxPasswordLength??!0),s.isValid&&(s.isValid=s.containsLowercaseLetter??!0),s.isValid&&(s.isValid=s.containsUppercaseLetter??!0),s.isValid&&(s.isValid=s.containsNumericCharacter??!0),s.isValid&&(s.isValid=s.containsNonAlphanumericCharacter??!0),s}validatePasswordLengthOptions(e,s){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=e.length>=r),o&&(s.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,s,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class qR{constructor(e,s,r,o){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jv(this),this.idTokenSubscription=new Jv(this),this.beforeStateQueue=new zR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=Kn(s)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yr.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await lc(this,{idToken:e}),r=await dn._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(un(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===f)&&h?.user&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await oc(e)}catch(s){if(s?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(un(this.app))return Promise.reject(Pi(this));const s=e?St(e):null;return s&&ne(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return un(this.app)?Promise.reject(Pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return un(this.app)?Promise.reject(Pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PR(this),s=new HR(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hl("auth","Firebase",e())}onAuthStateChanged(e,s,r){return this.registerStateListener(this.authStateSubscription,e,s,r)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,r){return this.registerStateListener(this.idTokenSubscription,e,s,r)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await kR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,s){const r=await this.getOrInitRedirectPersistenceManager(s);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&Kn(e)||this._popupRedirectResolver;ne(s,this,"argument-error"),this.redirectPersistenceManager=await yr.create(this,[Kn(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,r,o){if(this._deleted)return()=>{};const c=typeof s=="function"?s:s.next.bind(s);let f=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(h,this,"internal-error"),h.then(()=>{f||c(this.currentUser)}),typeof s=="function"){const p=e.addObserver(s,r,o);return()=>{f=!0,p()}}else{const p=e.addObserver(s);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();s&&(e["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&gR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function kr(n){return St(n)}class Jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=tA(s=>this.observer=s)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Lc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jR(n){Lc=n}function rb(n){return Lc.loadJS(n)}function VR(){return Lc.recaptchaEnterpriseScript}function GR(){return Lc.gapiScript}function YR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class FR{constructor(){this.enterprise=new KR}ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}class KR{ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}const QR="recaptcha-enterprise",ab="NO_RECAPTCHA";class WR{constructor(e){this.type=QR,this.auth=kr(e)}async verify(e="verify",s=!1){async function r(c){if(!s){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,h)=>{AR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new wR(p);return c.tenantId==null?c._agentRecaptchaConfig=m:c._tenantRecaptchaConfigs[c.tenantId]=m,f(m.siteKey)}}).catch(p=>{h(p)})})}function o(c,f,h){const p=window.grecaptcha;Qv(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(m=>{f(m)}).catch(()=>{f(ab)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FR().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{r(this.auth).then(h=>{if(!s&&Qv(window.grecaptcha))o(h,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=VR();p.length!==0&&(p+=h),rb(p).then(()=>{o(h,c,f)}).catch(m=>{f(m)})}}).catch(h=>{f(h)})})}}async function ey(n,e,s,r=!1,o=!1){const c=new WR(n);let f;if(o)f=ab;else try{f=await c.verify(s)}catch{f=await c.verify(s,!0)}const h={...e};if(s==="mfaSmsEnrollment"||s==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:f}):Object.assign(h,{captchaResponse:f}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function ty(n,e,s,r,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await ey(n,e,s,s==="getOobCode");return r(n,c)}else return r(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await ey(n,e,s,s==="getOobCode");return r(n,f)}else return Promise.reject(c)})}function XR(n,e){const s=Th(n,"auth");if(s.isInitialized()){const o=s.getImmediate(),c=s.getOptions();if(vs(c,e??{}))return o;gn(o,"already-initialized")}return s.initialize({options:e})}function ZR(n,e){const s=e?.persistence||[],r=(Array.isArray(s)?s:[s]).map(Kn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function $R(n,e,s){const r=kr(n);ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=lb(e),{host:f,port:h}=JR(e),p=h===null?"":`:${h}`,m={url:`${c}//${f}${p}/`},y=Object.freeze({host:f,port:h,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ne(vs(m,r.config.emulator)&&vs(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Dr(f)?(ME(`${c}//${f}${p}`),xE("Auth",!0)):eN()}function lb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function JR(n){const e=lb(n),s=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:ny(r.substr(c.length+1))}}else{const[c,f]=r.split(":");return{host:c,port:ny(f)}}}function ny(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function eN(){function n(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Oh{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return Fn("not implemented")}_getIdTokenResponse(e){return Fn("not implemented")}_linkToIdToken(e,s){return Fn("not implemented")}_getReauthenticationResolver(e){return Fn("not implemented")}}async function tN(n,e){return Yi(n,"POST","/v1/accounts:signUp",e)}async function nN(n,e){return kc(n,"POST","/v1/accounts:signInWithPassword",Rs(n,e))}async function iN(n,e){return kc(n,"POST","/v1/accounts:signInWithEmailLink",Rs(n,e))}async function sN(n,e){return kc(n,"POST","/v1/accounts:signInWithEmailLink",Rs(n,e))}class el extends Oh{constructor(e,s,r,o=null){super("password",r),this._email=e,this._password=s,this._tenantId=o}static _fromEmailAndPassword(e,s){return new el(e,s,"password")}static _fromEmailAndCode(e,s,r=null){return new el(e,s,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e;if(s?.email&&s?.password){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ty(e,s,"signInWithPassword",nN);case"emailLink":return iN(e,{email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}async _linkToIdToken(e,s){switch(this.signInMethod){case"password":const r={idToken:s,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ty(e,r,"signUpPassword",tN);case"emailLink":return sN(e,{idToken:s,email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Er(n,e){return kc(n,"POST","/v1/accounts:signInWithIdp",Rs(n,e))}const rN="http://localhost";class Es extends Oh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new Es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):gn("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=s;if(!r||!o)return null;const f=new Es(r,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const s=this.buildRequest();return Er(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,Er(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,Er(e,s)}buildRequest(){const e={requestUri:rN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=Mr(s)}return e}}function aN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lN(n){const e=qa(ja(n)).link,s=e?qa(ja(e)).deep_link_id:null,r=qa(ja(n)).deep_link_id;return(r?qa(ja(r)).link:null)||r||s||e||n}class Ih{constructor(e){const s=qa(ja(e)),r=s.apiKey??null,o=s.oobCode??null,c=aN(s.mode??null);ne(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=s.continueUrl??null,this.languageCode=s.lang??null,this.tenantId=s.tenantId??null}static parseLink(e){const s=lN(e);try{return new Ih(s)}catch{return null}}}class Lr{constructor(){this.providerId=Lr.PROVIDER_ID}static credential(e,s){return el._fromEmailAndPassword(e,s)}static credentialWithLink(e,s){const r=Ih.parseLink(s);return ne(r,"argument-error"),el._fromEmailAndCode(e,r.code,r.tenantId)}}Lr.PROVIDER_ID="password";Lr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ob{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class pl extends ob{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Di extends pl{constructor(){super("facebook.com")}static credential(e){return Es._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.FACEBOOK_SIGN_IN_METHOD="facebook.com";Di.PROVIDER_ID="facebook.com";class Mi extends pl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return Es._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r}=e;if(!s&&!r)return null;try{return Mi.credential(s,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";class xi extends pl{constructor(){super("github.com")}static credential(e){return Es._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com";xi.PROVIDER_ID="github.com";class ki extends pl{constructor(){super("twitter.com")}static credential(e,s){return Es._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=e;if(!s||!r)return null;try{return ki.credential(s,r)}catch{return null}}}ki.TWITTER_SIGN_IN_METHOD="twitter.com";ki.PROVIDER_ID="twitter.com";class wr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,r,o=!1){const c=await dn._fromIdTokenResponse(e,r,o),f=iy(r);return new wr({user:c,providerId:f,_tokenResponse:r,operationType:s})}static async _forOperation(e,s,r){await e._updateTokensIfNecessary(r,!0);const o=iy(r);return new wr({user:e,providerId:o,_tokenResponse:r,operationType:s})}}function iy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class cc extends Gi{constructor(e,s,r,o){super(s.code,s.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,cc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,s,r,o){return new cc(e,s,r,o)}}function cb(n,e,s,r){return(e==="reauthenticate"?s._getReauthenticationResolver(n):s._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?cc._fromErrorAndOperation(n,c,e,r):c})}async function oN(n,e,s=!1){const r=await Ja(n,e._linkToIdToken(n.auth,await n.getIdToken()),s);return wr._forOperation(n,"link",r)}async function cN(n,e,s=!1){const{auth:r}=n;if(un(r.app))return Promise.reject(Pi(r));const o="reauthenticate";try{const c=await Ja(n,cb(r,o,e,n),s);ne(c.idToken,r,"internal-error");const f=Rh(c.idToken);ne(f,r,"internal-error");const{sub:h}=f;return ne(n.uid===h,r,"user-mismatch"),wr._forOperation(n,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&gn(r,"user-mismatch"),c}}async function ub(n,e,s=!1){if(un(n.app))return Promise.reject(Pi(n));const r="signIn",o=await cb(n,r,e),c=await wr._fromIdTokenResponse(n,r,o);return s||await n._updateCurrentUser(c.user),c}async function uN(n,e){return ub(kr(n),e)}async function fN(n){const e=kr(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function dN(n,e,s){return un(n.app)?Promise.reject(Pi(n)):uN(St(n),Lr.credential(e,s)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fN(n),r})}function hN(n,e,s,r){return St(n).onIdTokenChanged(e,s,r)}function mN(n,e,s){return St(n).beforeAuthStateChanged(e,s)}function pN(n,e,s,r){return St(n).onAuthStateChanged(e,s,r)}function gN(n){return St(n).signOut()}const uc="__sak";class fb{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(uc,"1"),this.storage.removeItem(uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const _N=1e3,vN=10;class db extends fb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ib(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),o=this.localCache[s];r!==o&&e(s,o,r)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((f,h,p)=>{this.notifyListeners(f,p)});return}const r=e.key;s?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!s&&this.localCache[r]===f||this.notifyListeners(r,f)},c=this.storage.getItem(r);UR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,vN):o()}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:r}),!0)})},_N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}db.type="LOCAL";const yN=db;class hb extends fb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}hb.type="SESSION";const mb=hb;function EN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}class Uc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(o=>o.isListeningto(e));if(s)return s;const r=new Uc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:r,eventType:o,data:c}=s.data,f=this.handlersMap[o];if(!f?.size)return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(f).map(async m=>m(s.origin,c)),p=await EN(h);s.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uc.receivers=[];function Dh(n="",e=10){let s="";for(let r=0;r<e;r++)s+=Math.floor(Math.random()*10);return n+s}class bN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((h,p)=>{const m=Dh("",20);o.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(_){const E=_;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(y),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),h(E.data.response);break;default:clearTimeout(y),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:m,data:s},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Tn(){return window}function SN(n){Tn().location.href=n}function pb(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}async function CN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TN(){return navigator?.serviceWorker?.controller||null}function wN(){return pb()?self:null}const gb="firebaseLocalStorageDb",AN=1,fc="firebaseLocalStorage",_b="fbase_key";class gl{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function zc(n,e){return n.transaction([fc],e?"readwrite":"readonly").objectStore(fc)}function RN(){const n=indexedDB.deleteDatabase(gb);return new gl(n).toPromise()}function Wd(){const n=indexedDB.open(gb,AN);return new Promise((e,s)=>{n.addEventListener("error",()=>{s(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(fc,{keyPath:_b})}catch(o){s(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(fc)?e(r):(r.close(),await RN(),e(await Wd()))})})}async function sy(n,e,s){const r=zc(n,!0).put({[_b]:e,value:s});return new gl(r).toPromise()}async function NN(n,e){const s=zc(n,!1).get(e),r=await new gl(s).toPromise();return r===void 0?null:r.value}function ry(n,e){const s=zc(n,!0).delete(e);return new gl(s).toPromise()}const ON=800,IN=3;class vb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wd(),this.db)}async _withRetries(e){let s=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(s++>IN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uc._getInstance(wN()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CN(),!this.activeServiceWorker)return;this.sender=new bN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wd();return await sy(e,uc,"1"),await ry(e,uc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>sy(r,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(r=>NN(r,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>ry(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=zc(o,!1).getAll();return new gl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),s.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),s.push(o));return s}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ON)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vb.type="LOCAL";const DN=vb;new ml(3e4,6e4);function MN(n,e){return e?Kn(e):(ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Mh extends Oh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Er(e,this._buildIdpRequest())}_linkToIdToken(e,s){return Er(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return Er(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function xN(n){return ub(n.auth,new Mh(n),n.bypassAuthState)}function kN(n){const{auth:e,user:s}=n;return ne(s,e,"internal-error"),cN(s,new Mh(n),n.bypassAuthState)}async function LN(n){const{auth:e,user:s}=n;return ne(s,e,"internal-error"),oN(s,new Mh(n),n.bypassAuthState)}class yb{constructor(e,s,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:r,postBody:o,tenantId:c,error:f,type:h}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:s,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xN;case"linkViaPopup":case"linkViaRedirect":return LN;case"reauthViaPopup":case"reauthViaRedirect":return kN;default:gn(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const UN=new ml(2e3,1e4);class gr extends yb{constructor(e,s,r,o,c){super(e,s,o,c),this.provider=r,this.authWindow=null,this.pollId=null,gr.currentPopupAction&&gr.currentPopupAction.cancel(),gr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){ei(this.filter.length===1,"Popup operations only handle one event");const e=Dh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UN.get())};e()}}gr.currentPopupAction=null;const zN="pendingRedirect",$o=new Map;class PN extends yb{constructor(e,s,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let e=$o.get(this.auth._key());if(!e){try{const r=await BN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(s){e=()=>Promise.reject(s)}$o.set(this.auth._key(),e)}return this.bypassAuthState||$o.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BN(n,e){const s=jN(e),r=qN(n);if(!await r._isAvailable())return!1;const o=await r._get(s)==="true";return await r._remove(s),o}function HN(n,e){$o.set(n._key(),e)}function qN(n){return Kn(n._redirectPersistence)}function jN(n){return Zo(zN,n.config.apiKey,n.name)}async function VN(n,e,s=!1){if(un(n.app))return Promise.reject(Pi(n));const r=kr(n),o=MN(r,e),f=await new PN(r,o,s).execute();return f&&!s&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const GN=600*1e3;class YN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(s=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FN(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){if(e.error&&!Eb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";s.onError(Cn(this.auth,r))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const r=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GN&&this.cachedEventUids.clear(),this.cachedEventUids.has(ay(e))}saveEventToCache(e){this.cachedEventUids.add(ay(e)),this.lastProcessedEventTime=Date.now()}}function ay(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Eb({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function FN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Eb(n);default:return!1}}async function KN(n,e={}){return Yi(n,"GET","/v1/projects",e)}const QN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WN=/^https?/;async function XN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await KN(n);for(const s of e)try{if(ZN(s))return}catch{}gn(n,"unauthorized-domain")}function ZN(n){const e=Kd(),{protocol:s,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&r===""?s==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&f.hostname===r}if(!WN.test(s))return!1;if(QN.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const $N=new ml(3e4,6e4);function ly(){const n=Tn().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let s=0;s<n.CP.length;s++)n.CP[s]=null}}function JN(n){return new Promise((e,s)=>{function r(){ly(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ly(),s(Cn(n,"network-request-failed"))},timeout:$N.get()})}if(Tn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Tn().gapi?.load)r();else{const o=YR("iframefcb");return Tn()[o]=()=>{gapi.load?r():s(Cn(n,"network-request-failed"))},rb(`${GR()}?onload=${o}`).catch(c=>s(c))}}).catch(e=>{throw Jo=null,e})}let Jo=null;function eO(n){return Jo=Jo||JN(n),Jo}const tO=new ml(5e3,15e3),nO="__/auth/iframe",iO="emulator/auth/iframe",sO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aO(n){const e=n.config;ne(e.authDomain,n,"auth-domain-config-required");const s=e.emulator?Ah(e,iO):`https://${n.config.authDomain}/${nO}`,r={apiKey:e.apiKey,appName:n.name,v:xr},o=rO.get(n.config.apiHost);o&&(r.eid=o);const c=n._getFrameworks();return c.length&&(r.fw=c.join(",")),`${s}?${Mr(r).slice(1)}`}async function lO(n){const e=await eO(n),s=Tn().gapi;return ne(s,n,"internal-error"),e.open({where:document.body,url:aO(n),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sO,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const f=Cn(n,"network-request-failed"),h=Tn().setTimeout(()=>{c(f)},tO.get());function p(){Tn().clearTimeout(h),o(r)}r.ping(p).then(p,()=>{c(f)})}))}const oO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cO=500,uO=600,fO="_blank",dO="http://localhost";class oy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hO(n,e,s,r=cO,o=uO){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const p={...oO,width:r.toString(),height:o.toString(),top:c,left:f},m=bt().toLowerCase();s&&(h=$E(m)?fO:s),XE(m)&&(e=e||dO,p.scrollbars="yes");const y=Object.entries(p).reduce((E,[w,N])=>`${E}${w}=${N},`,"");if(LR(m)&&h!=="_self")return mO(e||"",h),new oy(null);const _=window.open(e||"",h,y);ne(_,n,"popup-blocked");try{_.focus()}catch{}return new oy(_)}function mO(n,e){const s=document.createElement("a");s.href=n,s.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}const pO="__/auth/handler",gO="emulator/auth/handler",_O=encodeURIComponent("fac");async function cy(n,e,s,r,o,c){ne(n.config.authDomain,n,"auth-domain-config-required"),ne(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:s,redirectUrl:r,v:xr,eventId:o};if(e instanceof ob){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",qd(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))f[y]=_}if(e instanceof pl){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(f.scopes=y.join(","))}n.tenantId&&(f.tid=n.tenantId);const h=f;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const p=await n._getAppCheckToken(),m=p?`#${_O}=${encodeURIComponent(p)}`:"";return`${vO(n)}?${Mr(h).slice(1)}${m}`}function vO({config:n}){return n.emulator?Ah(n,gO):`https://${n.authDomain}/${pO}`}const Rd="webStorageSupport";class yO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mb,this._completeRedirectFn=VN,this._overrideRedirectResult=HN}async _openPopup(e,s,r,o){ei(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await cy(e,s,r,Kd(),o);return hO(e,c,Dh())}async _openRedirect(e,s,r,o){await this._originValidation(e);const c=await cy(e,s,r,Kd(),o);return SN(c),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:o,promise:c}=this.eventManagers[s];return o?Promise.resolve(o):(ei(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(e){const s=await lO(e),r=new YN(e);return s.register("authEvent",o=>(ne(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=s,r}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(Rd,{type:Rd},o=>{const c=o?.[0]?.[Rd];c!==void 0&&s(!!c),gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=XN(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return ib()||ZE()||Nh()}}const EO=yO;var uy="@firebase/auth",fy="1.12.0";class bO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function SO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CO(n){Tr(new ys("auth",(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:h}=r.options;ne(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:f,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sb(n)},m=new qR(r,o,c,p);return ZR(m,s),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,r)=>{e.getProvider("auth-internal").initialize()})),Tr(new ys("auth-internal",e=>{const s=kr(e.getProvider("auth").getImmediate());return(r=>new bO(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),zi(uy,fy,SO(n)),zi(uy,fy,"esm2020")}const TO=300,wO=DE("authIdTokenMaxAge")||TO;let dy=null;const AO=n=>async e=>{const s=e&&await e.getIdTokenResult(),r=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(r&&r>wO)return;const o=s?.token;dy!==o&&(dy=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function RO(n=BE()){const e=Th(n,"auth");if(e.isInitialized())return e.getImmediate();const s=XR(n,{popupRedirectResolver:EO,persistence:[DN,yN,mb]}),r=DE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const f=AO(c.toString());mN(s,f,()=>f(s.currentUser)),hN(s,h=>f(h))}}const o=OE("auth");return o&&$R(s,`http://${o}`),s}function NO(){return document.getElementsByTagName("head")?.[0]??document}jR({loadJS(n){return new Promise((e,s)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const c=Cn("internal-error");c.customData=o,s(c)},r.type="text/javascript",r.charset="UTF-8",NO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CO("Browser");var hy={};const my="@firebase/database",py="1.1.0";let bb="";function OO(n){bb=n}class IO{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,s){s==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),nt(s))}get(e){const s=this.domStorage_.getItem(this.prefixedName_(e));return s==null?null:Za(s)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class DO{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,s){s==null?delete this.cache_[e]:this.cache_[e]=s}get(e){return ni(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Sb=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new IO(e)}}catch{}return new DO},gs=Sb("localStorage"),MO=Sb("sessionStorage");const br=new Sh("@firebase/database"),xO=(function(){let n=1;return function(){return n++}})(),Cb=function(n){const e=sA(n),s=new eA;s.update(e);const r=s.digest();return vh.encodeByteArray(r)},_l=function(...n){let e="";for(let s=0;s<n.length;s++){const r=n[s];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=_l.apply(null,r):typeof r=="object"?e+=nt(r):e+=r,e+=" "}return e};let Ya=null,gy=!0;const kO=function(n,e){G(!0,"Can't turn on custom loggers persistently."),br.logLevel=De.VERBOSE,Ya=br.log.bind(br)},gt=function(...n){if(gy===!0&&(gy=!1,Ya===null&&MO.get("logging_enabled")===!0&&kO()),Ya){const e=_l.apply(null,n);Ya(e)}},vl=function(n){return function(...e){gt(n,...e)}},Xd=function(...n){const e="FIREBASE INTERNAL ERROR: "+_l(...n);br.error(e)},ti=function(...n){const e=`FIREBASE FATAL ERROR: ${_l(...n)}`;throw br.error(e),new Error(e)},Dt=function(...n){const e="FIREBASE WARNING: "+_l(...n);br.warn(e)},LO=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Dt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Tb=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},UO=function(n){if(document.readyState==="complete")n();else{let e=!1;const s=function(){if(!document.body){setTimeout(s,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&s()}),window.attachEvent("onload",s))}},Ar="[MIN_NAME]",bs="[MAX_NAME]",Ur=function(n,e){if(n===e)return 0;if(n===Ar||e===bs)return-1;if(e===Ar||n===bs)return 1;{const s=_y(n),r=_y(e);return s!==null?r!==null?s-r===0?n.length-e.length:s-r:-1:r!==null?1:n<e?-1:1}},zO=function(n,e){return n===e?0:n<e?-1:1},La=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+nt(e))},xh=function(n){if(typeof n!="object"||n===null)return nt(n);const e=[];for(const r in n)e.push(r);e.sort();let s="{";for(let r=0;r<e.length;r++)r!==0&&(s+=","),s+=nt(e[r]),s+=":",s+=xh(n[e[r]]);return s+="}",s},wb=function(n,e){const s=n.length;if(s<=e)return[n];const r=[];for(let o=0;o<s;o+=e)o+e>s?r.push(n.substring(o,s)):r.push(n.substring(o,o+e));return r};function Mt(n,e){for(const s in n)n.hasOwnProperty(s)&&e(s,n[s])}const Ab=function(n){G(!Tb(n),"Invalid JSON number");const e=11,s=52,r=(1<<e-1)-1;let o,c,f,h,p;n===0?(c=0,f=0,o=1/n===-1/0?1:0):(o=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),r),c=h+r,f=Math.round(n*Math.pow(2,s-h)-Math.pow(2,s))):(c=0,f=Math.round(n/Math.pow(2,1-r-s))));const m=[];for(p=s;p;p-=1)m.push(f%2?1:0),f=Math.floor(f/2);for(p=e;p;p-=1)m.push(c%2?1:0),c=Math.floor(c/2);m.push(o?1:0),m.reverse();const y=m.join("");let _="";for(p=0;p<64;p+=8){let E=parseInt(y.substr(p,8),2).toString(16);E.length===1&&(E="0"+E),_=_+E}return _.toLowerCase()},PO=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},BO=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function HO(n,e){let s="Unknown Error";n==="too_big"?s="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?s="Client doesn't have permission to access the desired data.":n==="unavailable"&&(s="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+s);return r.code=n.toUpperCase(),r}const qO=new RegExp("^-?(0*)\\d{1,10}$"),jO=-2147483648,VO=2147483647,_y=function(n){if(qO.test(n)){const e=Number(n);if(e>=jO&&e<=VO)return e}return null},zr=function(n){try{n()}catch(e){setTimeout(()=>{const s=e.stack||"";throw Dt("Exception was thrown by user callback.",s),e},Math.floor(0))}},GO=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fa=function(n,e){const s=setTimeout(n,e);return typeof s=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):typeof s=="object"&&s.unref&&s.unref(),s};class YO{constructor(e,s){this.appCheckProvider=s,this.appName=e.name,un(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=s?.getImmediate({optional:!0}),this.appCheck||s?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((s,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(s,r):s(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Dt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class FO{constructor(e,s,r){this.appName_=e,this.firebaseOptions_=s,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(s=>s&&s.code==="auth/token-not-initialized"?(gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(s,r):s(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(s=>s.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(s=>s.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dt(e)}}class ec{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ec.OWNER="owner";const kh="5",Rb="v",Nb="s",Ob="r",Ib="f",Db=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Mb="ls",xb="p",Zd="ac",kb="websocket",Lb="long_polling";class Ub{constructor(e,s,r,o,c=!1,f="",h=!1,p=!1,m=null){this.secure=s,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=gs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&gs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",s=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${s}`}}function KO(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function zb(n,e,s){G(typeof e=="string","typeof type must == string"),G(typeof s=="object","typeof params must == object");let r;if(e===kb)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===Lb)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);KO(n)&&(s.ns=n.namespace);const o=[];return Mt(s,(c,f)=>{o.push(c+"="+f)}),r+o.join("&")}class QO{constructor(){this.counters_={}}incrementCounter(e,s=1){ni(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=s}get(){return xw(this.counters_)}}const Nd={},Od={};function Lh(n){const e=n.toString();return Nd[e]||(Nd[e]=new QO),Nd[e]}function WO(n,e){const s=n.toString();return Od[s]||(Od[s]=e()),Od[s]}class XO{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,s){this.closeAfterResponse=e,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,s){for(this.pendingResponses[e]=s;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&zr(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const vy="start",ZO="close",$O="pLPCommand",JO="pRTLPCB",Pb="id",Bb="pw",Hb="ser",eI="cb",tI="seg",nI="ts",iI="d",sI="dframe",qb=1870,jb=30,rI=qb-jb,aI=25e3,lI=3e4;class _r{constructor(e,s,r,o,c,f,h){this.connId=e,this.repoInfo=s,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.transportSessionId=f,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vl(e),this.stats_=Lh(s),this.urlFn=p=>(this.appCheckToken&&(p[Zd]=this.appCheckToken),zb(s,Lb,p))}open(e,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new XO(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(lI)),UO(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Uh((...c)=>{const[f,h,p,m,y]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===vy)this.id=h,this.password=p;else if(f===ZO)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...c)=>{const[f,h]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[vy]="t",r[Hb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[eI]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Rb]=kh,this.transportSessionId&&(r[Nb]=this.transportSessionId),this.lastSessionId&&(r[Mb]=this.lastSessionId),this.applicationId&&(r[xb]=this.applicationId),this.appCheckToken&&(r[Zd]=this.appCheckToken),typeof location<"u"&&location.hostname&&Db.test(location.hostname)&&(r[Ob]=Ib);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_r.forceAllow_=!0}static forceDisallow(){_r.forceDisallow_=!0}static isAvailable(){return _r.forceAllow_?!0:!_r.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!PO()&&!BO()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const s=nt(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=RE(s),o=wb(r,rI);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(e,s){this.myDisconnFrame=document.createElement("iframe");const r={};r[sI]="t",r[Pb]=e,r[Bb]=s,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const s=nt(e).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class Uh{constructor(e,s,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=xO(),window[$O+this.uniqueCallbackIdentifier]=e,window[JO+this.uniqueCallbackIdentifier]=s,this.myIFrame=Uh.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(h){gt("frame writing exception"),h.stack&&gt(h.stack),gt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||gt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,s){for(this.myID=e,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Pb]=this.myID,e[Bb]=this.myPW,e[Hb]=this.currentSerial;let s=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+jb+r.length<=qb;){const f=this.pendingSegs.shift();r=r+"&"+tI+o+"="+f.seg+"&"+nI+o+"="+f.ts+"&"+iI+o+"="+f.d,o++}return s=s+r,this.addLongPollTag_(s,this.currentSerial),!0}else return!1}enqueueSegment(e,s,r){this.pendingSegs.push({seg:e,ts:s,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,s){this.outstandingRequests.add(s);const r=()=>{this.outstandingRequests.delete(s),this.newRequest_()},o=setTimeout(r,Math.floor(aI)),c=()=>{clearTimeout(o),r()};this.addTag(e,c)}addTag(e,s){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),s())},r.onerror=()=>{gt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const oI=16384,cI=45e3;let dc=null;typeof MozWebSocket<"u"?dc=MozWebSocket:typeof WebSocket<"u"&&(dc=WebSocket);class fn{constructor(e,s,r,o,c,f,h){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vl(this.connId),this.stats_=Lh(s),this.connURL=fn.connectionURL_(s,f,h,o,r),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,r,o,c){const f={};return f[Rb]=kh,typeof location<"u"&&location.hostname&&Db.test(location.hostname)&&(f[Ob]=Ib),s&&(f[Nb]=s),r&&(f[Mb]=r),o&&(f[Zd]=o),c&&(f[xb]=c),zb(e,kb,f)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,gs.set("previous_websocket_failure",!0);try{let r;Fw(),this.mySock=new dc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){fn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(s);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&dc!==null&&!fn.forceDisallow_}static previouslyFailed(){return gs.isInMemoryStorage||gs.get("previous_websocket_failure")===!0}markConnectionHealthy(){gs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const r=Za(s);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(s);else{const r=this.extractFrameCount_(s);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const s=nt(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=wb(s,oI);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(cI))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}fn.responsesRequiredToBeHealthy=2;fn.healthyTimeout=3e4;class tl{static get ALL_TRANSPORTS(){return[_r,fn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const s=fn&&fn.isAvailable();let r=s&&!fn.previouslyFailed();if(e.webSocketOnly&&(s||Dt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[fn];else{const o=this.transports_=[];for(const c of tl.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);tl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}tl.globalTransportInitialized_=!1;const uI=6e4,fI=5e3,dI=10*1024,hI=100*1024,Id="t",yy="d",mI="s",Ey="r",pI="e",by="o",Sy="a",Cy="n",Ty="p",gI="h";class _I{constructor(e,s,r,o,c,f,h,p,m,y){this.id=e,this.repoInfo_=s,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=f,this.onReady_=h,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vl("c:"+this.id+":"),this.transportManager_=new tl(s),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Fa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>hI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>dI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return s=>{e===this.conn_?this.onConnectionLost_(s):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return s=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(s):e===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(e){const s={t:"d",d:e};this.sendData_(s)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Id in e){const s=e[Id];s===Sy?this.upgradeIfSecondaryHealthy_():s===Ey?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):s===by&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const s=La("t",e),r=La("d",e);if(s==="c")this.onSecondaryControl_(r);else if(s==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+s)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ty,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Sy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Cy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const s=La("t",e),r=La("d",e);s==="c"?this.onControl_(r):s==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const s=La(Id,e);if(yy in e){const r=e[yy];if(s===gI){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(s===Cy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else s===mI?this.onConnectionShutdown_(r):s===Ey?this.onReset_(r):s===pI?Xd("Server Error: "+r):s===by?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Xd("Unknown control packet command: "+s)}}onHandshake_(e){const s=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),kh!==r&&Dt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,r),Fa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(uI))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,s){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(fI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ty,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(gs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Vb{put(e,s,r,o){}merge(e,s,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,s,r){}onDisconnectMerge(e,s,r){}onDisconnectCancel(e,s){}reportStats(e){}}class Gb{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...s){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,s)}}on(e,s,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:s,context:r});const o=this.getInitialEvent(e);o&&s.apply(r,o)}off(e,s,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let c=0;c<o.length;c++)if(o[c].callback===s&&(!r||r===o[c].context)){o.splice(c,1);return}}validateEventType_(e){G(this.allowedEvents_.find(s=>s===e),"Unknown event: "+e)}}class hc extends Gb{static getInstance(){return new hc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Eh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const wy=32,Ay=768;class xe{constructor(e,s){if(s===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=s}toString(){let e="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)this.pieces_[s]!==""&&(e+="/"+this.pieces_[s]);return e||"/"}}function Ee(){return new xe("")}function ge(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function qi(n){return n.pieces_.length-n.pieceNum_}function Le(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new xe(n.pieces_,e)}function Yb(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function vI(n){let e="";for(let s=n.pieceNum_;s<n.pieces_.length;s++)n.pieces_[s]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[s])));return e||"/"}function Fb(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Kb(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let s=n.pieceNum_;s<n.pieces_.length-1;s++)e.push(n.pieces_[s]);return new xe(e,0)}function it(n,e){const s=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)s.push(n.pieces_[r]);if(e instanceof xe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)s.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&s.push(r[o])}return new xe(s,0)}function de(n){return n.pieceNum_>=n.pieces_.length}function yt(n,e){const s=ge(n),r=ge(e);if(s===null)return e;if(s===r)return yt(Le(n),Le(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Qb(n,e){if(qi(n)!==qi(e))return!1;for(let s=n.pieceNum_,r=e.pieceNum_;s<=n.pieces_.length;s++,r++)if(n.pieces_[s]!==e.pieces_[r])return!1;return!0}function hn(n,e){let s=n.pieceNum_,r=e.pieceNum_;if(qi(n)>qi(e))return!1;for(;s<n.pieces_.length;){if(n.pieces_[s]!==e.pieces_[r])return!1;++s,++r}return!0}class yI{constructor(e,s){this.errorPrefix_=s,this.parts_=Fb(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=xc(this.parts_[r]);Wb(this)}}function EI(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=xc(e),Wb(n)}function bI(n){const e=n.parts_.pop();n.byteLength_-=xc(e),n.parts_.length>0&&(n.byteLength_-=1)}function Wb(n){if(n.byteLength_>Ay)throw new Error(n.errorPrefix_+"has a key path longer than "+Ay+" bytes ("+n.byteLength_+").");if(n.parts_.length>wy)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+wy+") or object contains a cycle "+ms(n))}function ms(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}class zh extends Gb{static getInstance(){return new zh}constructor(){super(["visible"]);let e,s;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}const Ua=1e3,SI=300*1e3,Ry=30*1e3,CI=1.3,TI=3e4,wI="server_kill",Ny=3;class Zn extends Vb{constructor(e,s,r,o,c,f,h,p){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=f,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=Zn.nextPersistentConnectionId_++,this.log_=vl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ua,this.maxReconnectDelay_=SI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&hc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,r){const o=++this.requestNumber_,c={r:o,a:e,b:s};this.log_(nt(c)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const s=new Mc,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const h=f.d;f.s==="ok"?s.resolve(h):s.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),s.promise}listen(e,s,r,o){this.initConnection_();const c=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+c),this.listens.has(f)||this.listens.set(f,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(f).has(c),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:s,query:e,tag:r};this.listens.get(f).set(c,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(r)})}sendListen_(e){const s=e.query,r=s._path.toString(),o=s._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r},f="q";e.tag&&(c.q=s._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest(f,c,h=>{const p=h.d,m=h.s;Zn.warnOnListenWarnings_(p,s),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,s){if(e&&typeof e=="object"&&ni(e,"w")){const r=Cr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+s._queryParams.getIndex().toString()+'"',c=s._path.toString();Dt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Jw(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ry)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=$w(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(s,r,o=>{const c=o.s,f=o.d||"error";this.authToken_===e&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,r=e.d||"error";s==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,r)})}unlisten(e,s){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,s)}sendUnlisten_(e,s,r,o){this.log_("Unlisten on "+e+" for "+s);const c={p:e},f="n";o&&(c.q=r,c.t=o),this.sendRequest(f,c)}onDisconnectPut(e,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:r})}onDisconnectMerge(e,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:r})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,r,o){const c={p:s,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(e,s,r,o){this.putInternal("p",e,s,r,o)}merge(e,s,r,o){this.putInternal("m",e,s,r,o)}putInternal(e,s,r,o,c){this.initConnection_();const f={p:s,d:r};c!==void 0&&(f.h=c),this.outstandingPuts_.push({action:e,request:f,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,r,c=>{this.log_(s+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,r=>{if(r.s!=="ok"){const c=r.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+nt(e));const s=e.r,r=this.requestCBHash_[s];r&&(delete this.requestCBHash_[s],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),e==="d"?this.onDataUpdate_(s.p,s.d,!1,s.t):e==="m"?this.onDataUpdate_(s.p,s.d,!0,s.t):e==="c"?this.onListenRevoked_(s.p,s.q):e==="ac"?this.onAuthRevoked_(s.s,s.d):e==="apc"?this.onAppCheckRevoked_(s.s,s.d):e==="sd"?this.onSecurityDebugPacket_(s):Xd("Unrecognized action received from server: "+nt(e)+`
Are you using the latest client?`)}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ua,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ua,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>TI&&(this.reconnectDelay_=Ua),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*CI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),s=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Zn.nextConnectionId_++,c=this.lastSessionId;let f=!1,h=null;const p=function(){h?h.close():(f=!0,r())},m=function(_){G(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(_)};this.realtime_={close:p,sendRequest:m};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,E]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);f?gt("getToken() completed but was canceled"):(gt("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=E&&E.token,h=new _I(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,s,r,w=>{Dt(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(wI)},c))}catch(_){this.log_("Failed to get token: "+_),f||(this.repoInfo_.nodeAdmin&&Dt(_),p())}}}interrupt(e){gt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){gt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],qd(this.interruptReasons_)&&(this.reconnectDelay_=Ua,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let r;s?r=s.map(c=>xh(c)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,s){const r=new xe(e).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(s),c.delete(s),c.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,s){gt("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ny&&(this.reconnectDelay_=Ry,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){gt("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ny&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";e["sdk."+s+"."+bb.replace(/\./g,"-")]=1,Eh()?e["framework.cordova"]=1:kE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=hc.getInstance().currentlyOnline();return qd(this.interruptReasons_)&&e}}Zn.nextPersistentConnectionId_=0;Zn.nextConnectionId_=0;class ce{constructor(e,s){this.name=e,this.node=s}static Wrap(e,s){return new ce(e,s)}}class Pc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,s){const r=new ce(Ar,e),o=new ce(Ar,s);return this.compare(r,o)!==0}minPost(){return ce.MIN}}let Yo;class Xb extends Pc{static get __EMPTY_NODE(){return Yo}static set __EMPTY_NODE(e){Yo=e}compare(e,s){return Ur(e.name,s.name)}isDefinedOn(e){throw Ir("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,s){return!1}minPost(){return ce.MIN}maxPost(){return new ce(bs,Yo)}makePost(e,s){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new ce(e,Yo)}toString(){return".key"}}const Sr=new Xb;class Fo{constructor(e,s,r,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=s?r(e.key,s):1,o&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),s;if(this.resultGenerator_?s=this.resultGenerator_(e.key,e.value):s={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ot{constructor(e,s,r,o,c){this.key=e,this.value=s,this.color=r??ot.RED,this.left=o??It.EMPTY_NODE,this.right=c??It.EMPTY_NODE}copy(e,s,r,o,c){return new ot(e??this.key,s??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let o=this;const c=r(e,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(e,s,r),null):c===0?o=o.copy(null,s,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,s,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return It.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let r,o;if(r=this,s(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,s),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),s(e,r.key)===0){if(r.right.isEmpty())return It.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,s))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ot.RED=!0;ot.BLACK=!1;class AI{copy(e,s,r,o,c){return this}insert(e,s,r){return new ot(e,s,null)}remove(e,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class It{constructor(e,s=It.EMPTY_NODE){this.comparator_=e,this.root_=s}insert(e,s){return new It(this.comparator_,this.root_.insert(e,s,this.comparator_).copy(null,null,ot.BLACK,null,null))}remove(e){return new It(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ot.BLACK,null,null))}get(e){let s,r=this.root_;for(;!r.isEmpty();){if(s=this.comparator_(e,r.key),s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}getPredecessorKey(e){let s,r=this.root_,o=null;for(;!r.isEmpty();)if(s=this.comparator_(e,r.key),s===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else s<0?r=r.left:s>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Fo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,s){return new Fo(this.root_,e,this.comparator_,!1,s)}getReverseIteratorFrom(e,s){return new Fo(this.root_,e,this.comparator_,!0,s)}getReverseIterator(e){return new Fo(this.root_,null,this.comparator_,!0,e)}}It.EMPTY_NODE=new AI;function RI(n,e){return Ur(n.name,e.name)}function Ph(n,e){return Ur(n,e)}let $d;function NI(n){$d=n}const Zb=function(n){return typeof n=="number"?"number:"+Ab(n):"string:"+n},$b=function(n){if(n.isLeafNode()){const e=n.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ni(e,".sv"),"Priority must be a string or number.")}else G(n===$d||n.isEmpty(),"priority of unexpected type.");G(n===$d||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Oy;class lt{static set __childrenNodeConstructor(e){Oy=e}static get __childrenNodeConstructor(){return Oy}constructor(e,s=lt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),$b(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new lt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:lt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return de(e)?this:ge(e)===".priority"?this.priorityNode_:lt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return e===".priority"?this.updatePriority(s):s.isEmpty()&&e!==".priority"?this:lt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const r=ge(e);return r===null?s:s.isEmpty()&&r!==".priority"?this:(G(r!==".priority"||qi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,lt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Le(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Zb(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",s==="number"?e+=Ab(this.value_):e+=this.value_,this.lazyHash_=Cb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===lt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof lt.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,r=typeof this.value_,o=lt.VALUE_TYPE_ORDER.indexOf(s),c=lt.VALUE_TYPE_ORDER.indexOf(r);return G(o>=0,"Unknown leaf type: "+s),G(c>=0,"Unknown leaf type: "+r),o===c?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}else return!1}}lt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let Jb,e0;function OI(n){Jb=n}function II(n){e0=n}class DI extends Pc{compare(e,s){const r=e.node.getPriority(),o=s.node.getPriority(),c=r.compareTo(o);return c===0?Ur(e.name,s.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,s){return!e.getPriority().equals(s.getPriority())}minPost(){return ce.MIN}maxPost(){return new ce(bs,new lt("[PRIORITY-POST]",e0))}makePost(e,s){const r=Jb(e);return new ce(s,new lt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Fe=new DI;const MI=Math.log(2);class xI{constructor(e){const s=c=>parseInt(Math.log(c)/MI,10),r=c=>parseInt(Array(c+1).join("1"),2);this.count=s(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const mc=function(n,e,s,r){n.sort(e);const o=function(p,m){const y=m-p;let _,E;if(y===0)return null;if(y===1)return _=n[p],E=s?s(_):_,new ot(E,_.node,ot.BLACK,null,null);{const w=parseInt(y/2,10)+p,N=o(p,w),k=o(w+1,m);return _=n[w],E=s?s(_):_,new ot(E,_.node,ot.BLACK,N,k)}},c=function(p){let m=null,y=null,_=n.length;const E=function(N,k){const H=_-N,j=_;_-=N;const P=o(H+1,j),V=n[H],oe=s?s(V):V;w(new ot(oe,V.node,k,null,P))},w=function(N){m?(m.left=N,m=N):(y=N,m=N)};for(let N=0;N<p.count;++N){const k=p.nextBitIsOne(),H=Math.pow(2,p.count-(N+1));k?E(H,ot.BLACK):(E(H,ot.BLACK),E(H,ot.RED))}return y},f=new xI(n.length),h=c(f);return new It(r||e,h)};let Dd;const pr={};class Qn{static get Default(){return G(pr&&Fe,"ChildrenNode.ts has not been loaded"),Dd=Dd||new Qn({".priority":pr},{".priority":Fe}),Dd}constructor(e,s){this.indexes_=e,this.indexSet_=s}get(e){const s=Cr(this.indexes_,e);if(!s)throw new Error("No index defined for "+e);return s instanceof It?s:null}hasIndex(e){return ni(this.indexSet_,e.toString())}addIndex(e,s){G(e!==Sr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const c=s.getIterator(ce.Wrap);let f=c.getNext();for(;f;)o=o||e.isDefinedOn(f.node),r.push(f),f=c.getNext();let h;o?h=mc(r,e.getCompare()):h=pr;const p=e.toString(),m={...this.indexSet_};m[p]=e;const y={...this.indexes_};return y[p]=h,new Qn(y,m)}addToIndexes(e,s){const r=sc(this.indexes_,(o,c)=>{const f=Cr(this.indexSet_,c);if(G(f,"Missing index implementation for "+c),o===pr)if(f.isDefinedOn(e.node)){const h=[],p=s.getIterator(ce.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&h.push(m),m=p.getNext();return h.push(e),mc(h,f.getCompare())}else return pr;else{const h=s.get(e.name);let p=o;return h&&(p=p.remove(new ce(e.name,h))),p.insert(e,e.node)}});return new Qn(r,this.indexSet_)}removeFromIndexes(e,s){const r=sc(this.indexes_,o=>{if(o===pr)return o;{const c=s.get(e.name);return c?o.remove(new ce(e.name,c)):o}});return new Qn(r,this.indexSet_)}}let za;class ie{static get EMPTY_NODE(){return za||(za=new ie(new It(Ph),null,Qn.Default))}constructor(e,s,r){this.children_=e,this.priorityNode_=s,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&$b(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||za}updatePriority(e){return this.children_.isEmpty()?this:new ie(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const s=this.children_.get(e);return s===null?za:s}}getChild(e){const s=ge(e);return s===null?this:this.getImmediateChild(s).getChild(Le(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,s){if(G(s,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(s);{const r=new ce(e,s);let o,c;s.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,s),c=this.indexMap_.addToIndexes(r,this.children_));const f=o.isEmpty()?za:this.priorityNode_;return new ie(o,f,c)}}updateChild(e,s){const r=ge(e);if(r===null)return s;{G(ge(e)!==".priority"||qi(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Le(e),s);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let r=0,o=0,c=!0;if(this.forEachChild(Fe,(f,h)=>{s[f]=h.val(e),r++,c&&ie.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):c=!1}),!e&&c&&o<2*r){const f=[];for(const h in s)f[h]=s[h];return f}else return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Zb(this.getPriority().val())+":"),this.forEachChild(Fe,(s,r)=>{const o=r.hash();o!==""&&(e+=":"+s+":"+o)}),this.lazyHash_=e===""?"":Cb(e)}return this.lazyHash_}getPredecessorChildName(e,s,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new ce(e,s));return c?c.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const r=s.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new ce(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const r=s.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new ce(s,this.children_.get(s)):null}forEachChild(e,s){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>s(o.name,o.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const r=this.resolveIndex_(s);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ce.Wrap);let c=o.peek();for(;c!=null&&s.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const r=this.resolveIndex_(s);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ce.Wrap);let c=o.peek();for(;c!=null&&s.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===yl?-1:0}withIndex(e){if(e===Sr||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new ie(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===Sr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority()))if(this.children_.count()===s.children_.count()){const r=this.getIterator(Fe),o=s.getIterator(Fe);let c=r.getNext(),f=o.getNext();for(;c&&f;){if(c.name!==f.name||!c.node.equals(f.node))return!1;c=r.getNext(),f=o.getNext()}return c===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===Sr?null:this.indexMap_.get(e.toString())}}ie.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class kI extends ie{constructor(){super(new It(Ph),ie.EMPTY_NODE,Qn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ie.EMPTY_NODE}isEmpty(){return!1}}const yl=new kI;Object.defineProperties(ce,{MIN:{value:new ce(Ar,ie.EMPTY_NODE)},MAX:{value:new ce(bs,yl)}});Xb.__EMPTY_NODE=ie.EMPTY_NODE;lt.__childrenNodeConstructor=ie;NI(yl);II(yl);const LI=!0;function ct(n,e=null){if(n===null)return ie.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const s=n;return new lt(s,ct(e))}if(!(n instanceof Array)&&LI){const s=[];let r=!1;if(Mt(n,(f,h)=>{if(f.substring(0,1)!=="."){const p=ct(h);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),s.push(new ce(f,p)))}}),s.length===0)return ie.EMPTY_NODE;const c=mc(s,RI,f=>f.name,Ph);if(r){const f=mc(s,Fe.getCompare());return new ie(c,ct(e),new Qn({".priority":f},{".priority":Fe}))}else return new ie(c,ct(e),Qn.Default)}else{let s=ie.EMPTY_NODE;return Mt(n,(r,o)=>{if(ni(n,r)&&r.substring(0,1)!=="."){const c=ct(o);(c.isLeafNode()||!c.isEmpty())&&(s=s.updateImmediateChild(r,c))}}),s.updatePriority(ct(e))}}OI(ct);class UI extends Pc{constructor(e){super(),this.indexPath_=e,G(!de(e)&&ge(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,s){const r=this.extractChild(e.node),o=this.extractChild(s.node),c=r.compareTo(o);return c===0?Ur(e.name,s.name):c}makePost(e,s){const r=ct(e),o=ie.EMPTY_NODE.updateChild(this.indexPath_,r);return new ce(s,o)}maxPost(){const e=ie.EMPTY_NODE.updateChild(this.indexPath_,yl);return new ce(bs,e)}toString(){return Fb(this.indexPath_,0).join("/")}}class zI extends Pc{compare(e,s){const r=e.node.compareTo(s.node);return r===0?Ur(e.name,s.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,s){return!e.equals(s)}minPost(){return ce.MIN}maxPost(){return ce.MAX}makePost(e,s){const r=ct(e);return new ce(s,r)}toString(){return".value"}}const PI=new zI;function t0(n){return{type:"value",snapshotNode:n}}function Rr(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function nl(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function il(n,e,s){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:s}}function BI(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}class Bh{constructor(e){this.index_=e}updateChild(e,s,r,o,c,f){G(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(s);return h.getChild(o).equals(r.getChild(o))&&h.isEmpty()===r.isEmpty()||(f!=null&&(r.isEmpty()?e.hasChild(s)?f.trackChildChange(nl(s,h)):G(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?f.trackChildChange(Rr(s,r)):f.trackChildChange(il(s,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(s,r).withIndex(this.index_)}updateFullNode(e,s,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Fe,(o,c)=>{s.hasChild(o)||r.trackChildChange(nl(o,c))}),s.isLeafNode()||s.forEachChild(Fe,(o,c)=>{if(e.hasChild(o)){const f=e.getImmediateChild(o);f.equals(c)||r.trackChildChange(il(o,c,f))}else r.trackChildChange(Rr(o,c))})),s.withIndex(this.index_)}updatePriority(e,s){return e.isEmpty()?ie.EMPTY_NODE:e.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class sl{constructor(e){this.indexedFilter_=new Bh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=sl.getStartPost_(e),this.endPost_=sl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return s&&r}updateChild(e,s,r,o,c,f){return this.matches(new ce(s,r))||(r=ie.EMPTY_NODE),this.indexedFilter_.updateChild(e,s,r,o,c,f)}updateFullNode(e,s,r){s.isLeafNode()&&(s=ie.EMPTY_NODE);let o=s.withIndex(this.index_);o=o.updatePriority(ie.EMPTY_NODE);const c=this;return s.forEachChild(Fe,(f,h)=>{c.matches(new ce(f,h))||(o=o.updateImmediateChild(f,ie.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,s){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const s=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),s)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const s=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),s)}else return e.getIndex().maxPost()}}class HI{constructor(e){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=s=>{const r=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new sl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,s,r,o,c,f){return this.rangedFilter_.matches(new ce(s,r))||(r=ie.EMPTY_NODE),e.getImmediateChild(s).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,s,r,o,c,f):this.fullLimitUpdateChild_(e,s,r,c,f)}updateFullNode(e,s,r){let o;if(s.isLeafNode()||s.isEmpty())o=ie.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<s.numChildren()&&s.isIndexed(this.index_)){o=ie.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;c.hasNext()&&f<this.limit_;){const h=c.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),f++;else break;else continue}}else{o=s.withIndex(this.index_),o=o.updatePriority(ie.EMPTY_NODE);let c;this.reverse_?c=o.getReverseIterator(this.index_):c=o.getIterator(this.index_);let f=0;for(;c.hasNext();){const h=c.getNext();f<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?f++:o=o.updateImmediateChild(h.name,ie.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,s){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,s,r,o,c){let f;if(this.reverse_){const _=this.index_.getCompare();f=(E,w)=>_(w,E)}else f=this.index_.getCompare();const h=e;G(h.numChildren()===this.limit_,"");const p=new ce(s,r),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),y=this.rangedFilter_.matches(p);if(h.hasChild(s)){const _=h.getImmediateChild(s);let E=o.getChildAfterChild(this.index_,m,this.reverse_);for(;E!=null&&(E.name===s||h.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const w=E==null?1:f(E,p);if(y&&!r.isEmpty()&&w>=0)return c?.trackChildChange(il(s,r,_)),h.updateImmediateChild(s,r);{c?.trackChildChange(nl(s,_));const k=h.updateImmediateChild(s,ie.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(c?.trackChildChange(Rr(E.name,E.node)),k.updateImmediateChild(E.name,E.node)):k}}else return r.isEmpty()?e:y&&f(m,p)>=0?(c!=null&&(c.trackChildChange(nl(m.name,m.node)),c.trackChildChange(Rr(s,r))),h.updateImmediateChild(s,r).updateImmediateChild(m.name,ie.EMPTY_NODE)):e}}class Hh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ar}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fe}copy(){const e=new Hh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function qI(n){return n.loadsAllData()?new Bh(n.getIndex()):n.hasLimit()?new HI(n):new sl(n)}function Iy(n){const e={};if(n.isDefault())return e;let s;if(n.index_===Fe?s="$priority":n.index_===PI?s="$value":n.index_===Sr?s="$key":(G(n.index_ instanceof UI,"Unrecognized index type!"),s=n.index_.toString()),e.orderBy=nt(s),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=nt(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+nt(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=nt(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+nt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Dy(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let s=n.viewFrom_;s===""&&(n.isViewFromLeft()?s="l":s="r"),e.vf=s}return n.index_!==Fe&&(e.i=n.index_.toString()),e}class pc extends Vb{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,s){return s!==void 0?"tag$"+s:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,s,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=s,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=vl("p:rest:"),this.listens_={}}listen(e,s,r,o){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const f=pc.getListenId_(e,r),h={};this.listens_[f]=h;const p=Iy(e._queryParams);this.restRequest_(c+".json",p,(m,y)=>{let _=y;if(m===404&&(_=null,m=null),m===null&&this.onDataUpdate_(c,_,!1,r),Cr(this.listens_,f)===h){let E;m?m===401?E="permission_denied":E="rest_error:"+m:E="ok",o(E,null)}})}unlisten(e,s){const r=pc.getListenId_(e,s);delete this.listens_[r]}get(e){const s=Iy(e._queryParams),r=e._path.toString(),o=new Mc;return this.restRequest_(r+".json",s,(c,f)=>{let h=f;c===404&&(h=null,c=null),c===null?(this.onDataUpdate_(r,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,s={},r){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(s.auth=o.accessToken),c&&c.token&&(s.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Mr(s);this.log_("Sending REST request for "+f);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=Za(h.responseText)}catch{Dt("Failed to parse JSON response for "+f+": "+h.responseText)}r(null,p)}else h.status!==401&&h.status!==404&&Dt("Got unsuccessful REST response for "+f+" Status: "+h.status),r(h.status);r=null}},h.open("GET",f,!0),h.send()})}}class jI{constructor(){this.rootNode_=ie.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,s){this.rootNode_=this.rootNode_.updateChild(e,s)}}function gc(){return{value:null,children:new Map}}function n0(n,e,s){if(de(e))n.value=s,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,s);else{const r=ge(e);n.children.has(r)||n.children.set(r,gc());const o=n.children.get(r);e=Le(e),n0(o,e,s)}}function Jd(n,e,s){n.value!==null?s(e,n.value):VI(n,(r,o)=>{const c=new xe(e.toString()+"/"+r);Jd(o,c,s)})}function VI(n,e){n.children.forEach((s,r)=>{e(r,s)})}class GI{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),s={...e};return this.last_&&Mt(this.last_,(r,o)=>{s[r]=s[r]-o}),this.last_=e,s}}const My=10*1e3,YI=30*1e3,FI=300*1e3;class KI{constructor(e,s){this.server_=s,this.statsToReport_={},this.statsListener_=new GI(e);const r=My+(YI-My)*Math.random();Fa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),s={};let r=!1;Mt(e,(o,c)=>{c>0&&ni(this.statsToReport_,o)&&(s[o]=c,r=!0)}),r&&this.server_.reportStats(s),Fa(this.reportStats_.bind(this),Math.floor(Math.random()*2*FI))}}var mn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(mn||(mn={}));function i0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function qh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function jh(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class _c{constructor(e,s,r){this.path=e,this.affectedTree=s,this.revert=r,this.type=mn.ACK_USER_WRITE,this.source=i0()}operationForChild(e){if(de(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new xe(e));return new _c(Ee(),s,this.revert)}}else return G(ge(this.path)===e,"operationForChild called for unrelated child."),new _c(Le(this.path),this.affectedTree,this.revert)}}class rl{constructor(e,s){this.source=e,this.path=s,this.type=mn.LISTEN_COMPLETE}operationForChild(e){return de(this.path)?new rl(this.source,Ee()):new rl(this.source,Le(this.path))}}class Ss{constructor(e,s,r){this.source=e,this.path=s,this.snap=r,this.type=mn.OVERWRITE}operationForChild(e){return de(this.path)?new Ss(this.source,Ee(),this.snap.getImmediateChild(e)):new Ss(this.source,Le(this.path),this.snap)}}class al{constructor(e,s,r){this.source=e,this.path=s,this.children=r,this.type=mn.MERGE}operationForChild(e){if(de(this.path)){const s=this.children.subtree(new xe(e));return s.isEmpty()?null:s.value?new Ss(this.source,Ee(),s.value):new al(this.source,Ee(),s)}else return G(ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new al(this.source,Le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ji{constructor(e,s,r){this.node_=e,this.fullyInitialized_=s,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(de(e))return this.isFullyInitialized()&&!this.filtered_;const s=ge(e);return this.isCompleteForChild(s)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class QI{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function WI(n,e,s,r){const o=[],c=[];return e.forEach(f=>{f.type==="child_changed"&&n.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(BI(f.childName,f.snapshotNode))}),Pa(n,o,"child_removed",e,r,s),Pa(n,o,"child_added",e,r,s),Pa(n,o,"child_moved",c,r,s),Pa(n,o,"child_changed",e,r,s),Pa(n,o,"value",e,r,s),o}function Pa(n,e,s,r,o,c){const f=r.filter(h=>h.type===s);f.sort((h,p)=>ZI(n,h,p)),f.forEach(h=>{const p=XI(n,h,c);o.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(p,n.query_))})})}function XI(n,e,s){return e.type==="value"||e.type==="child_removed"||(e.prevName=s.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function ZI(n,e,s){if(e.childName==null||s.childName==null)throw Ir("Should only compare child_ events.");const r=new ce(e.childName,e.snapshotNode),o=new ce(s.childName,s.snapshotNode);return n.index_.compare(r,o)}function Bc(n,e){return{eventCache:n,serverCache:e}}function Ka(n,e,s,r){return Bc(new ji(e,s,r),n.serverCache)}function s0(n,e,s,r){return Bc(n.eventCache,new ji(e,s,r))}function vc(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Cs(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Md;const $I=()=>(Md||(Md=new It(zO)),Md);class Be{static fromObject(e){let s=new Be(null);return Mt(e,(r,o)=>{s=s.set(new xe(r),o)}),s}constructor(e,s=$I()){this.value=e,this.children=s}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,s){if(this.value!=null&&s(this.value))return{path:Ee(),value:this.value};if(de(e))return null;{const r=ge(e),o=this.children.get(r);if(o!==null){const c=o.findRootMostMatchingPathAndValue(Le(e),s);return c!=null?{path:it(new xe(r),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(de(e))return this;{const s=ge(e),r=this.children.get(s);return r!==null?r.subtree(Le(e)):new Be(null)}}set(e,s){if(de(e))return new Be(s,this.children);{const r=ge(e),c=(this.children.get(r)||new Be(null)).set(Le(e),s),f=this.children.insert(r,c);return new Be(this.value,f)}}remove(e){if(de(e))return this.children.isEmpty()?new Be(null):new Be(null,this.children);{const s=ge(e),r=this.children.get(s);if(r){const o=r.remove(Le(e));let c;return o.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,o),this.value===null&&c.isEmpty()?new Be(null):new Be(this.value,c)}else return this}}get(e){if(de(e))return this.value;{const s=ge(e),r=this.children.get(s);return r?r.get(Le(e)):null}}setTree(e,s){if(de(e))return s;{const r=ge(e),c=(this.children.get(r)||new Be(null)).setTree(Le(e),s);let f;return c.isEmpty()?f=this.children.remove(r):f=this.children.insert(r,c),new Be(this.value,f)}}fold(e){return this.fold_(Ee(),e)}fold_(e,s){const r={};return this.children.inorderTraversal((o,c)=>{r[o]=c.fold_(it(e,o),s)}),s(e,this.value,r)}findOnPath(e,s){return this.findOnPath_(e,Ee(),s)}findOnPath_(e,s,r){const o=this.value?r(s,this.value):!1;if(o)return o;if(de(e))return null;{const c=ge(e),f=this.children.get(c);return f?f.findOnPath_(Le(e),it(s,c),r):null}}foreachOnPath(e,s){return this.foreachOnPath_(e,Ee(),s)}foreachOnPath_(e,s,r){if(de(e))return this;{this.value&&r(s,this.value);const o=ge(e),c=this.children.get(o);return c?c.foreachOnPath_(Le(e),it(s,o),r):new Be(null)}}foreach(e){this.foreach_(Ee(),e)}foreach_(e,s){this.children.inorderTraversal((r,o)=>{o.foreach_(it(e,r),s)}),this.value&&s(e,this.value)}foreachChild(e){this.children.inorderTraversal((s,r)=>{r.value&&e(s,r.value)})}}class pn{constructor(e){this.writeTree_=e}static empty(){return new pn(new Be(null))}}function Qa(n,e,s){if(de(e))return new pn(new Be(s));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let c=r.value;const f=yt(o,e);return c=c.updateChild(f,s),new pn(n.writeTree_.set(o,c))}else{const o=new Be(s),c=n.writeTree_.setTree(e,o);return new pn(c)}}}function xy(n,e,s){let r=n;return Mt(s,(o,c)=>{r=Qa(r,it(e,o),c)}),r}function ky(n,e){if(de(e))return pn.empty();{const s=n.writeTree_.setTree(e,new Be(null));return new pn(s)}}function eh(n,e){return Ns(n,e)!=null}function Ns(n,e){const s=n.writeTree_.findRootMostValueAndPath(e);return s!=null?n.writeTree_.get(s.path).getChild(yt(s.path,e)):null}function Ly(n){const e=[],s=n.writeTree_.value;return s!=null?s.isLeafNode()||s.forEachChild(Fe,(r,o)=>{e.push(new ce(r,o))}):n.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new ce(r,o.value))}),e}function Bi(n,e){if(de(e))return n;{const s=Ns(n,e);return s!=null?new pn(new Be(s)):new pn(n.writeTree_.subtree(e))}}function th(n){return n.writeTree_.isEmpty()}function Nr(n,e){return r0(Ee(),n.writeTree_,e)}function r0(n,e,s){if(e.value!=null)return s.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((o,c)=>{o===".priority"?(G(c.value!==null,"Priority writes must always be leaf nodes"),r=c.value):s=r0(it(n,o),c,s)}),!s.getChild(n).isEmpty()&&r!==null&&(s=s.updateChild(it(n,".priority"),r)),s}}function Hc(n,e){return c0(e,n)}function JI(n,e,s,r,o){G(r>n.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),n.allWrites.push({path:e,snap:s,writeId:r,visible:o}),o&&(n.visibleWrites=Qa(n.visibleWrites,e,s)),n.lastWriteId=r}function eD(n,e){for(let s=0;s<n.allWrites.length;s++){const r=n.allWrites[s];if(r.writeId===e)return r}return null}function tD(n,e){const s=n.allWrites.findIndex(h=>h.writeId===e);G(s>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[s];n.allWrites.splice(s,1);let o=r.visible,c=!1,f=n.allWrites.length-1;for(;o&&f>=0;){const h=n.allWrites[f];h.visible&&(f>=s&&nD(h,r.path)?o=!1:hn(r.path,h.path)&&(c=!0)),f--}if(o){if(c)return iD(n),!0;if(r.snap)n.visibleWrites=ky(n.visibleWrites,r.path);else{const h=r.children;Mt(h,p=>{n.visibleWrites=ky(n.visibleWrites,it(r.path,p))})}return!0}else return!1}function nD(n,e){if(n.snap)return hn(n.path,e);for(const s in n.children)if(n.children.hasOwnProperty(s)&&hn(it(n.path,s),e))return!0;return!1}function iD(n){n.visibleWrites=a0(n.allWrites,sD,Ee()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function sD(n){return n.visible}function a0(n,e,s){let r=pn.empty();for(let o=0;o<n.length;++o){const c=n[o];if(e(c)){const f=c.path;let h;if(c.snap)hn(s,f)?(h=yt(s,f),r=Qa(r,h,c.snap)):hn(f,s)&&(h=yt(f,s),r=Qa(r,Ee(),c.snap.getChild(h)));else if(c.children){if(hn(s,f))h=yt(s,f),r=xy(r,h,c.children);else if(hn(f,s))if(h=yt(f,s),de(h))r=xy(r,Ee(),c.children);else{const p=Cr(c.children,ge(h));if(p){const m=p.getChild(Le(h));r=Qa(r,Ee(),m)}}}else throw Ir("WriteRecord should have .snap or .children")}}return r}function l0(n,e,s,r,o){if(!r&&!o){const c=Ns(n.visibleWrites,e);if(c!=null)return c;{const f=Bi(n.visibleWrites,e);if(th(f))return s;if(s==null&&!eh(f,Ee()))return null;{const h=s||ie.EMPTY_NODE;return Nr(f,h)}}}else{const c=Bi(n.visibleWrites,e);if(!o&&th(c))return s;if(!o&&s==null&&!eh(c,Ee()))return null;{const f=function(m){return(m.visible||o)&&(!r||!~r.indexOf(m.writeId))&&(hn(m.path,e)||hn(e,m.path))},h=a0(n.allWrites,f,e),p=s||ie.EMPTY_NODE;return Nr(h,p)}}}function rD(n,e,s){let r=ie.EMPTY_NODE;const o=Ns(n.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Fe,(c,f)=>{r=r.updateImmediateChild(c,f)}),r;if(s){const c=Bi(n.visibleWrites,e);return s.forEachChild(Fe,(f,h)=>{const p=Nr(Bi(c,new xe(f)),h);r=r.updateImmediateChild(f,p)}),Ly(c).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}else{const c=Bi(n.visibleWrites,e);return Ly(c).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}}function aD(n,e,s,r,o){G(r||o,"Either existingEventSnap or existingServerSnap must exist");const c=it(e,s);if(eh(n.visibleWrites,c))return null;{const f=Bi(n.visibleWrites,c);return th(f)?o.getChild(s):Nr(f,o.getChild(s))}}function lD(n,e,s,r){const o=it(e,s),c=Ns(n.visibleWrites,o);if(c!=null)return c;if(r.isCompleteForChild(s)){const f=Bi(n.visibleWrites,o);return Nr(f,r.getNode().getImmediateChild(s))}else return null}function oD(n,e){return Ns(n.visibleWrites,e)}function cD(n,e,s,r,o,c,f){let h;const p=Bi(n.visibleWrites,e),m=Ns(p,Ee());if(m!=null)h=m;else if(s!=null)h=Nr(p,s);else return[];if(h=h.withIndex(f),!h.isEmpty()&&!h.isLeafNode()){const y=[],_=f.getCompare(),E=c?h.getReverseIteratorFrom(r,f):h.getIteratorFrom(r,f);let w=E.getNext();for(;w&&y.length<o;)_(w,r)!==0&&y.push(w),w=E.getNext();return y}else return[]}function uD(){return{visibleWrites:pn.empty(),allWrites:[],lastWriteId:-1}}function yc(n,e,s,r){return l0(n.writeTree,n.treePath,e,s,r)}function Vh(n,e){return rD(n.writeTree,n.treePath,e)}function Uy(n,e,s,r){return aD(n.writeTree,n.treePath,e,s,r)}function Ec(n,e){return oD(n.writeTree,it(n.treePath,e))}function fD(n,e,s,r,o,c){return cD(n.writeTree,n.treePath,e,s,r,o,c)}function Gh(n,e,s){return lD(n.writeTree,n.treePath,e,s)}function o0(n,e){return c0(it(n.treePath,e),n.writeTree)}function c0(n,e){return{treePath:n,writeTree:e}}class dD{constructor(){this.changeMap=new Map}trackChildChange(e){const s=e.type,r=e.childName;G(s==="child_added"||s==="child_changed"||s==="child_removed","Only child changes supported for tracking"),G(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const c=o.type;if(s==="child_added"&&c==="child_removed")this.changeMap.set(r,il(r,e.snapshotNode,o.snapshotNode));else if(s==="child_removed"&&c==="child_added")this.changeMap.delete(r);else if(s==="child_removed"&&c==="child_changed")this.changeMap.set(r,nl(r,o.oldSnap));else if(s==="child_changed"&&c==="child_added")this.changeMap.set(r,Rr(r,e.snapshotNode));else if(s==="child_changed"&&c==="child_changed")this.changeMap.set(r,il(r,e.snapshotNode,o.oldSnap));else throw Ir("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}class hD{getCompleteChild(e){return null}getChildAfterChild(e,s,r){return null}}const u0=new hD;class Yh{constructor(e,s,r=null){this.writes_=e,this.viewCache_=s,this.optCompleteServerCache_=r}getCompleteChild(e){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(e))return s.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ji(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Gh(this.writes_,e,r)}}getChildAfterChild(e,s,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Cs(this.viewCache_),c=fD(this.writes_,o,s,1,r,e);return c.length===0?null:c[0]}}function mD(n){return{filter:n}}function pD(n,e){G(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function gD(n,e,s,r,o){const c=new dD;let f,h;if(s.type===mn.OVERWRITE){const m=s;m.source.fromUser?f=nh(n,e,m.path,m.snap,r,o,c):(G(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!de(m.path),f=bc(n,e,m.path,m.snap,r,o,h,c))}else if(s.type===mn.MERGE){const m=s;m.source.fromUser?f=vD(n,e,m.path,m.children,r,o,c):(G(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),f=ih(n,e,m.path,m.children,r,o,h,c))}else if(s.type===mn.ACK_USER_WRITE){const m=s;m.revert?f=bD(n,e,m.path,r,o,c):f=yD(n,e,m.path,m.affectedTree,r,o,c)}else if(s.type===mn.LISTEN_COMPLETE)f=ED(n,e,s.path,r,c);else throw Ir("Unknown operation type: "+s.type);const p=c.getChanges();return _D(e,f,p),{viewCache:f,changes:p}}function _D(n,e,s){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=vc(n);(s.length>0||!n.eventCache.isFullyInitialized()||o&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&s.push(t0(vc(e)))}}function f0(n,e,s,r,o,c){const f=e.eventCache;if(Ec(r,s)!=null)return e;{let h,p;if(de(s))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Cs(e),y=m instanceof ie?m:ie.EMPTY_NODE,_=Vh(r,y);h=n.filter.updateFullNode(e.eventCache.getNode(),_,c)}else{const m=yc(r,Cs(e));h=n.filter.updateFullNode(e.eventCache.getNode(),m,c)}else{const m=ge(s);if(m===".priority"){G(qi(s)===1,"Can't have a priority with additional path components");const y=f.getNode();p=e.serverCache.getNode();const _=Uy(r,s,y,p);_!=null?h=n.filter.updatePriority(y,_):h=f.getNode()}else{const y=Le(s);let _;if(f.isCompleteForChild(m)){p=e.serverCache.getNode();const E=Uy(r,s,f.getNode(),p);E!=null?_=f.getNode().getImmediateChild(m).updateChild(y,E):_=f.getNode().getImmediateChild(m)}else _=Gh(r,m,e.serverCache);_!=null?h=n.filter.updateChild(f.getNode(),m,_,y,o,c):h=f.getNode()}}return Ka(e,h,f.isFullyInitialized()||de(s),n.filter.filtersNodes())}}function bc(n,e,s,r,o,c,f,h){const p=e.serverCache;let m;const y=f?n.filter:n.filter.getIndexedFilter();if(de(s))m=y.updateFullNode(p.getNode(),r,null);else if(y.filtersNodes()&&!p.isFiltered()){const w=p.getNode().updateChild(s,r);m=y.updateFullNode(p.getNode(),w,null)}else{const w=ge(s);if(!p.isCompleteForPath(s)&&qi(s)>1)return e;const N=Le(s),H=p.getNode().getImmediateChild(w).updateChild(N,r);w===".priority"?m=y.updatePriority(p.getNode(),H):m=y.updateChild(p.getNode(),w,H,N,u0,null)}const _=s0(e,m,p.isFullyInitialized()||de(s),y.filtersNodes()),E=new Yh(o,_,c);return f0(n,_,s,o,E,h)}function nh(n,e,s,r,o,c,f){const h=e.eventCache;let p,m;const y=new Yh(o,e,c);if(de(s))m=n.filter.updateFullNode(e.eventCache.getNode(),r,f),p=Ka(e,m,!0,n.filter.filtersNodes());else{const _=ge(s);if(_===".priority")m=n.filter.updatePriority(e.eventCache.getNode(),r),p=Ka(e,m,h.isFullyInitialized(),h.isFiltered());else{const E=Le(s),w=h.getNode().getImmediateChild(_);let N;if(de(E))N=r;else{const k=y.getCompleteChild(_);k!=null?Yb(E)===".priority"&&k.getChild(Kb(E)).isEmpty()?N=k:N=k.updateChild(E,r):N=ie.EMPTY_NODE}if(w.equals(N))p=e;else{const k=n.filter.updateChild(h.getNode(),_,N,E,y,f);p=Ka(e,k,h.isFullyInitialized(),n.filter.filtersNodes())}}}return p}function zy(n,e){return n.eventCache.isCompleteForChild(e)}function vD(n,e,s,r,o,c,f){let h=e;return r.foreach((p,m)=>{const y=it(s,p);zy(e,ge(y))&&(h=nh(n,h,y,m,o,c,f))}),r.foreach((p,m)=>{const y=it(s,p);zy(e,ge(y))||(h=nh(n,h,y,m,o,c,f))}),h}function Py(n,e,s){return s.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function ih(n,e,s,r,o,c,f,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;de(s)?m=r:m=new Be(null).setTree(s,r);const y=e.serverCache.getNode();return m.children.inorderTraversal((_,E)=>{if(y.hasChild(_)){const w=e.serverCache.getNode().getImmediateChild(_),N=Py(n,w,E);p=bc(n,p,new xe(_),N,o,c,f,h)}}),m.children.inorderTraversal((_,E)=>{const w=!e.serverCache.isCompleteForChild(_)&&E.value===null;if(!y.hasChild(_)&&!w){const N=e.serverCache.getNode().getImmediateChild(_),k=Py(n,N,E);p=bc(n,p,new xe(_),k,o,c,f,h)}}),p}function yD(n,e,s,r,o,c,f){if(Ec(o,s)!=null)return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(r.value!=null){if(de(s)&&p.isFullyInitialized()||p.isCompleteForPath(s))return bc(n,e,s,p.getNode().getChild(s),o,c,h,f);if(de(s)){let m=new Be(null);return p.getNode().forEachChild(Sr,(y,_)=>{m=m.set(new xe(y),_)}),ih(n,e,s,m,o,c,h,f)}else return e}else{let m=new Be(null);return r.foreach((y,_)=>{const E=it(s,y);p.isCompleteForPath(E)&&(m=m.set(y,p.getNode().getChild(E)))}),ih(n,e,s,m,o,c,h,f)}}function ED(n,e,s,r,o){const c=e.serverCache,f=s0(e,c.getNode(),c.isFullyInitialized()||de(s),c.isFiltered());return f0(n,f,s,r,u0,o)}function bD(n,e,s,r,o,c){let f;if(Ec(r,s)!=null)return e;{const h=new Yh(r,e,o),p=e.eventCache.getNode();let m;if(de(s)||ge(s)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=yc(r,Cs(e));else{const _=e.serverCache.getNode();G(_ instanceof ie,"serverChildren would be complete if leaf node"),y=Vh(r,_)}y=y,m=n.filter.updateFullNode(p,y,c)}else{const y=ge(s);let _=Gh(r,y,e.serverCache);_==null&&e.serverCache.isCompleteForChild(y)&&(_=p.getImmediateChild(y)),_!=null?m=n.filter.updateChild(p,y,_,Le(s),h,c):e.eventCache.getNode().hasChild(y)?m=n.filter.updateChild(p,y,ie.EMPTY_NODE,Le(s),h,c):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=yc(r,Cs(e)),f.isLeafNode()&&(m=n.filter.updateFullNode(m,f,c)))}return f=e.serverCache.isFullyInitialized()||Ec(r,Ee())!=null,Ka(e,m,f,n.filter.filtersNodes())}}class SD{constructor(e,s){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Bh(r.getIndex()),c=qI(r);this.processor_=mD(c);const f=s.serverCache,h=s.eventCache,p=o.updateFullNode(ie.EMPTY_NODE,f.getNode(),null),m=c.updateFullNode(ie.EMPTY_NODE,h.getNode(),null),y=new ji(p,f.isFullyInitialized(),o.filtersNodes()),_=new ji(m,h.isFullyInitialized(),c.filtersNodes());this.viewCache_=Bc(_,y),this.eventGenerator_=new QI(this.query_)}get query(){return this.query_}}function CD(n){return n.viewCache_.serverCache.getNode()}function TD(n){return vc(n.viewCache_)}function wD(n,e){const s=Cs(n.viewCache_);return s&&(n.query._queryParams.loadsAllData()||!de(e)&&!s.getImmediateChild(ge(e)).isEmpty())?s.getChild(e):null}function By(n){return n.eventRegistrations_.length===0}function AD(n,e){n.eventRegistrations_.push(e)}function Hy(n,e,s){const r=[];if(s){G(e==null,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(c=>{const f=c.createCancelEvent(s,o);f&&r.push(f)})}if(e){let o=[];for(let c=0;c<n.eventRegistrations_.length;++c){const f=n.eventRegistrations_[c];if(!f.matches(e))o.push(f);else if(e.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(c+1));break}}n.eventRegistrations_=o}else n.eventRegistrations_=[];return r}function qy(n,e,s,r){e.type===mn.MERGE&&e.source.queryId!==null&&(G(Cs(n.viewCache_),"We should always have a full cache before handling merges"),G(vc(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,c=gD(n.processor_,o,e,s,r);return pD(n.processor_,c.viewCache),G(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,d0(n,c.changes,c.viewCache.eventCache.getNode(),null)}function RD(n,e){const s=n.viewCache_.eventCache,r=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(Fe,(c,f)=>{r.push(Rr(c,f))}),s.isFullyInitialized()&&r.push(t0(s.getNode())),d0(n,r,s.getNode(),e)}function d0(n,e,s,r){const o=r?[r]:n.eventRegistrations_;return WI(n.eventGenerator_,e,s,o)}let Sc;class h0{constructor(){this.views=new Map}}function ND(n){G(!Sc,"__referenceConstructor has already been defined"),Sc=n}function OD(){return G(Sc,"Reference.ts has not been loaded"),Sc}function ID(n){return n.views.size===0}function Fh(n,e,s,r){const o=e.source.queryId;if(o!==null){const c=n.views.get(o);return G(c!=null,"SyncTree gave us an op for an invalid query."),qy(c,e,s,r)}else{let c=[];for(const f of n.views.values())c=c.concat(qy(f,e,s,r));return c}}function m0(n,e,s,r,o){const c=e._queryIdentifier,f=n.views.get(c);if(!f){let h=yc(s,o?r:null),p=!1;h?p=!0:r instanceof ie?(h=Vh(s,r),p=!1):(h=ie.EMPTY_NODE,p=!1);const m=Bc(new ji(h,p,!1),new ji(r,o,!1));return new SD(e,m)}return f}function DD(n,e,s,r,o,c){const f=m0(n,e,r,o,c);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,f),AD(f,s),RD(f,s)}function MD(n,e,s,r){const o=e._queryIdentifier,c=[];let f=[];const h=Vi(n);if(o==="default")for(const[p,m]of n.views.entries())f=f.concat(Hy(m,s,r)),By(m)&&(n.views.delete(p),m.query._queryParams.loadsAllData()||c.push(m.query));else{const p=n.views.get(o);p&&(f=f.concat(Hy(p,s,r)),By(p)&&(n.views.delete(o),p.query._queryParams.loadsAllData()||c.push(p.query)))}return h&&!Vi(n)&&c.push(new(OD())(e._repo,e._path)),{removed:c,events:f}}function p0(n){const e=[];for(const s of n.views.values())s.query._queryParams.loadsAllData()||e.push(s);return e}function Hi(n,e){let s=null;for(const r of n.views.values())s=s||wD(r,e);return s}function g0(n,e){if(e._queryParams.loadsAllData())return qc(n);{const r=e._queryIdentifier;return n.views.get(r)}}function _0(n,e){return g0(n,e)!=null}function Vi(n){return qc(n)!=null}function qc(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Cc;function xD(n){G(!Cc,"__referenceConstructor has already been defined"),Cc=n}function kD(){return G(Cc,"Reference.ts has not been loaded"),Cc}let LD=1;class jy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Be(null),this.pendingWriteTree_=uD(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function v0(n,e,s,r,o){return JI(n.pendingWriteTree_,e,s,r,o),o?bl(n,new Ss(i0(),e,s)):[]}function _s(n,e,s=!1){const r=eD(n.pendingWriteTree_,e);if(tD(n.pendingWriteTree_,e)){let c=new Be(null);return r.snap!=null?c=c.set(Ee(),!0):Mt(r.children,f=>{c=c.set(new xe(f),!0)}),bl(n,new _c(r.path,c,s))}else return[]}function El(n,e,s){return bl(n,new Ss(qh(),e,s))}function UD(n,e,s){const r=Be.fromObject(s);return bl(n,new al(qh(),e,r))}function zD(n,e){return bl(n,new rl(qh(),e))}function PD(n,e,s){const r=Qh(n,s);if(r){const o=Wh(r),c=o.path,f=o.queryId,h=yt(c,e),p=new rl(jh(f),h);return Xh(n,c,p)}else return[]}function y0(n,e,s,r,o=!1){const c=e._path,f=n.syncPointTree_.get(c);let h=[];if(f&&(e._queryIdentifier==="default"||_0(f,e))){const p=MD(f,e,s,r);ID(f)&&(n.syncPointTree_=n.syncPointTree_.remove(c));const m=p.removed;if(h=p.events,!o){const y=m.findIndex(E=>E._queryParams.loadsAllData())!==-1,_=n.syncPointTree_.findOnPath(c,(E,w)=>Vi(w));if(y&&!_){const E=n.syncPointTree_.subtree(c);if(!E.isEmpty()){const w=jD(E);for(let N=0;N<w.length;++N){const k=w[N],H=k.query,j=C0(n,k);n.listenProvider_.startListening(Wa(H),ll(n,H),j.hashFn,j.onComplete)}}}!_&&m.length>0&&!r&&(y?n.listenProvider_.stopListening(Wa(e),null):m.forEach(E=>{const w=n.queryToTagMap.get(jc(E));n.listenProvider_.stopListening(Wa(E),w)}))}VD(n,m)}return h}function E0(n,e,s,r){const o=Qh(n,r);if(o!=null){const c=Wh(o),f=c.path,h=c.queryId,p=yt(f,e),m=new Ss(jh(h),p,s);return Xh(n,f,m)}else return[]}function BD(n,e,s,r){const o=Qh(n,r);if(o){const c=Wh(o),f=c.path,h=c.queryId,p=yt(f,e),m=Be.fromObject(s),y=new al(jh(h),p,m);return Xh(n,f,y)}else return[]}function HD(n,e,s,r=!1){const o=e._path;let c=null,f=!1;n.syncPointTree_.foreachOnPath(o,(E,w)=>{const N=yt(E,o);c=c||Hi(w,N),f=f||Vi(w)});let h=n.syncPointTree_.get(o);h?(f=f||Vi(h),c=c||Hi(h,Ee())):(h=new h0,n.syncPointTree_=n.syncPointTree_.set(o,h));let p;c!=null?p=!0:(p=!1,c=ie.EMPTY_NODE,n.syncPointTree_.subtree(o).foreachChild((w,N)=>{const k=Hi(N,Ee());k&&(c=c.updateImmediateChild(w,k))}));const m=_0(h,e);if(!m&&!e._queryParams.loadsAllData()){const E=jc(e);G(!n.queryToTagMap.has(E),"View does not exist, but we have a tag");const w=GD();n.queryToTagMap.set(E,w),n.tagToQueryMap.set(w,E)}const y=Hc(n.pendingWriteTree_,o);let _=DD(h,e,s,y,c,p);if(!m&&!f&&!r){const E=g0(h,e);_=_.concat(YD(n,e,E))}return _}function Kh(n,e,s){const o=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(e,(f,h)=>{const p=yt(f,e),m=Hi(h,p);if(m)return m});return l0(o,e,c,s,!0)}function qD(n,e){const s=e._path;let r=null;n.syncPointTree_.foreachOnPath(s,(m,y)=>{const _=yt(m,s);r=r||Hi(y,_)});let o=n.syncPointTree_.get(s);o?r=r||Hi(o,Ee()):(o=new h0,n.syncPointTree_=n.syncPointTree_.set(s,o));const c=r!=null,f=c?new ji(r,!0,!1):null,h=Hc(n.pendingWriteTree_,e._path),p=m0(o,e,h,c?f.getNode():ie.EMPTY_NODE,c);return TD(p)}function bl(n,e){return b0(e,n.syncPointTree_,null,Hc(n.pendingWriteTree_,Ee()))}function b0(n,e,s,r){if(de(n.path))return S0(n,e,s,r);{const o=e.get(Ee());s==null&&o!=null&&(s=Hi(o,Ee()));let c=[];const f=ge(n.path),h=n.operationForChild(f),p=e.children.get(f);if(p&&h){const m=s?s.getImmediateChild(f):null,y=o0(r,f);c=c.concat(b0(h,p,m,y))}return o&&(c=c.concat(Fh(o,n,r,s))),c}}function S0(n,e,s,r){const o=e.get(Ee());s==null&&o!=null&&(s=Hi(o,Ee()));let c=[];return e.children.inorderTraversal((f,h)=>{const p=s?s.getImmediateChild(f):null,m=o0(r,f),y=n.operationForChild(f);y&&(c=c.concat(S0(y,h,p,m)))}),o&&(c=c.concat(Fh(o,n,r,s))),c}function C0(n,e){const s=e.query,r=ll(n,s);return{hashFn:()=>(CD(e)||ie.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?PD(n,s._path,r):zD(n,s._path);{const c=HO(o,s);return y0(n,s,null,c)}}}}function ll(n,e){const s=jc(e);return n.queryToTagMap.get(s)}function jc(n){return n._path.toString()+"$"+n._queryIdentifier}function Qh(n,e){return n.tagToQueryMap.get(e)}function Wh(n){const e=n.indexOf("$");return G(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new xe(n.substr(0,e))}}function Xh(n,e,s){const r=n.syncPointTree_.get(e);G(r,"Missing sync point for query tag that we're tracking");const o=Hc(n.pendingWriteTree_,e);return Fh(r,s,o,null)}function jD(n){return n.fold((e,s,r)=>{if(s&&Vi(s))return[qc(s)];{let o=[];return s&&(o=p0(s)),Mt(r,(c,f)=>{o=o.concat(f)}),o}})}function Wa(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(kD())(n._repo,n._path):n}function VD(n,e){for(let s=0;s<e.length;++s){const r=e[s];if(!r._queryParams.loadsAllData()){const o=jc(r),c=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(c)}}}function GD(){return LD++}function YD(n,e,s){const r=e._path,o=ll(n,e),c=C0(n,s),f=n.listenProvider_.startListening(Wa(e),o,c.hashFn,c.onComplete),h=n.syncPointTree_.subtree(r);if(o)G(!Vi(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((m,y,_)=>{if(!de(m)&&y&&Vi(y))return[qc(y).query];{let E=[];return y&&(E=E.concat(p0(y).map(w=>w.query))),Mt(_,(w,N)=>{E=E.concat(N)}),E}});for(let m=0;m<p.length;++m){const y=p[m];n.listenProvider_.stopListening(Wa(y),ll(n,y))}}return f}class Zh{constructor(e){this.node_=e}getImmediateChild(e){const s=this.node_.getImmediateChild(e);return new Zh(s)}node(){return this.node_}}class $h{constructor(e,s){this.syncTree_=e,this.path_=s}getImmediateChild(e){const s=it(this.path_,e);return new $h(this.syncTree_,s)}node(){return Kh(this.syncTree_,this.path_)}}const FD=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Vy=function(n,e,s){if(!n||typeof n!="object")return n;if(G(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return KD(n[".sv"],e,s);if(typeof n[".sv"]=="object")return QD(n[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},KD=function(n,e,s){if(n==="timestamp")return s.timestamp;G(!1,"Unexpected server value: "+n)},QD=function(n,e,s){n.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&G(!1,"Unexpected increment value: "+r);const o=e.node();if(G(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const f=o.getValue();return typeof f!="number"?r:f+r},WD=function(n,e,s,r){return Jh(e,new $h(s,n),r)},T0=function(n,e,s){return Jh(n,new Zh(e),s)};function Jh(n,e,s){const r=n.getPriority().val(),o=Vy(r,e.getImmediateChild(".priority"),s);let c;if(n.isLeafNode()){const f=n,h=Vy(f.getValue(),e,s);return h!==f.getValue()||o!==f.getPriority().val()?new lt(h,ct(o)):n}else{const f=n;return c=f,o!==f.getPriority().val()&&(c=c.updatePriority(new lt(o))),f.forEachChild(Fe,(h,p)=>{const m=Jh(p,e.getImmediateChild(h),s);m!==p&&(c=c.updateImmediateChild(h,m))}),c}}class em{constructor(e="",s=null,r={children:{},childCount:0}){this.name=e,this.parent=s,this.node=r}}function tm(n,e){let s=e instanceof xe?e:new xe(e),r=n,o=ge(s);for(;o!==null;){const c=Cr(r.node.children,o)||{children:{},childCount:0};r=new em(o,r,c),s=Le(s),o=ge(s)}return r}function Pr(n){return n.node.value}function w0(n,e){n.node.value=e,sh(n)}function A0(n){return n.node.childCount>0}function XD(n){return Pr(n)===void 0&&!A0(n)}function Vc(n,e){Mt(n.node.children,(s,r)=>{e(new em(s,n,r))})}function R0(n,e,s,r){s&&e(n),Vc(n,o=>{R0(o,e,!0)})}function ZD(n,e,s){let r=n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Sl(n){return new xe(n.parent===null?n.name:Sl(n.parent)+"/"+n.name)}function sh(n){n.parent!==null&&$D(n.parent,n.name,n)}function $D(n,e,s){const r=XD(s),o=ni(n.node.children,e);r&&o?(delete n.node.children[e],n.node.childCount--,sh(n)):!r&&!o&&(n.node.children[e]=s.node,n.node.childCount++,sh(n))}const JD=/[\[\].#$\/\u0000-\u001F\u007F]/,eM=/[\[\].#$\u0000-\u001F\u007F]/,xd=10*1024*1024,N0=function(n){return typeof n=="string"&&n.length!==0&&!JD.test(n)},O0=function(n){return typeof n=="string"&&n.length!==0&&!eM.test(n)},tM=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),O0(n)},nM=function(n,e,s,r){nm(bh(n,"value"),e,s)},nm=function(n,e,s){const r=s instanceof xe?new yI(s,n):s;if(e===void 0)throw new Error(n+"contains undefined "+ms(r));if(typeof e=="function")throw new Error(n+"contains a function "+ms(r)+" with contents = "+e.toString());if(Tb(e))throw new Error(n+"contains "+e.toString()+" "+ms(r));if(typeof e=="string"&&e.length>xd/3&&xc(e)>xd)throw new Error(n+"contains a string greater than "+xd+" utf8 bytes "+ms(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,c=!1;if(Mt(e,(f,h)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(c=!0,!N0(f)))throw new Error(n+" contains an invalid key ("+f+") "+ms(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);EI(r,f),nm(n,h,r),bI(r)}),o&&c)throw new Error(n+' contains ".value" child '+ms(r)+" in addition to actual children.")}},I0=function(n,e,s,r){if(!O0(s))throw new Error(bh(n,e)+'was an invalid path = "'+s+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},iM=function(n,e,s,r){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),I0(n,e,s)},sM=function(n,e){if(ge(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},rM=function(n,e){const s=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!N0(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||s.length!==0&&!tM(s))throw new Error(bh(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class aM{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function D0(n,e){let s=null;for(let r=0;r<e.length;r++){const o=e[r],c=o.getPath();s!==null&&!Qb(c,s.path)&&(n.eventLists_.push(s),s=null),s===null&&(s={events:[],path:c}),s.events.push(o)}s&&n.eventLists_.push(s)}function wn(n,e,s){D0(n,s),lM(n,r=>hn(r,e)||hn(e,r))}function lM(n,e){n.recursionDepth_++;let s=!0;for(let r=0;r<n.eventLists_.length;r++){const o=n.eventLists_[r];if(o){const c=o.path;e(c)?(oM(n.eventLists_[r]),n.eventLists_[r]=null):s=!1}}s&&(n.eventLists_=[]),n.recursionDepth_--}function oM(n){for(let e=0;e<n.events.length;e++){const s=n.events[e];if(s!==null){n.events[e]=null;const r=s.getEventRunner();Ya&&gt("event: "+s.toString()),zr(r)}}}const cM="repo_interrupt",uM=25;class fM{constructor(e,s,r,o){this.repoInfo_=e,this.forceRestClient_=s,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new aM,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gc(),this.transactionQueueTree_=new em,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function dM(n,e,s){if(n.stats_=Lh(n.repoInfo_),n.forceRestClient_||GO())n.server_=new pc(n.repoInfo_,(r,o,c,f)=>{Gy(n,r,o,c,f)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Yy(n,!0),0);else{if(typeof s<"u"&&s!==null){if(typeof s!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{nt(s)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Zn(n.repoInfo_,e,(r,o,c,f)=>{Gy(n,r,o,c,f)},r=>{Yy(n,r)},r=>{mM(n,r)},n.authTokenProvider_,n.appCheckProvider_,s),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=WO(n.repoInfo_,()=>new KI(n.stats_,n.server_)),n.infoData_=new jI,n.infoSyncTree_=new jy({startListening:(r,o,c,f)=>{let h=[];const p=n.infoData_.getNode(r._path);return p.isEmpty()||(h=El(n.infoSyncTree_,r._path,p),setTimeout(()=>{f("ok")},0)),h},stopListening:()=>{}}),sm(n,"connected",!1),n.serverSyncTree_=new jy({startListening:(r,o,c,f)=>(n.server_.listen(r,c,o,(h,p)=>{const m=f(h,p);wn(n.eventQueue_,r._path,m)}),[]),stopListening:(r,o)=>{n.server_.unlisten(r,o)}})}function hM(n){const s=n.infoData_.getNode(new xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+s}function im(n){return FD({timestamp:hM(n)})}function Gy(n,e,s,r,o){n.dataUpdateCount++;const c=new xe(e);s=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,s):s;let f=[];if(o)if(r){const p=sc(s,m=>ct(m));f=BD(n.serverSyncTree_,c,p,o)}else{const p=ct(s);f=E0(n.serverSyncTree_,c,p,o)}else if(r){const p=sc(s,m=>ct(m));f=UD(n.serverSyncTree_,c,p)}else{const p=ct(s);f=El(n.serverSyncTree_,c,p)}let h=c;f.length>0&&(h=Yc(n,c)),wn(n.eventQueue_,h,f)}function Yy(n,e){sm(n,"connected",e),e===!1&&_M(n)}function mM(n,e){Mt(e,(s,r)=>{sm(n,s,r)})}function sm(n,e,s){const r=new xe("/.info/"+e),o=ct(s);n.infoData_.updateSnapshot(r,o);const c=El(n.infoSyncTree_,r,o);wn(n.eventQueue_,r,c)}function M0(n){return n.nextWriteId_++}function pM(n,e,s){const r=qD(n.serverSyncTree_,e);return r!=null?Promise.resolve(r):n.server_.get(e).then(o=>{const c=ct(o).withIndex(e._queryParams.getIndex());HD(n.serverSyncTree_,e,s,!0);let f;if(e._queryParams.loadsAllData())f=El(n.serverSyncTree_,e._path,c);else{const h=ll(n.serverSyncTree_,e);f=E0(n.serverSyncTree_,e._path,c,h)}return wn(n.eventQueue_,e._path,f),y0(n.serverSyncTree_,e,s,null,!0),c},o=>(Gc(n,"get for query "+nt(e)+" failed: "+o),Promise.reject(new Error(o))))}function gM(n,e,s,r,o){Gc(n,"set",{path:e.toString(),value:s,priority:r});const c=im(n),f=ct(s,r),h=Kh(n.serverSyncTree_,e),p=T0(f,h,c),m=M0(n),y=v0(n.serverSyncTree_,e,p,m,!0);D0(n.eventQueue_,y),n.server_.put(e.toString(),f.val(!0),(E,w)=>{const N=E==="ok";N||Dt("set at "+e+" failed: "+E);const k=_s(n.serverSyncTree_,m,!N);wn(n.eventQueue_,e,k),yM(n,o,E,w)});const _=z0(n,e);Yc(n,_),wn(n.eventQueue_,_,[])}function _M(n){Gc(n,"onDisconnectEvents");const e=im(n),s=gc();Jd(n.onDisconnect_,Ee(),(o,c)=>{const f=WD(o,c,n.serverSyncTree_,e);n0(s,o,f)});let r=[];Jd(s,Ee(),(o,c)=>{r=r.concat(El(n.serverSyncTree_,o,c));const f=z0(n,o);Yc(n,f)}),n.onDisconnect_=gc(),wn(n.eventQueue_,Ee(),r)}function vM(n){n.persistentConnection_&&n.persistentConnection_.interrupt(cM)}function Gc(n,...e){let s="";n.persistentConnection_&&(s=n.persistentConnection_.id+":"),gt(s,...e)}function yM(n,e,s,r){e&&zr(()=>{if(s==="ok")e(null);else{const o=(s||"error").toUpperCase();let c=o;r&&(c+=": "+r);const f=new Error(c);f.code=o,e(f)}})}function x0(n,e,s){return Kh(n.serverSyncTree_,e,s)||ie.EMPTY_NODE}function rm(n,e=n.transactionQueueTree_){if(e||Fc(n,e),Pr(e)){const s=L0(n,e);G(s.length>0,"Sending zero length transaction queue"),s.every(o=>o.status===0)&&EM(n,Sl(e),s)}else A0(e)&&Vc(e,s=>{rm(n,s)})}function EM(n,e,s){const r=s.map(m=>m.currentWriteId),o=x0(n,e,r);let c=o;const f=o.hash();for(let m=0;m<s.length;m++){const y=s[m];G(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const _=yt(e,y.path);c=c.updateChild(_,y.currentOutputSnapshotRaw)}const h=c.val(!0),p=e;n.server_.put(p.toString(),h,m=>{Gc(n,"transaction put response",{path:p.toString(),status:m});let y=[];if(m==="ok"){const _=[];for(let E=0;E<s.length;E++)s[E].status=2,y=y.concat(_s(n.serverSyncTree_,s[E].currentWriteId)),s[E].onComplete&&_.push(()=>s[E].onComplete(null,!0,s[E].currentOutputSnapshotResolved)),s[E].unwatcher();Fc(n,tm(n.transactionQueueTree_,e)),rm(n,n.transactionQueueTree_),wn(n.eventQueue_,e,y);for(let E=0;E<_.length;E++)zr(_[E])}else{if(m==="datastale")for(let _=0;_<s.length;_++)s[_].status===3?s[_].status=4:s[_].status=0;else{Dt("transaction at "+p.toString()+" failed: "+m);for(let _=0;_<s.length;_++)s[_].status=4,s[_].abortReason=m}Yc(n,e)}},f)}function Yc(n,e){const s=k0(n,e),r=Sl(s),o=L0(n,s);return bM(n,o,r),r}function bM(n,e,s){if(e.length===0)return;const r=[];let o=[];const f=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],m=yt(s,p.path);let y=!1,_;if(G(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)y=!0,_=p.abortReason,o=o.concat(_s(n.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=uM)y=!0,_="maxretry",o=o.concat(_s(n.serverSyncTree_,p.currentWriteId,!0));else{const E=x0(n,p.path,f);p.currentInputSnapshot=E;const w=e[h].update(E.val());if(w!==void 0){nm("transaction failed: Data returned ",w,p.path);let N=ct(w);typeof w=="object"&&w!=null&&ni(w,".priority")||(N=N.updatePriority(E.getPriority()));const H=p.currentWriteId,j=im(n),P=T0(N,E,j);p.currentOutputSnapshotRaw=N,p.currentOutputSnapshotResolved=P,p.currentWriteId=M0(n),f.splice(f.indexOf(H),1),o=o.concat(v0(n.serverSyncTree_,p.path,P,p.currentWriteId,p.applyLocally)),o=o.concat(_s(n.serverSyncTree_,H,!0))}else y=!0,_="nodata",o=o.concat(_s(n.serverSyncTree_,p.currentWriteId,!0))}wn(n.eventQueue_,s,o),o=[],y&&(e[h].status=2,(function(E){setTimeout(E,Math.floor(0))})(e[h].unwatcher),e[h].onComplete&&(_==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(_),!1,null))))}Fc(n,n.transactionQueueTree_);for(let h=0;h<r.length;h++)zr(r[h]);rm(n,n.transactionQueueTree_)}function k0(n,e){let s,r=n.transactionQueueTree_;for(s=ge(e);s!==null&&Pr(r)===void 0;)r=tm(r,s),e=Le(e),s=ge(e);return r}function L0(n,e){const s=[];return U0(n,e,s),s.sort((r,o)=>r.order-o.order),s}function U0(n,e,s){const r=Pr(e);if(r)for(let o=0;o<r.length;o++)s.push(r[o]);Vc(e,o=>{U0(n,o,s)})}function Fc(n,e){const s=Pr(e);if(s){let r=0;for(let o=0;o<s.length;o++)s[o].status!==2&&(s[r]=s[o],r++);s.length=r,w0(e,s.length>0?s:void 0)}Vc(e,r=>{Fc(n,r)})}function z0(n,e){const s=Sl(k0(n,e)),r=tm(n.transactionQueueTree_,e);return ZD(r,o=>{kd(n,o)}),kd(n,r),R0(r,o=>{kd(n,o)}),s}function kd(n,e){const s=Pr(e);if(s){const r=[];let o=[],c=-1;for(let f=0;f<s.length;f++)s[f].status===3||(s[f].status===1?(G(c===f-1,"All SENT items should be at beginning of queue."),c=f,s[f].status=3,s[f].abortReason="set"):(G(s[f].status===0,"Unexpected transaction status in abort"),s[f].unwatcher(),o=o.concat(_s(n.serverSyncTree_,s[f].currentWriteId,!0)),s[f].onComplete&&r.push(s[f].onComplete.bind(null,new Error("set"),!1,null))));c===-1?w0(e,void 0):s.length=c+1,wn(n.eventQueue_,Sl(e),o);for(let f=0;f<r.length;f++)zr(r[f])}}function SM(n){let e="";const s=n.split("/");for(let r=0;r<s.length;r++)if(s[r].length>0){let o=s[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function CM(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const s of n.split("&")){if(s.length===0)continue;const r=s.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Dt(`Invalid query segment '${s}' in query '${n}'`)}return e}const Fy=function(n,e){const s=TM(n),r=s.namespace;s.domain==="firebase.com"&&ti(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&s.domain!=="localhost"&&ti("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||LO();const o=s.scheme==="ws"||s.scheme==="wss";return{repoInfo:new Ub(s.host,s.secure,r,o,e,"",r!==s.subdomain),path:new xe(s.pathString)}},TM=function(n){let e="",s="",r="",o="",c="",f=!0,h="https",p=443;if(typeof n=="string"){let m=n.indexOf("//");m>=0&&(h=n.substring(0,m-1),n=n.substring(m+2));let y=n.indexOf("/");y===-1&&(y=n.length);let _=n.indexOf("?");_===-1&&(_=n.length),e=n.substring(0,Math.min(y,_)),y<_&&(o=SM(n.substring(y,_)));const E=CM(n.substring(Math.min(n.length,_)));m=e.indexOf(":"),m>=0?(f=h==="https"||h==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const w=e.slice(0,m);if(w.toLowerCase()==="localhost")s="localhost";else if(w.split(".").length<=2)s=w;else{const N=e.indexOf(".");r=e.substring(0,N).toLowerCase(),s=e.substring(N+1),c=r}"ns"in E&&(c=E.ns)}return{host:e,port:p,domain:s,subdomain:r,secure:f,scheme:h,pathString:o,namespace:c}};class wM{constructor(e,s,r,o){this.eventType=e,this.eventRegistration=s,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+nt(this.snapshot.exportVal())}}class AM{constructor(e,s,r){this.eventRegistration=e,this.error=s,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class RM{constructor(e,s){this.snapshotCallback=e,this.cancelCallback=s}onValue(e,s){this.snapshotCallback.call(null,e,s)}onCancel(e){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class am{constructor(e,s,r,o){this._repo=e,this._path=s,this._queryParams=r,this._orderByCalled=o}get key(){return de(this._path)?null:Yb(this._path)}get ref(){return new ii(this._repo,this._path)}get _queryIdentifier(){const e=Dy(this._queryParams),s=xh(e);return s==="{}"?"default":s}get _queryObject(){return Dy(this._queryParams)}isEqual(e){if(e=St(e),!(e instanceof am))return!1;const s=this._repo===e._repo,r=Qb(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return s&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+vI(this._path)}}class ii extends am{constructor(e,s){super(e,s,new Hh,!1)}get parent(){const e=Kb(this._path);return e===null?null:new ii(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ol{constructor(e,s,r){this._node=e,this.ref=s,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const s=new xe(e),r=rh(this.ref,e);return new ol(this._node.getChild(s),r,Fe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new ol(o,rh(this.ref,r),Fe)))}hasChild(e){const s=new xe(e);return!this._node.getChild(s).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function P0(n,e){return n=St(n),n._checkNotDeleted("ref"),e!==void 0?rh(n._root,e):n._root}function rh(n,e){return n=St(n),ge(n._path)===null?iM("child","path",e):I0("child","path",e),new ii(n._repo,it(n._path,e))}function NM(n,e){n=St(n),sM("set",n._path),nM("set",e,n._path);const s=new Mc;return gM(n._repo,n._path,e,null,s.wrapCallback(()=>{})),s.promise}function OM(n){n=St(n);const e=new RM(()=>{}),s=new lm(e);return pM(n._repo,n,s).then(r=>new ol(r,new ii(n._repo,n._path),n._queryParams.getIndex()))}class lm{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,s){const r=s._queryParams.getIndex();return new wM("value",this,new ol(e.snapshotNode,new ii(s._repo,s._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,s){return this.callbackContext.hasCancelCallback?new AM(this,e,s):null}matches(e){return e instanceof lm?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}ND(ii);xD(ii);const IM="FIREBASE_DATABASE_EMULATOR_HOST",ah={};let DM=!1;function MM(n,e,s,r){const o=e.lastIndexOf(":"),c=e.substring(0,o),f=Dr(c);n.repoInfo_=new Ub(e,f,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,s),r&&(n.authTokenProvider_=r)}function xM(n,e,s,r,o){let c=r||n.options.databaseURL;c===void 0&&(n.options.projectId||ti("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gt("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f=Fy(c,o),h=f.repoInfo,p;typeof process<"u"&&hy&&(p=hy[IM]),p?(c=`http://${p}?ns=${h.namespace}`,f=Fy(c,o),h=f.repoInfo):f.repoInfo.secure;const m=new FO(n.name,n.options,e);rM("Invalid Firebase Database URL",f),de(f.path)||ti("Database URL must point to the root of a Firebase Database (not including a child path).");const y=LM(h,n,m,new YO(n,s));return new UM(y,n)}function kM(n,e){const s=ah[e];(!s||s[n.key]!==n)&&ti(`Database ${e}(${n.repoInfo_}) has already been deleted.`),vM(n),delete s[n.key]}function LM(n,e,s,r){let o=ah[e.name];o||(o={},ah[e.name]=o);let c=o[n.toURLString()];return c&&ti("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new fM(n,DM,s,r),o[n.toURLString()]=c,c}class UM{constructor(e,s){this._repoInternal=e,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(dM(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ii(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(kM(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ti("Cannot call "+e+" on a deleted database.")}}function zM(n=BE(),e){const s=Th(n,"database").getImmediate({identifier:e});if(!s._instanceStarted){const r=Bw("database");r&&PM(s,...r)}return s}function PM(n,e,s,r={}){n=St(n),n._checkNotDeleted("useEmulator");const o=`${e}:${s}`,c=n._repoInternal;if(n._instanceStarted){if(o===n._repoInternal.repoInfo_.host&&vs(r,c.repoInfo_.emulatorOptions))return;ti("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(c.repoInfo_.nodeAdmin)r.mockUserToken&&ti('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new ec(ec.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:Hw(r.mockUserToken,n.app.options.projectId);f=new ec(h)}Dr(e)&&(ME(e),xE("Database",!0)),MM(c,o,r,f)}function BM(n){OO(xr),Tr(new ys("database",(e,{instanceIdentifier:s})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return xM(r,o,c,s)},"PUBLIC").setMultipleInstances(!0)),zi(my,py,n),zi(my,py,"esm2020")}const HM={".sv":"timestamp"};function qM(){return HM}Zn.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Zn.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};BM();const jM={apiKey:"AIzaSyAIefVM1tBjWz35FRWRxmIdEJeO_vpHSKM",authDomain:"iq4u-chess-classroom.firebaseapp.com",databaseURL:"https://iq4u-chess-classroom-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"iq4u-chess-classroom",storageBucket:"iq4u-chess-classroom.firebasestorage.app",messagingSenderId:"833620718306",appId:"1:833620718306:web:b599bb693d0736fe0da4bb"},B0=PE(jM),om=RO(B0),H0=zM(B0);async function VM(n){if(!n)return{};const e=await OM(P0(H0,`users/${n}/progress`));return e.exists()?e.val():{}}async function GM({uid:n,levelId:e,lessonId:s,score:r,completed:o}){n&&await NM(P0(H0,`users/${n}/progress/${e}/${s}`),{completed:o,score:r,updatedAt:qM()})}function YM(n,e){return dN(om,n,e)}function FM(){return gN(om)}function KM(n){return pN(om,n)}const q0=I.createContext({user:null,loading:!0});function QM({children:n}){const[e,s]=I.useState(null),[r,o]=I.useState(!0);return I.useEffect(()=>{const c=KM(f=>{s(f),o(!1)});return()=>c()},[]),q.jsx(q0.Provider,{value:{user:e,loading:r},children:n})}function cm(){return I.useContext(q0)}function WM(){const n=hh(),{user:e,loading:s}=cm(),[r,o]=I.useState(!1),[c,f]=I.useState(""),[h,p]=I.useState(""),[m,y]=I.useState(""),[_,E]=I.useState({}),[w,N]=I.useState(!0);I.useEffect(()=>{if(!s){if(!e){E({}),N(!1);return}VM(e.uid).then(P=>{E(P||{}),N(!1)})}},[e,s]);const k=async()=>{y("");try{await YM(c,h),f(""),p(""),o(!1)}catch{y("Invalid email or password")}},H=async()=>{await FM(),o(!1)},j=P=>{if(!e){o(!0);return}P()};return q.jsxs("div",{className:"page",children:[q.jsxs("div",{className:"header",children:[!e&&r&&q.jsxs(q.Fragment,{children:[q.jsx("input",{type:"email",placeholder:"Email",value:c,onChange:P=>f(P.target.value)}),q.jsx("input",{type:"password",placeholder:"Password",value:h,onChange:P=>p(P.target.value)}),q.jsx("button",{className:"btn",onClick:k,children:"Login"}),m&&q.jsx("span",{children:m})]}),!e&&!r&&q.jsx("button",{className:"btn",onClick:()=>o(!0),children:"Login"}),e&&q.jsx("button",{className:"btn",onClick:H,children:"Logout"})]}),q.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginTop:"24px"},children:[q.jsxs("div",{className:"card",style:{textAlign:"center"},children:[q.jsx("img",{src:"/src/assets/android-chrome-512x512.png",alt:"Logo",style:{width:"140px",marginBottom:"16px"}}),q.jsx("h2",{children:"IQ 4U Academy  Class Room"}),q.jsx("p",{children:"Learn chess step by step with guided lessons and interactive practice."})]}),q.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[{label:"Beginner Level 1",route:"/level/beginner-1"},{label:"Beginner Level 2",route:"/level/beginner-2"},{label:"Intermediate Level 1",route:"/level/intermediate-1"},{label:"Intermediate Level 2",route:"/level/intermediate-2"},{label:"Advanced Level",route:"/level/advanced"}].map(P=>q.jsx("div",{className:"card",style:{height:"65px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",background:"linear-gradient(90deg, #84fab0, #8fd3f4)",color:"#fff",fontWeight:"600"},onClick:()=>j(()=>n(P.route)),children:P.label},P.route))})]}),q.jsxs("div",{className:"card",style:{marginTop:"32px",borderTop:"4px solid #e0e0e0"},children:[q.jsx("h3",{children:"Student Progress"}),w&&q.jsx("p",{children:"Loading..."}),!w&&Object.keys(_).length===0&&q.jsx("p",{children:"No completed lessons yet."}),!w&&Object.keys(_).length>0&&Object.entries(_).map(([P,V])=>q.jsxs("div",{children:[q.jsx("strong",{children:P}),q.jsx("ul",{children:Object.entries(V).map(([oe,W])=>q.jsxs("li",{children:[oe,"  Score: ",W.score,"%"]},oe))})]},P))]})]})}const j0={meta:{id:"lesson-1",title:"THE CHESS BOARD",level:"Beginner",order:1,passcode:"1234"},teaching:[{id:1,title:"Introduction to the Chessboard",content:"The chessboard has 64 squares arranged in 8 rows (ranks) and 8 columns (files).",fen:"8/8/8/8/8/8/8/8 w - - 0 1"},{id:2,title:"Board Coordinates",content:"Files are labeled from a to h and ranks from 1 to 8. Select the square e4.",fen:"8/8/8/8/8/8/8/8 w - - 0 1",teachingQuestion:{type:"square-selection",correctSquares:["e4"]}}],assessment:[{id:"q1",type:"mcq",question:"How many squares are there on a chessboard?",options:["32","48","64","100"],correctAnswer:"64"},{id:"q2",type:"square-selection",question:"Select all central squares.",fen:"8/8/8/8/8/8/8/8 w - - 0 1",correctSquares:["d4","e4","d5","e5"]},{id:"q3",type:"pgn",question:"Play the correct opening move for White.",fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",correctMoves:["e4","d4"]}]},XM={meta:{id:"lesson-2",title:"THEPAWN",level:"Beginner",order:2},teaching:[],assessment:[]},ZM={meta:{id:"lesson-3",title:"THEROOK",level:"Beginner",order:3},teaching:[],assessment:[]},$M={meta:{id:"lesson-4",title:"THEBISHOP",level:"Beginner",order:4},teaching:[],assessment:[]},JM={meta:{id:"lesson-5",title:"THEQUEEN",level:"Beginner",order:5},teaching:[],assessment:[]},e2={meta:{id:"lesson-6",title:"THEKNIGHT",level:"Beginner",order:6},teaching:[],assessment:[]},t2={meta:{id:"lesson-7",title:"THEKING",level:"Beginner",order:7},teaching:[],assessment:[]},n2={meta:{id:"lesson-8",title:"THEOPENING",level:"Beginner",order:8},teaching:[],assessment:[]},i2={meta:{id:"lesson-9",title:"MIDDLEGAME",level:"Beginner",order:9},teaching:[],assessment:[]},s2={meta:{id:"lesson-10",title:"MATEIN1",level:"Beginner",order:10},teaching:[],assessment:[]},r2={meta:{id:"lesson-11",title:"MATEIN2",level:"Beginner",order:11},teaching:[],assessment:[]},a2={meta:{id:"lesson-12",title:"ITALIANOPENING",level:"Beginner",order:12},teaching:[],assessment:[]},l2={meta:{id:"lesson-13",title:"Notation",level:"Beginner",order:13},teaching:[],assessment:[]},o2={meta:{id:"lesson-14",title:"Check, Checkmate, Stalemate",level:"Beginner",order:14},teaching:[],assessment:[]},c2={meta:{id:"lesson-15",title:"Pin",level:"Beginner",order:15},teaching:[],assessment:[]},u2={meta:{id:"lesson-16",title:"Skewer",level:"Beginner",order:16},teaching:[],assessment:[]},f2={meta:{id:"lesson-17",title:"Discovered Check and Attack",level:"Beginner",order:17},teaching:[],assessment:[]},d2={meta:{id:"lesson-18",title:"Double Check",level:"Beginner",order:18},teaching:[],assessment:[]},h2={meta:{id:"lesson-19",title:"Fork",level:"Beginner",order:19},teaching:[],assessment:[]},m2={meta:{id:"lesson-20",title:"Back Rank Checkmate",level:"Beginner",order:20},teaching:[],assessment:[]},p2={meta:{id:"lesson-21",title:"Smothered Mate",level:"Beginner",order:21},teaching:[],assessment:[]},g2={meta:{id:"lesson-22",title:"Development",level:"Beginner",order:22},teaching:[],assessment:[]},_2={meta:{id:"lesson-23",title:"King Safety",level:"Beginner",order:23},teaching:[],assessment:[]},v2={meta:{id:"lesson-24",title:"Centre",level:"Beginner",order:24},teaching:[],assessment:[]},y2={meta:{id:"lesson-25",title:"Exchange",level:"Beginner",order:25},teaching:[],assessment:[]},E2={meta:{id:"lesson-26",title:"Activity",level:"Beginner",order:26},teaching:[],assessment:[]},b2={meta:{id:"lesson-27",title:"Large Material Advantage",level:"Beginner",order:27},teaching:[],assessment:[]},S2={meta:{id:"lesson-28",title:"Pawn Structure",level:"Beginner",order:28},teaching:[],assessment:[]},C2={meta:{id:"lesson-29",title:"Open, Closed, Semi-Open Positions",level:"Beginner",order:29},teaching:[],assessment:[]},T2={meta:{id:"lesson-30",title:"Two Rook Endgame",level:"Beginner",order:30},teaching:[],assessment:[]},w2={meta:{id:"lesson-31",title:"Queen Endgame",level:"Beginner",order:31},teaching:[],assessment:[]},A2={meta:{id:"lesson-32",title:"Single Rook Endgame",level:"Beginner",order:32},teaching:[],assessment:[]},R2={meta:{id:"lesson-33",title:"Two Bishop Checkmate",level:"Beginner",order:33},teaching:[],assessment:[]},N2={meta:{id:"lesson-34",title:"Checkmate Configurations",level:"Beginner",order:34},teaching:[],assessment:[]},O2={meta:{id:"lesson-35",title:"Combination",level:"Beginner",order:35},teaching:[],assessment:[]},I2={meta:{id:"lesson-36",title:"Typical Combinations",level:"Beginner",order:36},teaching:[],assessment:[]},D2={meta:{id:"lesson-37",title:"Introduction to Openings",level:"Beginner",order:37},teaching:[],assessment:[]},M2={meta:{id:"lesson-38",title:"Introduction to Middlegame",level:"Beginner",order:38},teaching:[],assessment:[]},x2={meta:{id:"lesson-39",title:"Introduction to Endgame",level:"Beginner",order:39},teaching:[],assessment:[]},k2={meta:{id:"lesson-40",title:"Gambits",level:"Beginner",order:40},teaching:[],assessment:[]},L2={meta:{id:"lesson-41",title:"Basics of Rook Endgame",level:"Beginner",order:41},teaching:[],assessment:[]},U2={meta:{id:"lesson-42",title:"Basics of Bishop Endgame",level:"Beginner",order:42},teaching:[],assessment:[]},z2={meta:{id:"lesson-43",title:"Basics of Knight Endgame",level:"Beginner",order:43},teaching:[],assessment:[]},P2={meta:{id:"lesson-44",title:"Basics of Queen Endgame",level:"Beginner",order:44},teaching:[],assessment:[]},B2={meta:{id:"lesson-45",title:"Beginner Level 2 Achievement Test",level:"Beginner",order:45},teaching:[],assessment:[]},H2={meta:{id:"lesson-50",title:"Weakness of the Back Rank",level:"Intermediate",order:50},teaching:[],assessment:[]},q2={meta:{id:"lesson-51",title:"Principles of Attacking 1",level:"Intermediate",order:51},teaching:[],assessment:[]},j2={meta:{id:"lesson-52",title:"Principles of Attacking 2",level:"Intermediate",order:52},teaching:[],assessment:[]},V2={meta:{id:"lesson-53",title:"King Left in the Centre",level:"Intermediate",order:53},teaching:[],assessment:[]},G2={meta:{id:"lesson-54",title:"Castling to Opposite Sides",level:"Intermediate",order:54},teaching:[],assessment:[]},Y2={meta:{id:"lesson-55",title:"Development Advantage",level:"Intermediate",order:55},teaching:[],assessment:[]},F2={meta:{id:"lesson-56",title:"Elimination of the Defence",level:"Intermediate",order:56},teaching:[],assessment:[]},K2={meta:{id:"lesson-57",title:"Space Advantage",level:"Intermediate",order:57},teaching:[],assessment:[]},Q2={meta:{id:"lesson-58",title:"Positioning the Pieces",level:"Intermediate",order:58},teaching:[],assessment:[]},W2={meta:{id:"lesson-59",title:"Weak Squares",level:"Intermediate",order:59},teaching:[],assessment:[]},X2={meta:{id:"lesson-60",title:"Pawn Weaknesses",level:"Intermediate",order:60},teaching:[],assessment:[]},Z2={meta:{id:"lesson-61",title:"Bishops in the Middlegame",level:"Intermediate",order:61},teaching:[],assessment:[]},$2={meta:{id:"lesson-62",title:"Knights in the Middlegame",level:"Intermediate",order:62},teaching:[],assessment:[]},J2={meta:{id:"lesson-63",title:"Passed Pawn in the Middlegame",level:"Intermediate",order:63},teaching:[],assessment:[]},ex={meta:{id:"lesson-64",title:"Rooks in the Middlegame",level:"Intermediate",order:64},teaching:[],assessment:[]},tx={meta:{id:"lesson-65",title:"Queen in the Middlegame",level:"Intermediate",order:65},teaching:[],assessment:[]},nx={meta:{id:"lesson-66",title:"Exchanging Pieces",level:"Intermediate",order:66},teaching:[],assessment:[]},ix={meta:{id:"lesson-67",title:"Closed Centres",level:"Intermediate",order:67},teaching:[],assessment:[]},sx={meta:{id:"lesson-68",title:"Open Centres",level:"Intermediate",order:68},teaching:[],assessment:[]},rx={meta:{id:"lesson-69",title:"Fixed Centres",level:"Intermediate",order:69},teaching:[],assessment:[]},ax={meta:{id:"lesson-70",title:"Mobile Centres",level:"Intermediate",order:70},teaching:[],assessment:[]},lx={meta:{id:"lesson-71",title:"Evaluating the Position",level:"Intermediate",order:71},teaching:[],assessment:[]},ox={meta:{id:"lesson-72",title:"Planning",level:"Intermediate",order:72},teaching:[],assessment:[]},cx={meta:{id:"lesson-73",title:"Unexpected Moves",level:"Intermediate",order:73},teaching:[],assessment:[]},ux={meta:{id:"lesson-74",title:"Giving Perpetual Check",level:"Intermediate",order:74},teaching:[],assessment:[]},fx={meta:{id:"lesson-75",title:"Overloaded Pieces",level:"Intermediate",order:75},teaching:[],assessment:[]},dx={meta:{id:"lesson-76",title:"The Clearance",level:"Intermediate",order:76},teaching:[],assessment:[]},hx={meta:{id:"lesson-77",title:"Opening Preparation",level:"Intermediate",order:77},teaching:[],assessment:[]},mx={meta:{id:"lesson-78",title:"Passed Pawns in the Endgame",level:"Intermediate",order:78},teaching:[],assessment:[]},px={meta:{id:"lesson-79",title:"Advanced Pawn Endgames 1",level:"Intermediate",order:79},teaching:[],assessment:[]},gx={meta:{id:"lesson-80",title:"Advanced Pawn Endgames 2",level:"Intermediate",order:80},teaching:[],assessment:[]},_x={meta:{id:"lesson-81",title:"Advanced Rook Endgames",level:"Intermediate",order:81},teaching:[],assessment:[]},vx={meta:{id:"lesson-82",title:"Advanced Queen Endgames",level:"Intermediate",order:82},teaching:[],assessment:[]},yx={meta:{id:"lesson-83",title:"Mate by Bishop and Knight",level:"Intermediate",order:83},teaching:[],assessment:[]},Ex={meta:{id:"lesson-84",title:"Endgame Tactics",level:"Intermediate",order:84},teaching:[],assessment:[]},bx={meta:{id:"lesson-85",title:"Intermediate Course Achievement Test",level:"Intermediate",order:85},teaching:[],assessment:[]},Sx={meta:{id:"lesson-100",title:"Zugzwang",level:"Advanced",order:100},teaching:[],assessment:[]},Cx={meta:{id:"lesson-101",title:"Blocking",level:"Advanced",order:101},teaching:[],assessment:[]},Tx={meta:{id:"lesson-102",title:"Using Pins",level:"Advanced",order:102},teaching:[],assessment:[]},wx={meta:{id:"lesson-103",title:"Using Deflections",level:"Advanced",order:103},teaching:[],assessment:[]},Ax={meta:{id:"lesson-104",title:"Using Decoys",level:"Advanced",order:104},teaching:[],assessment:[]},Rx={meta:{id:"lesson-105",title:"Delivering Discovered Attacks",level:"Advanced",order:105},teaching:[],assessment:[]},Nx={meta:{id:"lesson-106",title:"Delivering Discovered Check",level:"Advanced",order:106},teaching:[],assessment:[]},Ox={meta:{id:"lesson-107",title:"The X-Ray Attack",level:"Advanced",order:107},teaching:[],assessment:[]},Ix={meta:{id:"lesson-108",title:"Incorrect Combinations",level:"Advanced",order:108},teaching:[],assessment:[]},Dx={meta:{id:"lesson-109",title:"A Knight Against a Bishop in the Middlegame",level:"Advanced",order:109},teaching:[],assessment:[]},Mx={meta:{id:"lesson-110",title:"Winning With Activity",level:"Advanced",order:110},teaching:[],assessment:[]},xx={meta:{id:"lesson-111",title:"Opposite-Coloured Bishops in the Middlegame",level:"Advanced",order:111},teaching:[],assessment:[]},kx={meta:{id:"lesson-112",title:"Intuitive Sacrifices",level:"Advanced",order:112},teaching:[],assessment:[]},Lx={meta:{id:"lesson-113",title:"Advanced Planning",level:"Advanced",order:113},teaching:[],assessment:[]},Ux={meta:{id:"lesson-114",title:"Hanging Pawns",level:"Advanced",order:114},teaching:[],assessment:[]},zx={meta:{id:"lesson-115",title:"Active Defence, Counterplay",level:"Advanced",order:115},teaching:[],assessment:[]},Px={meta:{id:"lesson-116",title:"Variation Calculation 1",level:"Advanced",order:116},teaching:[],assessment:[]},Bx={meta:{id:"lesson-117",title:"Variation Calculation 2",level:"Advanced",order:117},teaching:[],assessment:[]},Hx={meta:{id:"lesson-118",title:"Taking a Risk",level:"Advanced",order:118},teaching:[],assessment:[]},qx={meta:{id:"lesson-119",title:"Fighting for the Initiative",level:"Advanced",order:119},teaching:[],assessment:[]},jx={meta:{id:"lesson-120",title:"Destructive Sacrifices",level:"Advanced",order:120},teaching:[],assessment:[]},Vx={meta:{id:"lesson-121",title:"Breaking Through in the Centre",level:"Advanced",order:121},teaching:[],assessment:[]},Gx={meta:{id:"lesson-122",title:"The Minority Attack",level:"Advanced",order:122},teaching:[],assessment:[]},Yx={meta:{id:"lesson-123",title:"Exchange Sacrifices",level:"Advanced",order:123},teaching:[],assessment:[]},Fx={meta:{id:"lesson-124",title:"Pawn Endgames  Pawn Break",level:"Advanced",order:124},teaching:[],assessment:[]},Kx={meta:{id:"lesson-125",title:"Pawn Endgames  Reserve Tempo",level:"Advanced",order:125},teaching:[],assessment:[]},Qx={meta:{id:"lesson-126",title:"Pawn Endgames  Defence",level:"Advanced",order:126},teaching:[],assessment:[]},Wx={meta:{id:"lesson-127",title:"A Knight Against a Bishop in the Endgame",level:"Advanced",order:127},teaching:[],assessment:[]},Xx={meta:{id:"lesson-128",title:"Rook Endgames  A Rook Against a Pawn 1",level:"Advanced",order:128},teaching:[],assessment:[]},Zx={meta:{id:"lesson-129",title:"Rook Endgames  A Rook Against a Pawn 2",level:"Advanced",order:129},teaching:[],assessment:[]},$x={meta:{id:"lesson-130",title:"Rook Endgames  Frontal Assault and Activity",level:"Advanced",order:130},teaching:[],assessment:[]},Jx={meta:{id:"lesson-131",title:"Simplifying the Position",level:"Advanced",order:131},teaching:[],assessment:[]},ek={meta:{id:"lesson-132",title:"Never Give Up Too Early",level:"Advanced",order:132},teaching:[],assessment:[]},tk={meta:{id:"lesson-133",title:"Selected Combinations",level:"Advanced",order:133},teaching:[],assessment:[]},nk={meta:{id:"lesson-134",title:"Chess Compositions, Studies",level:"Advanced",order:134},teaching:[],assessment:[]},ik={meta:{id:"lesson-135",title:"Advanced Course  Achievement Test",level:"Advanced",order:135},teaching:[],assessment:[]},sk=Object.freeze(Object.defineProperty({__proto__:null,lesson100_zugzwang:Sx,lesson101_blocking:Cx,lesson102_usingpins:Tx,lesson103_deflections:wx,lesson104_decoys:Ax,lesson105_discoveredattacks:Rx,lesson106_discoveredcheck:Nx,lesson107_xrayattack:Ox,lesson108_incorrectcombinations:Ix,lesson109_knightvsbishopmid:Dx,lesson10_matein1:s2,lesson110_winningactivity:Mx,lesson111_oppositecolorbishops:xx,lesson112_intuitivesacrifices:kx,lesson113_advancedplanning:Lx,lesson114_hangingpawns:Ux,lesson115_activedefence:zx,lesson116_variationcalc1:Px,lesson117_variationcalc2:Bx,lesson118_takingrisk:Hx,lesson119_initiative:qx,lesson11_matein2:r2,lesson120_destructivesacrifices:jx,lesson121_breakingcentre:Vx,lesson122_minorityattack:Gx,lesson123_exchangesacrifice:Yx,lesson124_pawnbreak:Fx,lesson125_reservetempo:Kx,lesson126_pawndefence:Qx,lesson127_knightvsbishopend:Wx,lesson128_rookvspawn1:Xx,lesson129_rookvspawn2:Zx,lesson12_italianopening:a2,lesson130_frontalassault:$x,lesson131_simplifying:Jx,lesson132_nevergiveup:ek,lesson133_selectedcombinations:tk,lesson134_chessstudies:nk,lesson135_advancedtest:ik,lesson13_notation:l2,lesson14_checkmate:o2,lesson15_pin:c2,lesson16_skewer:u2,lesson17_discoveredattack:f2,lesson18_doublecheck:d2,lesson19_fork:h2,lesson1_thechessboard:j0,lesson20_backrankmate:m2,lesson21_smotheredmate:p2,lesson22_development:g2,lesson23_kingsafety:_2,lesson24_centre:v2,lesson25_exchange:y2,lesson26_activity:E2,lesson27_material:b2,lesson28_pawnstructure:S2,lesson29_positions:C2,lesson2_thepawn:XM,lesson30_tworookendgame:T2,lesson31_queenendgame:w2,lesson32_singlerook:A2,lesson33_twobishopmate:R2,lesson34_mateconfig:N2,lesson35_combination:O2,lesson36_typicalcombo:I2,lesson37_openingintro:D2,lesson38_middlegameintro:M2,lesson39_endgameintro:x2,lesson3_therook:ZM,lesson40_gambits:k2,lesson41_rookbasic:L2,lesson42_bishopbasic:U2,lesson43_knightbasic:z2,lesson44_queenbasic:P2,lesson45_beginner_test:B2,lesson4_thebishop:$M,lesson50_backrankweak:H2,lesson51_attack1:q2,lesson52_attack2:j2,lesson53_kingcentre:V2,lesson54_oppositesides:G2,lesson55_devadv:Y2,lesson56_elimination:F2,lesson57_space:K2,lesson58_piecepos:Q2,lesson59_weaksq:W2,lesson5_thequeen:JM,lesson60_pawnweak:X2,lesson61_bishopmid:Z2,lesson62_knightmid:$2,lesson63_passedpawnmid:J2,lesson64_rookmid:ex,lesson65_queenmid:tx,lesson66_exchanging:nx,lesson67_closedcentres:ix,lesson68_opencentres:sx,lesson69_fixedcentres:rx,lesson6_theknight:e2,lesson70_mobilecentres:ax,lesson71_evaluation:lx,lesson72_planning:ox,lesson73_unexpected:cx,lesson74_perpetual:ux,lesson75_overloaded:fx,lesson76_clearance:dx,lesson77_openingprep:hx,lesson78_passedpawnend:mx,lesson79_advpawn1:px,lesson7_theking:t2,lesson80_advpawn2:gx,lesson81_advrook:_x,lesson82_advqueen:vx,lesson83_bishopknight:yx,lesson84_endtactics:Ex,lesson85_inter_test:bx,lesson8_theopening:n2,lesson9_middlegame:i2},Symbol.toStringTag,{value:"Module"}));function rk(){const{levelId:n}=gE(),e=hh(),{user:s,loading:r}=cm(),o={"beginner-1":h=>h.meta.order>=1&&h.meta.order<=12,"beginner-2":h=>h.meta.order>=13&&h.meta.order<=45,"intermediate-1":h=>h.meta.order>=50&&h.meta.order<=85,"intermediate-2":()=>!1,advanced:h=>h.meta.order>=100&&h.meta.order<=135},c=Object.values(sk).filter(h=>o[n]?.(h)).sort((h,p)=>h.meta.order-p.meta.order).map(h=>({id:h.meta.id,title:h.meta.title,passcode:h.meta.passcode})),f=h=>{if(h.passcode){const p=window.prompt("Enter passcode for this lesson:");if(p===null)return;if(p!==h.passcode){alert("Incorrect passcode");return}}e(`/classroom/${n}/${h.id}`)};return q.jsxs("div",{className:"page",children:[q.jsx("div",{style:{height:"80px",background:"linear-gradient(90deg, #4facfe, #00f2fe)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"24px",fontWeight:"600"},children:n.replace("-"," ").toUpperCase()}),!r&&!s&&q.jsx("div",{className:"card",style:{marginTop:"24px",textAlign:"center"},children:q.jsx("p",{children:"Please login to continue."})}),s&&c.length===0&&q.jsx("div",{className:"card",style:{marginTop:"24px",textAlign:"center"},children:q.jsx("p",{children:"Lessons for this level will be added soon."})}),s&&c.length>0&&q.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginTop:"24px"},children:c.map((h,p)=>q.jsxs("div",{className:"card",style:{cursor:"pointer",background:"linear-gradient(90deg, #84fab0, #8fd3f4)",color:"#fff"},onClick:()=>f(h),children:[p+1,". ",h.title]},h.id))})]})}const ak=["white","black"],Tc=["a","b","c","d","e","f","g","h"],wc=["1","2","3","4","5","6","7","8"],lk=[...wc].reverse(),um=Array.prototype.concat(...Tc.map(n=>wc.map(e=>n+e))),nn=n=>um[8*n[0]+n[1]],je=n=>[n.charCodeAt(0)-97,n.charCodeAt(1)-49],V0=um.map(je);function ok(n){let e;const s=()=>(e===void 0&&(e=n()),e);return s.clear=()=>{e=void 0},s}const ck=()=>{let n;return{start(){n=performance.now()},cancel(){n=void 0},stop(){if(!n)return 0;const e=performance.now()-n;return n=void 0,e}}},fm=n=>n==="white"?"black":"white",cl=(n,e)=>{const s=n[0]-e[0],r=n[1]-e[1];return s*s+r*r},lh=(n,e)=>n.role===e.role&&n.color===e.color,Cl=n=>(e,s)=>[(s?e[0]:7-e[0])*n.width/8,(s?7-e[1]:e[1])*n.height/8],Sn=(n,e)=>{n.style.transform=`translate(${e[0]}px,${e[1]}px)`},G0=(n,e,s=1)=>{n.style.transform=`translate(${e[0]}px,${e[1]}px) scale(${s})`},dm=(n,e)=>{n.style.visibility=e?"visible":"hidden"},Os=n=>{var e;if(n.clientX||n.clientX===0)return[n.clientX,n.clientY];if(!((e=n.targetTouches)===null||e===void 0)&&e[0])return[n.targetTouches[0].clientX,n.targetTouches[0].clientY]},Y0=n=>n.button===2,Wn=(n,e)=>{const s=document.createElement(n);return e&&(s.className=e),s};function F0(n,e,s){const r=je(n);return e||(r[0]=7-r[0],r[1]=7-r[1]),[s.left+s.width*r[0]/8+s.width/16,s.top+s.height*(7-r[1])/8+s.height/16]}const Ts=(n,e)=>Math.abs(n-e),uk=n=>(e,s,r,o)=>Ts(e,r)<2&&(n==="white"?o===s+1||s<=1&&o===s+2&&e===r:o===s-1||s>=6&&o===s-2&&e===r),K0=(n,e,s,r)=>{const o=Ts(n,s),c=Ts(e,r);return o===1&&c===2||o===2&&c===1},Q0=(n,e,s,r)=>Ts(n,s)===Ts(e,r),W0=(n,e,s,r)=>n===s||e===r,X0=(n,e,s,r)=>Q0(n,e,s,r)||W0(n,e,s,r),fk=(n,e,s)=>(r,o,c,f)=>Ts(r,c)<2&&Ts(o,f)<2||s&&o===f&&o===(n==="white"?0:7)&&(r===4&&(c===2&&e.includes(0)||c===6&&e.includes(7))||e.includes(c));function dk(n,e){const s=e==="white"?"1":"8",r=[];for(const[o,c]of n)o[1]===s&&c.color===e&&c.role==="rook"&&r.push(je(o)[0]);return r}function Z0(n,e,s){const r=n.get(e);if(!r)return[];const o=je(e),c=r.role,f=c==="pawn"?uk(r.color):c==="knight"?K0:c==="bishop"?Q0:c==="rook"?W0:c==="queen"?X0:fk(r.color,dk(n,r.color),s);return V0.filter(h=>(o[0]!==h[0]||o[1]!==h[1])&&f(o[0],o[1],h[0],h[1])).map(nn)}function xt(n,...e){n&&setTimeout(()=>n(...e),1)}function hk(n){n.orientation=fm(n.orientation),n.animation.current=n.draggable.current=n.selected=void 0}function mk(n,e){for(const[s,r]of e)r?n.pieces.set(s,r):n.pieces.delete(s)}function pk(n,e){if(n.check=void 0,e===!0&&(e=n.turnColor),e)for(const[s,r]of n.pieces)r.role==="king"&&r.color===e&&(n.check=s)}function gk(n,e,s,r){Ki(n),n.premovable.current=[e,s],xt(n.premovable.events.set,e,s,r)}function Fi(n){n.premovable.current&&(n.premovable.current=void 0,xt(n.premovable.events.unset))}function _k(n,e,s){Fi(n),n.predroppable.current={role:e,key:s},xt(n.predroppable.events.set,e,s)}function Ki(n){const e=n.predroppable;e.current&&(e.current=void 0,xt(e.events.unset))}function vk(n,e,s){if(!n.autoCastle)return!1;const r=n.pieces.get(e);if(!r||r.role!=="king")return!1;const o=je(e),c=je(s);if(o[1]!==0&&o[1]!==7||o[1]!==c[1])return!1;o[0]===4&&!n.pieces.has(s)&&(c[0]===6?s=nn([7,c[1]]):c[0]===2&&(s=nn([0,c[1]])));const f=n.pieces.get(s);return!f||f.color!==r.color||f.role!=="rook"?!1:(n.pieces.delete(e),n.pieces.delete(s),o[0]<c[0]?(n.pieces.set(nn([6,c[1]]),r),n.pieces.set(nn([5,c[1]]),f)):(n.pieces.set(nn([2,c[1]]),r),n.pieces.set(nn([3,c[1]]),f)),!0)}function $0(n,e,s){const r=n.pieces.get(e),o=n.pieces.get(s);if(e===s||!r)return!1;const c=o&&o.color!==r.color?o:void 0;return s===n.selected&&sn(n),xt(n.events.move,e,s,c),vk(n,e,s)||(n.pieces.set(s,r),n.pieces.delete(e)),n.lastMove=[e,s],n.check=void 0,xt(n.events.change),c||!0}function hm(n,e,s,r){if(n.pieces.has(s))if(r)n.pieces.delete(s);else return!1;return xt(n.events.dropNewPiece,e,s),n.pieces.set(s,e),n.lastMove=[s],n.check=void 0,xt(n.events.change),n.movable.dests=void 0,n.turnColor=fm(n.turnColor),!0}function J0(n,e,s){const r=$0(n,e,s);return r&&(n.movable.dests=void 0,n.turnColor=fm(n.turnColor),n.animation.current=void 0),r}function eS(n,e,s){if(mm(n,e,s)){const r=J0(n,e,s);if(r){const o=n.hold.stop();sn(n);const c={premove:!1,ctrlKey:n.stats.ctrlKey,holdTime:o};return r!==!0&&(c.captured=r),xt(n.movable.events.after,e,s,c),!0}}else if(Ek(n,e,s))return gk(n,e,s,{ctrlKey:n.stats.ctrlKey}),sn(n),!0;return sn(n),!1}function tS(n,e,s,r){const o=n.pieces.get(e);o&&(yk(n,e,s)||r)?(n.pieces.delete(e),hm(n,o,s,r),xt(n.movable.events.afterNewPiece,o.role,s,{premove:!1,predrop:!1})):o&&bk(n,e,s)?_k(n,o.role,s):(Fi(n),Ki(n)),n.pieces.delete(e),sn(n)}function oh(n,e,s){if(xt(n.events.select,e),n.selected){if(n.selected===e&&!n.draggable.enabled){sn(n),n.hold.cancel();return}else if((n.selectable.enabled||s)&&n.selected!==e&&eS(n,n.selected,e)){n.stats.dragged=!1;return}}(n.selectable.enabled||n.draggable.enabled)&&(iS(n,e)||pm(n,e))&&(nS(n,e),n.hold.start())}function nS(n,e){n.selected=e,pm(n,e)?n.premovable.customDests||(n.premovable.dests=Z0(n.pieces,e,n.premovable.castle)):n.premovable.dests=void 0}function sn(n){n.selected=void 0,n.premovable.dests=void 0,n.hold.cancel()}function iS(n,e){const s=n.pieces.get(e);return!!s&&(n.movable.color==="both"||n.movable.color===s.color&&n.turnColor===s.color)}const mm=(n,e,s)=>{var r,o;return e!==s&&iS(n,e)&&(n.movable.free||!!(!((o=(r=n.movable.dests)===null||r===void 0?void 0:r.get(e))===null||o===void 0)&&o.includes(s)))};function yk(n,e,s){const r=n.pieces.get(e);return!!r&&(e===s||!n.pieces.has(s))&&(n.movable.color==="both"||n.movable.color===r.color&&n.turnColor===r.color)}function pm(n,e){const s=n.pieces.get(e);return!!s&&n.premovable.enabled&&n.movable.color===s.color&&n.turnColor!==s.color}function Ek(n,e,s){var r,o;const c=(o=(r=n.premovable.customDests)===null||r===void 0?void 0:r.get(e))!==null&&o!==void 0?o:Z0(n.pieces,e,n.premovable.castle);return e!==s&&pm(n,e)&&c.includes(s)}function bk(n,e,s){const r=n.pieces.get(e),o=n.pieces.get(s);return!!r&&(!o||o.color!==n.movable.color)&&n.predroppable.enabled&&(r.role!=="pawn"||s[1]!=="1"&&s[1]!=="8")&&n.movable.color===r.color&&n.turnColor!==r.color}function Sk(n,e){const s=n.pieces.get(e);return!!s&&n.draggable.enabled&&(n.movable.color==="both"||n.movable.color===s.color&&(n.turnColor===s.color||n.premovable.enabled))}function Ck(n){const e=n.premovable.current;if(!e)return!1;const s=e[0],r=e[1];let o=!1;if(mm(n,s,r)){const c=J0(n,s,r);if(c){const f={premove:!0};c!==!0&&(f.captured=c),xt(n.movable.events.after,s,r,f),o=!0}}return Fi(n),o}function Tk(n,e){const s=n.predroppable.current;let r=!1;if(!s)return!1;if(e(s)){const o={role:s.role,color:n.movable.color};hm(n,o,s.key)&&(xt(n.movable.events.afterNewPiece,s.role,s.key,{premove:!1,predrop:!0}),r=!0)}return Ki(n),r}function gm(n){Fi(n),Ki(n),sn(n)}function Ky(n){n.movable.color=n.movable.dests=n.animation.current=void 0,gm(n)}function Is(n,e,s){let r=Math.floor(8*(n[0]-s.left)/s.width);e||(r=7-r);let o=7-Math.floor(8*(n[1]-s.top)/s.height);return e||(o=7-o),r>=0&&r<8&&o>=0&&o<8?nn([r,o]):void 0}function wk(n,e,s,r){const o=je(n),c=V0.filter(m=>X0(o[0],o[1],m[0],m[1])||K0(o[0],o[1],m[0],m[1])),h=c.map(m=>F0(nn(m),s,r)).map(m=>cl(e,m)),[,p]=h.reduce((m,y,_)=>m[0]<y?m:[y,_],[h[0],0]);return nn(c[p])}const kt=n=>n.orientation==="white",sS="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",Ak={p:"pawn",r:"rook",n:"knight",b:"bishop",q:"queen",k:"king"},Rk={pawn:"p",rook:"r",knight:"n",bishop:"b",queen:"q",king:"k"};function rS(n){n==="start"&&(n=sS);const e=new Map;let s=7,r=0;for(const o of n)switch(o){case" ":case"[":return e;case"/":if(--s,s<0)return e;r=0;break;case"~":{const c=e.get(nn([r-1,s]));c&&(c.promoted=!0);break}default:{const c=o.charCodeAt(0);if(c<57)r+=c-48;else{const f=o.toLowerCase();e.set(nn([r,s]),{role:Ak[f],color:o===f?"black":"white"}),++r}}}return e}function Nk(n){return lk.map(e=>Tc.map(s=>{const r=n.get(s+e);if(r){let o=Rk[r.role];return r.color==="white"&&(o=o.toUpperCase()),r.promoted&&(o+="~"),o}else return"1"}).join("")).join("/").replace(/1{2,}/g,e=>e.length.toString())}function aS(n,e){e.animation&&(_m(n.animation,e.animation),(n.animation.duration||0)<70&&(n.animation.enabled=!1))}function lS(n,e){var s,r,o;if(!((s=e.movable)===null||s===void 0)&&s.dests&&(n.movable.dests=void 0),!((r=e.drawable)===null||r===void 0)&&r.autoShapes&&(n.drawable.autoShapes=[]),_m(n,e),e.fen&&(n.pieces=rS(e.fen),n.drawable.shapes=((o=e.drawable)===null||o===void 0?void 0:o.shapes)||[]),"check"in e&&pk(n,e.check||!1),"lastMove"in e&&!e.lastMove?n.lastMove=void 0:e.lastMove&&(n.lastMove=e.lastMove),n.selected&&nS(n,n.selected),aS(n,e),!n.movable.rookCastle&&n.movable.dests){const c=n.movable.color==="white"?"1":"8",f="e"+c,h=n.movable.dests.get(f),p=n.pieces.get(f);if(!h||!p||p.role!=="king")return;n.movable.dests.set(f,h.filter(m=>!(m==="a"+c&&h.includes("c"+c))&&!(m==="h"+c&&h.includes("g"+c))))}}function _m(n,e){for(const s in e)s==="__proto__"||s==="constructor"||!Object.prototype.hasOwnProperty.call(e,s)||(Object.prototype.hasOwnProperty.call(n,s)&&Qy(n[s])&&Qy(e[s])?_m(n[s],e[s]):n[s]=e[s])}function Qy(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null}const ps=(n,e)=>e.animation.enabled?Dk(n,e):Ii(n,e);function Ii(n,e){const s=n(e);return e.dom.redraw(),s}const Ld=(n,e)=>({key:n,pos:je(n),piece:e}),Ok=(n,e)=>e.sort((s,r)=>cl(n.pos,s.pos)-cl(n.pos,r.pos))[0];function Ik(n,e){const s=new Map,r=[],o=new Map,c=[],f=[],h=new Map;let p,m,y;for(const[_,E]of n)h.set(_,Ld(_,E));for(const _ of um)p=e.pieces.get(_),m=h.get(_),p?m?lh(p,m.piece)||(c.push(m),f.push(Ld(_,p))):f.push(Ld(_,p)):m&&c.push(m);for(const _ of f)m=Ok(_,c.filter(E=>lh(_.piece,E.piece))),m&&(y=[m.pos[0]-_.pos[0],m.pos[1]-_.pos[1]],s.set(_.key,y.concat(y)),r.push(m.key));for(const _ of c)r.includes(_.key)||o.set(_.key,_.piece);return{anims:s,fadings:o}}function oS(n,e){const s=n.animation.current;if(s===void 0){n.dom.destroyed||n.dom.redrawNow();return}const r=1-(e-s.start)*s.frequency;if(r<=0)n.animation.current=void 0,n.dom.redrawNow();else{const o=Mk(r);for(const c of s.plan.anims.values())c[2]=c[0]*o,c[3]=c[1]*o;n.dom.redrawNow(!0),requestAnimationFrame((c=performance.now())=>oS(n,c))}}function Dk(n,e){const s=new Map(e.pieces),r=n(e),o=Ik(s,e);if(o.anims.size||o.fadings.size){const c=e.animation.current&&e.animation.current.start;e.animation.current={start:performance.now(),frequency:1/e.animation.duration,plan:o},c||oS(e,performance.now())}else e.dom.redraw();return r}const Mk=n=>n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1,xk=["green","red","blue","yellow"];function kk(n,e){if(e.touches&&e.touches.length>1)return;e.stopPropagation(),e.preventDefault(),e.ctrlKey?sn(n):gm(n);const s=Os(e),r=Is(s,kt(n),n.dom.bounds());r&&(n.drawable.current={orig:r,pos:s,brush:Pk(e),snapToValidMove:n.drawable.defaultSnapToValidMove},cS(n))}function cS(n){requestAnimationFrame(()=>{const e=n.drawable.current;if(e){const s=Is(e.pos,kt(n),n.dom.bounds());s||(e.snapToValidMove=!1);const r=e.snapToValidMove?wk(e.orig,e.pos,kt(n),n.dom.bounds()):s;r!==e.mouseSq&&(e.mouseSq=r,e.dest=r!==e.orig?r:void 0,n.dom.redrawNow()),cS(n)}})}function Lk(n,e){n.drawable.current&&(n.drawable.current.pos=Os(e))}function Uk(n){const e=n.drawable.current;e&&(e.mouseSq&&Bk(n.drawable,e),uS(n))}function uS(n){n.drawable.current&&(n.drawable.current=void 0,n.dom.redraw())}function zk(n){n.drawable.shapes.length&&(n.drawable.shapes=[],n.dom.redraw(),fS(n.drawable))}function Pk(n){var e;const s=(n.shiftKey||n.ctrlKey)&&Y0(n),r=n.altKey||n.metaKey||((e=n.getModifierState)===null||e===void 0?void 0:e.call(n,"AltGraph"));return xk[(s?1:0)+(r?2:0)]}function Bk(n,e){const s=o=>o.orig===e.orig&&o.dest===e.dest,r=n.shapes.find(s);r&&(n.shapes=n.shapes.filter(o=>!s(o))),(!r||r.brush!==e.brush)&&n.shapes.push({orig:e.orig,dest:e.dest,brush:e.brush}),fS(n)}function fS(n){n.onChange&&n.onChange(n.shapes)}function Hk(n,e){if(!(n.trustAllEvents||e.isTrusted)||e.buttons!==void 0&&e.buttons>1||e.touches&&e.touches.length>1)return;const s=n.dom.bounds(),r=Os(e),o=Is(r,kt(n),s);if(!o)return;const c=n.pieces.get(o),f=n.selected;if(!f&&n.drawable.enabled&&(n.drawable.eraseOnClick||!c||c.color!==n.turnColor)&&zk(n),e.cancelable!==!1&&(!e.touches||n.blockTouchScroll||c||f||qk(n,r)))e.preventDefault();else if(e.touches)return;const h=!!n.premovable.current,p=!!n.predroppable.current;n.stats.ctrlKey=e.ctrlKey,n.selected&&mm(n,n.selected,o)?ps(_=>oh(_,o),n):oh(n,o);const m=n.selected===o,y=hS(n,o);if(c&&y&&m&&Sk(n,o)){n.draggable.current={orig:o,piece:c,origPos:r,pos:r,started:n.draggable.autoDistance&&n.stats.dragged,element:y,previouslySelected:f,originTarget:e.target,keyHasChanged:!1},y.cgDragging=!0,y.classList.add("dragging");const _=n.dom.elements.ghost;_&&(_.className=`ghost ${c.color} ${c.role}`,Sn(_,Cl(s)(je(o),kt(n))),dm(_,!0)),vm(n)}else h&&Fi(n),p&&Ki(n);n.dom.redraw()}function qk(n,e){const s=kt(n),r=n.dom.bounds(),o=Math.pow(r.width/8,2);for(const c of n.pieces.keys()){const f=F0(c,s,r);if(cl(f,e)<=o)return!0}return!1}function jk(n,e,s,r){n.pieces.set("a0",e),n.dom.redraw();const c=Os(s);n.draggable.current={orig:"a0",piece:e,origPos:c,pos:c,started:!0,element:()=>hS(n,"a0"),originTarget:s.target,newPiece:!0,force:!!r,keyHasChanged:!1},vm(n)}function vm(n){requestAnimationFrame(()=>{var e;const s=n.draggable.current;if(!s)return;!((e=n.animation.current)===null||e===void 0)&&e.plan.anims.has(s.orig)&&(n.animation.current=void 0);const r=n.pieces.get(s.orig);if(!r||!lh(r,s.piece))Ac(n);else if(!s.started&&cl(s.pos,s.origPos)>=Math.pow(n.draggable.distance,2)&&(s.started=!0),s.started){if(typeof s.element=="function"){const c=s.element();if(!c)return;c.cgDragging=!0,c.classList.add("dragging"),s.element=c}const o=n.dom.bounds();Sn(s.element,[s.pos[0]-o.left-o.width/16,s.pos[1]-o.top-o.height/16]),s.keyHasChanged||(s.keyHasChanged=s.orig!==Is(s.pos,kt(n),o))}vm(n)})}function Vk(n,e){n.draggable.current&&(!e.touches||e.touches.length<2)&&(n.draggable.current.pos=Os(e))}function Gk(n,e){const s=n.draggable.current;if(!s)return;if(e.type==="touchend"&&e.cancelable!==!1&&e.preventDefault(),e.type==="touchend"&&s.originTarget!==e.target&&!s.newPiece){n.draggable.current=void 0;return}Fi(n),Ki(n);const r=Os(e)||s.pos,o=Is(r,kt(n),n.dom.bounds());o&&s.started&&s.orig!==o?s.newPiece?tS(n,s.orig,o,s.force):(n.stats.ctrlKey=e.ctrlKey,eS(n,s.orig,o)&&(n.stats.dragged=!0)):s.newPiece?n.pieces.delete(s.orig):n.draggable.deleteOnDropOff&&!o&&(n.pieces.delete(s.orig),xt(n.events.change)),(s.orig===s.previouslySelected||s.keyHasChanged)&&(s.orig===o||!o)?sn(n):n.selectable.enabled||sn(n),dS(n),n.draggable.current=void 0,n.dom.redraw()}function Ac(n){const e=n.draggable.current;e&&(e.newPiece&&n.pieces.delete(e.orig),n.draggable.current=void 0,sn(n),dS(n),n.dom.redraw())}function dS(n){const e=n.dom.elements;e.ghost&&dm(e.ghost,!1)}function hS(n,e){let s=n.dom.elements.board.firstChild;for(;s;){if(s.cgKey===e&&s.tagName==="PIECE")return s;s=s.nextSibling}}function Yk(n,e){n.exploding={stage:1,keys:e},n.dom.redraw(),setTimeout(()=>{Wy(n,2),setTimeout(()=>Wy(n,void 0),120)},120)}function Wy(n,e){n.exploding&&(e?n.exploding.stage=e:n.exploding=void 0,n.dom.redraw())}function Fk(n,e){function s(){hk(n),e()}return{set(r){r.orientation&&r.orientation!==n.orientation&&s(),aS(n,r),(r.fen?ps:Ii)(o=>lS(o,r),n)},state:n,getFen:()=>Nk(n.pieces),toggleOrientation:s,setPieces(r){ps(o=>mk(o,r),n)},selectSquare(r,o){r?ps(c=>oh(c,r,o),n):n.selected&&(sn(n),n.dom.redraw())},move(r,o){ps(c=>$0(c,r,o),n)},newPiece(r,o){ps(c=>hm(c,r,o),n)},playPremove(){if(n.premovable.current){if(ps(Ck,n))return!0;n.dom.redraw()}return!1},playPredrop(r){if(n.predroppable.current){const o=Tk(n,r);return n.dom.redraw(),o}return!1},cancelPremove(){Ii(Fi,n)},cancelPredrop(){Ii(Ki,n)},cancelMove(){Ii(r=>{gm(r),Ac(r)},n)},stop(){Ii(r=>{Ky(r),Ac(r)},n)},explode(r){Yk(n,r)},setAutoShapes(r){Ii(o=>o.drawable.autoShapes=r,n)},setShapes(r){Ii(o=>o.drawable.shapes=r,n)},getKeyAtDomPos(r){return Is(r,kt(n),n.dom.bounds())},redrawAll:e,dragNewPiece(r,o,c){jk(n,r,o,c)},destroy(){Ky(n),n.dom.unbind&&n.dom.unbind(),n.dom.destroyed=!0}}}function Kk(){return{pieces:rS(sS),orientation:"white",turnColor:"white",coordinates:!0,coordinatesOnSquares:!1,ranksPosition:"right",autoCastle:!0,viewOnly:!1,disableContextMenu:!1,addPieceZIndex:!1,blockTouchScroll:!1,pieceKey:!1,trustAllEvents:!1,highlight:{lastMove:!0,check:!0},animation:{enabled:!0,duration:200},movable:{free:!0,color:"both",showDests:!0,events:{},rookCastle:!0},premovable:{enabled:!0,showDests:!0,castle:!0,events:{}},predroppable:{enabled:!1,events:{}},draggable:{enabled:!0,distance:3,autoDistance:!0,showGhost:!0,deleteOnDropOff:!1},dropmode:{active:!1},selectable:{enabled:!0},stats:{dragged:!("ontouchstart"in window)},events:{},drawable:{enabled:!0,visible:!0,defaultSnapToValidMove:!0,eraseOnClick:!0,shapes:[],autoShapes:[],brushes:{green:{key:"g",color:"#15781B",opacity:1,lineWidth:10},red:{key:"r",color:"#882020",opacity:1,lineWidth:10},blue:{key:"b",color:"#003088",opacity:1,lineWidth:10},yellow:{key:"y",color:"#e68f00",opacity:1,lineWidth:10},paleBlue:{key:"pb",color:"#003088",opacity:.4,lineWidth:15},paleGreen:{key:"pg",color:"#15781B",opacity:.4,lineWidth:15},paleRed:{key:"pr",color:"#882020",opacity:.4,lineWidth:15},paleGrey:{key:"pgr",color:"#4a4a4a",opacity:.35,lineWidth:15},purple:{key:"purple",color:"#68217a",opacity:.65,lineWidth:10},pink:{key:"pink",color:"#ee2080",opacity:.5,lineWidth:10},white:{key:"white",color:"white",opacity:1,lineWidth:10}},prevSvgHash:""},hold:ck()}}const Xy={hilitePrimary:{key:"hilitePrimary",color:"#3291ff",opacity:1,lineWidth:1},hiliteWhite:{key:"hiliteWhite",color:"#ffffff",opacity:1,lineWidth:1}};function Qk(){const n=st("defs"),e=Et(st("filter"),{id:"cg-filter-blur"});return e.appendChild(Et(st("feGaussianBlur"),{stdDeviation:"0.019"})),n.appendChild(e),n}function Wk(n,e,s){var r;const o=n.drawable,c=o.current,f=c&&c.mouseSq?c:void 0,h=new Map,p=n.dom.bounds(),m=o.autoShapes.filter(w=>!w.piece);for(const w of o.shapes.concat(m).concat(f?[f]:[])){if(!w.dest)continue;const N=(r=h.get(w.dest))!==null&&r!==void 0?r:new Set,k=Oc(Nc(je(w.orig),n.orientation),p),H=Oc(Nc(je(w.dest),n.orientation),p);N.add(uh(k,H)),h.set(w.dest,N)}const y=o.shapes.concat(m).map(w=>({shape:w,current:!1,hash:Zy(w,ch(w.dest,h),!1,p)}));f&&y.push({shape:f,current:!0,hash:Zy(f,ch(f.dest,h),!0,p)});const _=y.map(w=>w.hash).join(";");if(_===n.drawable.prevSvgHash)return;n.drawable.prevSvgHash=_;const E=e.querySelector("defs");Xk(o,y,E),Zk(y,e.querySelector("g"),s.querySelector("g"),w=>e3(n,w,o.brushes,h,p))}function Xk(n,e,s){var r;const o=new Map;let c;for(const p of e.filter(m=>m.shape.dest&&m.shape.brush))c=mS(n.brushes[p.shape.brush],p.shape.modifiers),!((r=p.shape.modifiers)===null||r===void 0)&&r.hilite&&o.set(Rc(c).key,Rc(c)),o.set(c.key,c);const f=new Set;let h=s.firstElementChild;for(;h;)f.add(h.getAttribute("cgKey")),h=h.nextElementSibling;for(const[p,m]of o.entries())f.has(p)||s.appendChild(i3(m))}function Zk(n,e,s,r){const o=new Map;for(const c of n)o.set(c.hash,!1);for(const c of[e,s]){const f=[];let h=c.firstElementChild,p;for(;h;)p=h.getAttribute("cgHash"),o.has(p)?o.set(p,!0):f.push(h),h=h.nextElementSibling;for(const m of f)c.removeChild(m)}for(const c of n.filter(f=>!o.get(f.hash)))for(const f of r(c))f.isCustom?s.appendChild(f.el):e.appendChild(f.el)}function Zy({orig:n,dest:e,brush:s,piece:r,modifiers:o,customSvg:c,label:f},h,p,m){var y,_;return[m.width,m.height,p,n,e,s,h&&"-",r&&$k(r),o&&Jk(o),c&&`custom-${$y(c.html)},${(_=(y=c.center)===null||y===void 0?void 0:y[0])!==null&&_!==void 0?_:"o"}`,f&&`label-${$y(f.text)}`].filter(E=>E).join(",")}function $k(n){return[n.color,n.role,n.scale].filter(e=>e).join(",")}function Jk(n){return[n.lineWidth,n.hilite&&"*"].filter(e=>e).join(",")}function $y(n){let e=0;for(let s=0;s<n.length;s++)e=(e<<5)-e+n.charCodeAt(s)>>>0;return e.toString()}function e3(n,{shape:e,current:s,hash:r},o,c,f){var h,p;const m=Oc(Nc(je(e.orig),n.orientation),f),y=e.dest?Oc(Nc(je(e.dest),n.orientation),f):m,_=e.brush&&mS(o[e.brush],e.modifiers),E=c.get(e.dest),w=[];if(_){const N=Et(st("g"),{cgHash:r});w.push({el:N}),m[0]!==y[0]||m[1]!==y[1]?N.appendChild(n3(e,_,m,y,s,ch(e.dest,c))):N.appendChild(t3(o[e.brush],m,s,f))}if(e.label){const N=e.label;(h=N.fill)!==null&&h!==void 0||(N.fill=e.brush&&o[e.brush].color);const k=e.brush?void 0:"tr";w.push({el:s3(N,r,m,y,E,k),isCustom:!0})}if(e.customSvg){const N=(p=e.customSvg.center)!==null&&p!==void 0?p:"orig",[k,H]=N==="label"?gS(m,y,E).map(P=>P-.5):N==="dest"?y:m,j=Et(st("g"),{transform:`translate(${k},${H})`,cgHash:r});j.innerHTML=`<svg width="1" height="1" viewBox="0 0 100 100">${e.customSvg.html}</svg>`,w.push({el:j,isCustom:!0})}return w}function t3(n,e,s,r){const o=r3(),c=(r.width+r.height)/(4*Math.max(r.width,r.height));return Et(st("circle"),{stroke:n.color,"stroke-width":o[s?0:1],fill:"none",opacity:pS(n,s),cx:e[0],cy:e[1],r:c-o[1]/2})}function Rc(n){return["#ffffff","#fff","white"].includes(n.color)?Xy.hilitePrimary:Xy.hiliteWhite}function n3(n,e,s,r,o,c){var f;function h(y){var _;const E=l3(c&&!o),w=r[0]-s[0],N=r[1]-s[1],k=Math.atan2(N,w),H=Math.cos(k)*E,j=Math.sin(k)*E;return Et(st("line"),{stroke:y?Rc(e).color:e.color,"stroke-width":a3(e,o)+(y?.04:0),"stroke-linecap":"round","marker-end":`url(#arrowhead-${y?Rc(e).key:e.key})`,opacity:!((_=n.modifiers)===null||_===void 0)&&_.hilite?1:pS(e,o),x1:s[0],y1:s[1],x2:r[0]-H,y2:r[1]-j})}if(!(!((f=n.modifiers)===null||f===void 0)&&f.hilite))return h(!1);const p=st("g"),m=Et(st("g"),{filter:"url(#cg-filter-blur)"});return m.appendChild(o3(s,r)),m.appendChild(h(!0)),p.appendChild(m),p.appendChild(h(!1)),p}function i3(n){const e=Et(st("marker"),{id:"arrowhead-"+n.key,orient:"auto",overflow:"visible",markerWidth:4,markerHeight:4,refX:n.key.startsWith("hilite")?1.86:2.05,refY:2});return e.appendChild(Et(st("path"),{d:"M0,0 V4 L3,2 Z",fill:n.color})),e.setAttribute("cgKey",n.key),e}function s3(n,e,s,r,o,c){var f;const p=.4*.75**n.text.length,m=gS(s,r,o),y=c==="tr"?.4:0,_=Et(st("g"),{transform:`translate(${m[0]+y},${m[1]-y})`,cgHash:e});_.appendChild(Et(st("circle"),{r:.4/2,"fill-opacity":c?1:.8,"stroke-opacity":c?1:.7,"stroke-width":.03,fill:(f=n.fill)!==null&&f!==void 0?f:"#666",stroke:"white"}));const E=Et(st("text"),{"font-size":p,"font-family":"Noto Sans","text-anchor":"middle",fill:"white",y:.13*.75**n.text.length});return E.innerHTML=n.text,_.appendChild(E),_}function Nc(n,e){return e==="white"?n:[7-n[0],7-n[1]]}function ch(n,e){return(n&&e.has(n)&&e.get(n).size>1)===!0}function st(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Et(n,e){for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.setAttribute(s,e[s]);return n}function mS(n,e){return e?{color:n.color,opacity:Math.round(n.opacity*10)/10,lineWidth:Math.round(e.lineWidth||n.lineWidth),key:[n.key,e.lineWidth].filter(s=>s).join("")}:n}function r3(){return[3/64,4/64]}function a3(n,e){return(n.lineWidth||10)*(e?.85:1)/64}function pS(n,e){return(n.opacity||1)*(e?.9:1)}function l3(n){return(n?20:10)/64}function Oc(n,e){const s=Math.min(1,e.width/e.height),r=Math.min(1,e.height/e.width);return[(n[0]-3.5)*s,(3.5-n[1])*r]}function o3(n,e){const s={from:[Math.floor(Math.min(n[0],e[0])),Math.floor(Math.min(n[1],e[1]))],to:[Math.ceil(Math.max(n[0],e[0])),Math.ceil(Math.max(n[1],e[1]))]};return Et(st("rect"),{x:s.from[0],y:s.from[1],width:s.to[0]-s.from[0],height:s.to[1]-s.from[1],fill:"none",stroke:"none"})}function uh(n,e,s=!0){const r=Math.atan2(e[1]-n[1],e[0]-n[0])+Math.PI;return s?(Math.round(r*8/Math.PI)+16)%16:r}function c3(n,e){return Math.sqrt([n[0]-e[0],n[1]-e[1]].reduce((s,r)=>s+r*r,0))}function gS(n,e,s){let r=c3(n,e);const o=uh(n,e,!1);if(s&&(r-=33/64,s.size>1)){r-=10/64;const c=uh(n,e);(s.has((c+1)%16)||s.has((c+15)%16))&&c&1&&(r-=.4)}return[n[0]-Math.cos(o)*r,n[1]-Math.sin(o)*r].map(c=>c+.5)}function u3(n,e){n.innerHTML="",n.classList.add("cg-wrap");for(const p of ak)n.classList.toggle("orientation-"+p,e.orientation===p);n.classList.toggle("manipulable",!e.viewOnly);const s=Wn("cg-container");n.appendChild(s);const r=Wn("cg-board");s.appendChild(r);let o,c,f;if(e.drawable.visible&&(o=Et(st("svg"),{class:"cg-shapes",viewBox:"-4 -4 8 8",preserveAspectRatio:"xMidYMid slice"}),o.appendChild(Qk()),o.appendChild(st("g")),c=Et(st("svg"),{class:"cg-custom-svgs",viewBox:"-3.5 -3.5 8 8",preserveAspectRatio:"xMidYMid slice"}),c.appendChild(st("g")),f=Wn("cg-auto-pieces"),s.appendChild(o),s.appendChild(c),s.appendChild(f)),e.coordinates){const p=e.orientation==="black"?" black":"",m=e.ranksPosition==="left"?" left":"";if(e.coordinatesOnSquares){const y=e.orientation==="white"?_=>_+1:_=>8-_;Tc.forEach((_,E)=>s.appendChild(Ud(wc.map(w=>_+w),"squares rank"+y(E)+p+m)))}else s.appendChild(Ud(wc,"ranks"+p+m)),s.appendChild(Ud(Tc,"files"+p))}let h;return e.draggable.enabled&&e.draggable.showGhost&&(h=Wn("piece","ghost"),dm(h,!1),s.appendChild(h)),{board:r,container:s,wrap:n,ghost:h,svg:o,customSvg:c,autoPieces:f}}function Ud(n,e){const s=Wn("coords",e);let r;for(const o of n)r=Wn("coord"),r.textContent=o,s.appendChild(r);return s}function f3(n,e){if(!n.dropmode.active)return;Fi(n),Ki(n);const s=n.dropmode.piece;if(s){n.pieces.set("a0",s);const r=Os(e),o=r&&Is(r,kt(n),n.dom.bounds());o&&tS(n,"a0",o)}n.dom.redraw()}function d3(n,e){const s=n.dom.elements.board;if("ResizeObserver"in window&&new ResizeObserver(e).observe(n.dom.elements.wrap),(n.disableContextMenu||n.drawable.enabled)&&s.addEventListener("contextmenu",o=>o.preventDefault()),n.viewOnly)return;const r=m3(n);s.addEventListener("touchstart",r,{passive:!1}),s.addEventListener("mousedown",r,{passive:!1})}function h3(n,e){const s=[];if("ResizeObserver"in window||s.push(Ba(document.body,"chessground.resize",e)),!n.viewOnly){const r=Jy(n,Vk,Lk),o=Jy(n,Gk,Uk);for(const f of["touchmove","mousemove"])s.push(Ba(document,f,r));for(const f of["touchend","mouseup"])s.push(Ba(document,f,o));const c=()=>n.dom.bounds.clear();s.push(Ba(document,"scroll",c,{capture:!0,passive:!0})),s.push(Ba(window,"resize",c,{passive:!0}))}return()=>s.forEach(r=>r())}function Ba(n,e,s,r){return n.addEventListener(e,s,r),()=>n.removeEventListener(e,s,r)}const m3=n=>e=>{n.draggable.current?Ac(n):n.drawable.current?uS(n):e.shiftKey||Y0(e)?n.drawable.enabled&&kk(n,e):n.viewOnly||(n.dropmode.active?f3(n,e):Hk(n,e))},Jy=(n,e,s)=>r=>{n.drawable.current?n.drawable.enabled&&s(n,r):n.viewOnly||e(n,r)};function p3(n){const e=kt(n),s=Cl(n.dom.bounds()),r=n.dom.elements.board,o=n.pieces,c=n.animation.current,f=c?c.plan.anims:new Map,h=c?c.plan.fadings:new Map,p=n.draggable.current,m=_3(n),y=new Set,_=new Set,E=new Map,w=new Map;let N,k,H,j,P,V,oe,W,Ce,Z;for(k=r.firstChild;k;){if(N=k.cgKey,_S(k))if(H=o.get(N),P=f.get(N),V=h.get(N),j=k.cgPiece,k.cgDragging&&(!p||p.orig!==N)&&(k.classList.remove("dragging"),Sn(k,s(je(N),e)),k.cgDragging=!1),!V&&k.cgFading&&(k.cgFading=!1,k.classList.remove("fading")),H){if(P&&k.cgAnimating&&j===Ha(H)){const ee=je(N);ee[0]+=P[2],ee[1]+=P[3],k.classList.add("anim"),Sn(k,s(ee,e))}else k.cgAnimating&&(k.cgAnimating=!1,k.classList.remove("anim"),Sn(k,s(je(N),e)),n.addPieceZIndex&&(k.style.zIndex=zd(je(N),e)));j===Ha(H)&&(!V||!k.cgFading)?y.add(N):V&&j===Ha(V)?(k.classList.add("fading"),k.cgFading=!0):Pd(E,j,k)}else Pd(E,j,k);else if(vS(k)){const ee=k.className;m.get(N)===ee?_.add(N):Pd(w,ee,k)}k=k.nextSibling}for(const[ee,ke]of m)if(!_.has(ee)){Ce=w.get(ke),Z=Ce&&Ce.pop();const Ue=s(je(ee),e);if(Z)Z.cgKey=ee,Sn(Z,Ue);else{const He=Wn("square",ke);He.cgKey=ee,Sn(He,Ue),r.insertBefore(He,r.firstChild)}}for(const[ee,ke]of o)if(P=f.get(ee),!y.has(ee))if(oe=E.get(Ha(ke)),W=oe&&oe.pop(),W){W.cgKey=ee,W.cgFading&&(W.classList.remove("fading"),W.cgFading=!1);const Ue=je(ee);n.addPieceZIndex&&(W.style.zIndex=zd(Ue,e)),P&&(W.cgAnimating=!0,W.classList.add("anim"),Ue[0]+=P[2],Ue[1]+=P[3]),Sn(W,s(Ue,e))}else{const Ue=Ha(ke),He=Wn("piece",Ue),Ke=je(ee);He.cgPiece=Ue,He.cgKey=ee,P&&(He.cgAnimating=!0,Ke[0]+=P[2],Ke[1]+=P[3]),Sn(He,s(Ke,e)),n.addPieceZIndex&&(He.style.zIndex=zd(Ke,e)),r.appendChild(He)}for(const ee of E.values())tE(n,ee);for(const ee of w.values())tE(n,ee)}function g3(n){const e=kt(n),s=Cl(n.dom.bounds());let r=n.dom.elements.board.firstChild;for(;r;)(_S(r)&&!r.cgAnimating||vS(r))&&Sn(r,s(je(r.cgKey),e)),r=r.nextSibling}function eE(n){var e,s;const r=n.dom.elements.wrap.getBoundingClientRect(),o=n.dom.elements.container,c=r.height/r.width,f=Math.floor(r.width*window.devicePixelRatio/8)*8/window.devicePixelRatio,h=f*c;o.style.width=f+"px",o.style.height=h+"px",n.dom.bounds.clear(),(e=n.addDimensionsCssVarsTo)===null||e===void 0||e.style.setProperty("---cg-width",f+"px"),(s=n.addDimensionsCssVarsTo)===null||s===void 0||s.style.setProperty("---cg-height",h+"px")}const _S=n=>n.tagName==="PIECE",vS=n=>n.tagName==="SQUARE";function tE(n,e){for(const s of e)n.dom.elements.board.removeChild(s)}function zd(n,e){const r=n[1];return`${e?10-r:3+r}`}const Ha=n=>`${n.color} ${n.role}`;function _3(n){var e,s,r;const o=new Map;if(n.lastMove&&n.highlight.lastMove)for(const h of n.lastMove)Yn(o,h,"last-move");if(n.check&&n.highlight.check&&Yn(o,n.check,"check"),n.selected&&(Yn(o,n.selected,"selected"),n.movable.showDests)){const h=(e=n.movable.dests)===null||e===void 0?void 0:e.get(n.selected);if(h)for(const m of h)Yn(o,m,"move-dest"+(n.pieces.has(m)?" oc":""));const p=(r=(s=n.premovable.customDests)===null||s===void 0?void 0:s.get(n.selected))!==null&&r!==void 0?r:n.premovable.dests;if(p)for(const m of p)Yn(o,m,"premove-dest"+(n.pieces.has(m)?" oc":""))}const c=n.premovable.current;if(c)for(const h of c)Yn(o,h,"current-premove");else n.predroppable.current&&Yn(o,n.predroppable.current.key,"current-premove");const f=n.exploding;if(f)for(const h of f.keys)Yn(o,h,"exploding"+f.stage);return n.highlight.custom&&n.highlight.custom.forEach((h,p)=>{Yn(o,p,h)}),o}function Yn(n,e,s){const r=n.get(e);r?n.set(e,`${r} ${s}`):n.set(e,s)}function Pd(n,e,s){const r=n.get(e);r?r.push(s):n.set(e,[s])}function v3(n,e,s){const r=new Map,o=[];for(const h of n)r.set(h.hash,!1);let c=e.firstElementChild,f;for(;c;)f=c.getAttribute("cgHash"),r.has(f)?r.set(f,!0):o.push(c),c=c.nextElementSibling;for(const h of o)e.removeChild(h);for(const h of n)r.get(h.hash)||e.appendChild(s(h))}function y3(n,e){const r=n.drawable.autoShapes.filter(o=>o.piece).map(o=>({shape:o,hash:S3(o),current:!1}));v3(r,e,o=>b3(n,o,n.dom.bounds()))}function E3(n){var e;const s=kt(n),r=Cl(n.dom.bounds());let o=(e=n.dom.elements.autoPieces)===null||e===void 0?void 0:e.firstChild;for(;o;)G0(o,r(je(o.cgKey),s),o.cgScale),o=o.nextSibling}function b3(n,{shape:e,hash:s},r){var o,c,f;const h=e.orig,p=(o=e.piece)===null||o===void 0?void 0:o.role,m=(c=e.piece)===null||c===void 0?void 0:c.color,y=(f=e.piece)===null||f===void 0?void 0:f.scale,_=Wn("piece",`${p} ${m}`);return _.setAttribute("cgHash",s),_.cgKey=h,_.cgScale=y,G0(_,Cl(r)(je(h),kt(n)),y),_}const S3=n=>{var e,s,r;return[n.orig,(e=n.piece)===null||e===void 0?void 0:e.role,(s=n.piece)===null||s===void 0?void 0:s.color,(r=n.piece)===null||r===void 0?void 0:r.scale].join(",")};function C3(n,e){const s=Kk();lS(s,e||{});function r(){const o="dom"in s?s.dom.unbind:void 0,c=u3(n,s),f=ok(()=>c.board.getBoundingClientRect()),h=y=>{p3(m),c.autoPieces&&y3(m,c.autoPieces),!y&&c.svg&&Wk(m,c.svg,c.customSvg)},p=()=>{eE(m),g3(m),c.autoPieces&&E3(m)},m=s;return m.dom={elements:c,bounds:f,redraw:T3(h),redrawNow:h,unbind:o},m.drawable.prevSvgHash="",eE(m),h(!1),d3(m,p),o||(m.dom.unbind=h3(m,p)),m.events.insert&&m.events.insert(c),m}return Fk(r(),r)}function T3(n){let e=!1;return()=>{e||(e=!0,requestAnimationFrame(()=>{n(),e=!1}))}}function w3(){const{user:n,loading:e}=cm();if(!e&&!n)return q.jsx("div",{className:"page",children:q.jsx("div",{className:"card",style:{marginTop:"24px",textAlign:"center"},children:q.jsx("p",{children:"Please login to continue."})})});const{levelId:s="beginner-1",lessonId:r="lesson-1"}=gE(),o=j0,c=`iq4u_assessment_${s}_${r}`,f=I.useRef(null),h=I.useRef(null),[p,m]=I.useState(0),y=o.teaching,_=y[p],E=_?.teachingQuestion,[w,N]=I.useState([]),[k,H]=I.useState(null),j=o.assessment||[],P=j.length,[V,oe]=I.useState("idle"),[W,Ce]=I.useState(0),[Z,ee]=I.useState(j.map(()=>({answered:!1,skipped:!1,answer:null,locked:!1,isCorrect:null}))),[ke,Ue]=I.useState(null),[He,Ke]=I.useState(null),[_n,Yt]=I.useState(!1),Te=j[W],D=Z[W];I.useEffect(()=>{if(V==="in_progress")try{sessionStorage.setItem(c,JSON.stringify({assessmentIndex:W,assessmentAnswers:Z}))}catch{}},[V,W,Z,c]);const F=x=>{h.current?.destroy?.(),h.current=C3(f.current,{fen:x,draggable:{enabled:!0},selectable:{enabled:!0},movable:{free:!0,color:"both"},events:{move:(B,Y)=>{if(V==="in_progress"&&Te?.type==="pgn"&&!D.locked){const $=`${B}${Y}`;ee(re=>{const he=[...re];return he[W]={...he[W],answered:!0,answer:$},he})}},select:B=>{V==="idle"&&E?.type==="square-selection"&&N(Y=>Y.includes(B)?Y.filter($=>$!==B):[...Y,B]),V==="in_progress"&&Te?.type==="square-selection"&&!D.locked&&ee(Y=>{const $=[...Y],re=$[W].answer||[];return $[W]={...$[W],answered:!0,answer:re.includes(B)?re.filter(he=>he!==B):[...re,B]},$})}}})};I.useEffect(()=>{f.current&&(V==="idle"&&_&&(F(_.fen),N([]),H(null)),(V==="in_progress"||V==="confirm_start")&&Te&&F(Te.fen))},[p,V,W]);const te=()=>{if(!E)return;const x=E.correctSquares.slice().sort().join(","),B=w.slice().sort().join(",");H(x===B)},Se=()=>{if(!D.answered||D.locked)return;let x=!1;if(Te.type==="mcq"&&(x=D.answer===Te.correctAnswer),Te.type==="square-selection"){const B=(D.answer||[]).slice().sort().join(","),Y=Te.correctSquares.slice().sort().join(",");x=B===Y}Te.type==="pgn"&&(x=Te.correctMoves.includes(D.answer)),ee(B=>{const Y=[...B];return Y[W]={...Y[W],locked:!0,isCorrect:x},Y})},we=()=>{ee(x=>{const B=[...x];return B[W].answered||(B[W]={...B[W],skipped:!0,locked:!0,isCorrect:!1}),B}),W<P-1?Ce(x=>x+1):C()},C=async()=>{let x=0;Z.forEach($=>{$.isCorrect&&(x+=1)});const B=Math.round(x/P*100);Ue(B);const Y=B>=60;Ke(Y),oe("completed"),Yt(!0),n&&await GM({uid:n.uid,levelId:s,lessonId:r,score:B,completed:Y})};return q.jsxs("div",{className:"page",children:[q.jsxs("div",{className:"classroom-header",children:[V==="idle"&&o.meta.title,V==="confirm_start"&&"Assessment",V==="in_progress"&&`Assessment  Question ${W+1} of ${P}`,V==="completed"&&"Assessment Result"]}),q.jsxs("div",{className:"classroom-body",children:[q.jsx("div",{className:"card board-panel",children:q.jsx("div",{ref:f,className:"chessboard-container"})}),q.jsxs("div",{className:"card content-panel",children:[V==="confirm_start"&&q.jsxs(q.Fragment,{children:[q.jsx("h3",{children:"Assessment is about to begin"}),q.jsx("p",{children:"You are about to start the assessment. You cannot retry individual questions. Make sure you are ready."}),q.jsxs("div",{style:{display:"flex",gap:12},children:[q.jsx("button",{className:"btn",onClick:()=>oe("idle"),children:"Cancel"}),q.jsx("button",{className:"btn",onClick:()=>oe("in_progress"),children:"Start Assessment"})]})]}),V==="idle"&&_&&q.jsxs(q.Fragment,{children:[q.jsx("h3",{children:_.title}),q.jsx("p",{children:_.content}),E&&q.jsxs(q.Fragment,{children:[q.jsxs("p",{children:[q.jsx("strong",{children:"Selected Squares:"})," ",w.join(", ")||"None"]}),k!==null&&q.jsx("p",{style:{fontWeight:600,color:k?"#27ae60":"#c0392b"},children:k?"Correct":"Incorrect"})]})]}),V==="in_progress"&&Te&&q.jsxs(q.Fragment,{children:[q.jsx("h3",{children:Te.question}),Te.type==="mcq"&&Te.options.map(x=>q.jsxs("label",{style:{display:"block"},children:[q.jsx("input",{type:"radio",disabled:D.locked,checked:D.answer===x,onChange:()=>ee(B=>{const Y=[...B];return Y[W]={...Y[W],answered:!0,answer:x},Y})}),x]},x)),Te.type==="square-selection"&&q.jsxs(q.Fragment,{children:[q.jsxs("p",{children:[q.jsx("strong",{children:"Selected Squares:"})," ",(D.answer||[]).join(", ")||"None"]}),D.locked&&q.jsxs("p",{children:[q.jsx("strong",{children:"Correct Squares:"})," ",Te.correctSquares.join(", ")]})]}),Te.type==="pgn"&&q.jsxs("p",{children:[q.jsx("strong",{children:"Move played:"})," ",D.answer||"None"]}),D.locked&&q.jsx("p",{style:{marginTop:12,fontWeight:600,color:D.isCorrect?"#27ae60":"#c0392b"},children:D.isCorrect?"Correct":"Incorrect"})]}),V==="completed"&&_n&&q.jsxs(q.Fragment,{children:[q.jsx("h2",{children:" Congratulations!"}),q.jsxs("p",{children:["Score: ",q.jsxs("strong",{children:[ke,"%"]})]}),q.jsxs("p",{children:["Status: ",q.jsx("strong",{children:He?"Pass":"Fail"})]}),q.jsx("button",{className:"btn",onClick:()=>Yt(!1),children:"Back to Lessons"})]}),V==="completed"&&!_n&&q.jsxs("h3",{children:["Final Score: ",ke,"% (",He?"Pass":"Fail",")"]})]})]}),V!=="completed"&&V!=="confirm_start"&&q.jsxs("div",{className:"classroom-footer",children:[q.jsx("button",{className:"btn",onClick:()=>V==="idle"?m(x=>Math.max(x-1,0)):Ce(x=>Math.max(x-1,0)),children:"Previous"}),q.jsx("button",{className:"btn",onClick:V==="idle"?te:Se,disabled:V==="idle"?!E:!D.answered||D.locked,children:"Submit"}),q.jsx("button",{className:"btn",onClick:V==="idle"?()=>p===y.length-1?oe("confirm_start"):m(x=>x+1):we,children:"Next"})]})]})}function A3(){return q.jsx(QM,{children:q.jsxs(XT,{children:[q.jsx(Ko,{path:"/",element:q.jsx(WM,{})}),q.jsx(Ko,{path:"/level/:levelId",element:q.jsx(rk,{})}),q.jsx(Ko,{path:"/classroom/:levelId/:lessonId",element:q.jsx(w3,{})})]})})}JC.createRoot(document.getElementById("root")).render(q.jsx(YC.StrictMode,{children:q.jsx(Ew,{children:q.jsx(A3,{})})}));
